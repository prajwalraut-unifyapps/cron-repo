{
	"appsUsed":[
		"microsoft_entra_id"
	],
	"createdTime":1756405547637,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759169833084,
		"deployedBy":-1,
		"deployedDefinitionId":"68dacd298b303f31c2308416",
		"status":"DEPLOYED",
		"version":37,
		"workflowVersion":66
	},
	"edges":[
		{
			"fromNodeId":"s8kmR",
			"priority":0,
			"skip":false,
			"toNodeId":"DHs4q",
			"type":"next"
		},
		{
			"fromNodeId":"DHs4q",
			"priority":0,
			"skip":false,
			"toNodeId":"_vg38u",
			"type":"next"
		},
		{
			"fromNodeId":"_vg38u",
			"priority":0,
			"skip":false,
			"toNodeId":"_SlymG",
			"type":"next"
		},
		{
			"fromNodeId":"_SlymG",
			"priority":0,
			"skip":false,
			"toNodeId":"n_YBef1",
			"type":"loop"
		},
		{
			"fromNodeId":"n_YBef1",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"_SlymG",
			"type":"next"
		},
		{
			"fromNodeId":"_SlymG",
			"priority":0,
			"skip":false,
			"toNodeId":"_Em1PQ",
			"type":"next"
		},
		{
			"fromNodeId":"_Em1PQ",
			"priority":0,
			"skip":false,
			"toNodeId":"n_trQzT",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"682c18d38bb4a0449efcb71c",
	"lastModifiedBy":1,
	"lcName":"people indexer | ms entra id",
	"modifiedTime":1759229681533,
	"name":"People Indexer | MS Entra ID",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":357,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"I8BVP-1",
			"id":"s8kmR",
			"index":0,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"hasMore":{
							"type":"boolean",
							"title":"Has More"
						},
						"cursor":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Cursor"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"type":"object",
					"properties":{
						"cursor":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Cursor"
						},
						"connectionId":{
							"type":"string",
							"title":"Connection Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":361,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"I8BVP-1",
			"id":"DHs4q",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"hasMore":{
							"type":"boolean",
							"title":"Has More"
						},
						"cursor":{
							"type":"string",
							"title":"Cursor"
						},
						"appName":{
							"type":"string",
							"title":"App Name"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"appName":"microsoft_entra_id",
				"hasMore":true
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"hasMore":{
							"type":"boolean",
							"title":"Has More"
						},
						"cursor":{
							"type":"string",
							"title":"Cursor"
						},
						"appName":{
							"type":"string",
							"title":"App Name"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"microsoft_entra_id",
				"resourceVersion":844,
				"connectionId":"67f3b2dd844c7f38d78dc730",
				"resourceName":"microsoft_entra_id_search_users",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"I8BVP-1",
			"id":"_vg38u",
			"index":0,
			"inputs":{
				"outputFields":[
					"id",
					"accountEnabled",
					"ageGroup",
					"assignedLicenses",
					"assignedPlans",
					"authorizationInfo",
					"transitiveMemberOf",
					"businessPhones",
					"city",
					"companyName",
					"country",
					"createdDateTime",
					"creationType",
					"customSecurityAttributes",
					"department",
					"displayName",
					"consentProvidedForMinor",
					"scopedRoleMemberOf",
					"employeeHireDate",
					"employeeId",
					"employeeLeaveDateTime",
					"employeeOrgData",
					"employeeType",
					"faxNumber",
					"givenName",
					"identities",
					"imAddresses",
					"mail",
					"officeLocation",
					"onPremisesDistinguishedName",
					"onPremisesDomainName",
					"mobilePhone",
					"mailNickname",
					"externalUserStateChangeDateTime",
					"externalUserState",
					"isResourceAccount",
					"registeredDevices",
					"jobTitle",
					"licenseAssignmentStates",
					"legalAgeGroupClassification",
					"lastPasswordChangeDateTime",
					"memberOf",
					"userType",
					"userPrincipalName",
					"usageLocation",
					"surname",
					"streetAddress",
					"state",
					"postalCode",
					"preferredLanguage"
				],
				"nextPageCursor":"{{ s8kmR.outputs.cursor.nextCursor }}",
				"pageSize":100
			},
			"skip":false,
			"subTitle":"Microsoft Entra ID",
			"title":"Get all users",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":362,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"I8BVP-1",
			"id":"_SlymG",
			"index":0,
			"inputs":{
				"repeatMode":"BATCH",
				"listSource":"{{ _vg38u.outputs.value }}",
				"captureIterations":false,
				"batchSize":20
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":447,
				"resourceName":"callables_call_automation_batch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_SlymG@I8BVP-1@l",
			"id":"n_YBef1",
			"index":0,
			"inputs":{
				"automationId":"68567e4763c02c4a43e05ec7",
				"runtimeConnections":{
					"microsoft_entra_id":"{{ s8kmR.outputs.connectionId }}"
				},
				"synchronous":true,
				"parametersList":{
					"source":"{{ _SlymG.outputs.item }}",
					"ua:type":"mappedArray",
					"items":{
						"sourceUserInfo":"{{ _SlymG.outputs.item[0] }}"
					}
				},
				"version":"-1"
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation (batch)",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"I8BVP-1",
			"id":"_Em1PQ",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"hasMore":{
							"type":"boolean",
							"title":"Has More"
						},
						"cursor":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Cursor"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"item":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Item"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def hasNextLink = item.containsKey('@odata.nextLink')\ndef skipToken =  hasNextLink ? extractSkipToken(item['@odata.nextLink']) : null\n\nreturn [\"cursor\" : [\"nextCursor\": skipToken],\n        \"hasMore\": hasNextLink]\n\n\ndef extractSkipToken(url) {\n    // Match any param that ends with 'skipToken' (case-insensitive)\n    def pattern = ~/[?&][^=]*[sS]kip[Tt]oken=([^&]+)/\n    def matcher = url =~ pattern\n    if (matcher.find()) {\n        return matcher.group(1)\n    }\n    return \"\"\n}\n",
				"parameters":{
					"item":"{{ _vg38u.outputs }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":454,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"I8BVP-1",
			"id":"n_trQzT",
			"index":0,
			"inputs":{
				"result":{
					"hasMore":"{{ _Em1PQ.outputs.result.hasMore }}",
					"cursor":"{{ _Em1PQ.outputs.result.cursor }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":1,
	"runtimeConnectionAppNames":[
		"microsoft_entra_id"
	],
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":false,
		"enableRunLogging":false,
		"enableVariableLogging":false,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":67
}