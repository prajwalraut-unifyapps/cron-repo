{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1758731893185,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759868381523,
		"deployedBy":-1,
		"deployedDefinitionId":"68e575ddc3590c5f32d44a29",
		"status":"DEPLOYED",
		"version":22,
		"workflowVersion":30
	},
	"edges":[
		{
			"fromNodeId":"n_hCkHy",
			"priority":0,
			"skip":false,
			"toNodeId":"n_TRpgr",
			"type":"next"
		},
		{
			"fromNodeId":"n_TRpgr",
			"priority":0,
			"skip":false,
			"toNodeId":"n_L1Plm",
			"type":"next"
		},
		{
			"fromNodeId":"n_L1Plm",
			"priority":0,
			"skip":false,
			"toNodeId":"_AATVp",
			"type":"next"
		},
		{
			"fromNodeId":"_AATVp",
			"priority":0,
			"skip":false,
			"toNodeId":"eP24I",
			"type":"next"
		},
		{
			"fromNodeId":"eP24I",
			"priority":0,
			"skip":false,
			"toNodeId":"n_KWgY7",
			"type":"next"
		},
		{
			"fromNodeId":"n_KWgY7",
			"priority":0,
			"skip":false,
			"toNodeId":"XUNQr",
			"type":"loop"
		},
		{
			"fromNodeId":"XUNQr",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"n_KWgY7",
			"type":"next"
		},
		{
			"fromNodeId":"n_KWgY7",
			"priority":0,
			"skip":false,
			"toNodeId":"Oqpz0",
			"type":"next"
		},
		{
			"fromNodeId":"Oqpz0",
			"priority":0,
			"skip":false,
			"toNodeId":"n_6SYlJ",
			"type":"next"
		},
		{
			"fromNodeId":"n_6SYlJ",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Mf0bv",
			"type":"next"
		},
		{
			"fromNodeId":"n_Mf0bv",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ZKrp1",
			"type":"if"
		},
		{
			"fromNodeId":"n_ZKrp1",
			"priority":0,
			"skip":false,
			"toNodeId":"n_kg0vY",
			"type":"next"
		},
		{
			"fromNodeId":"n_Mf0bv",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_lU59S",
			"type":"next"
		},
		{
			"fromNodeId":"_lU59S",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ihlyE",
			"type":"next"
		},
		{
			"fromNodeId":"n_kg0vY",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ejxnl",
			"type":"next"
		},
		{
			"fromNodeId":"n_ihlyE",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ejxnl",
			"type":"next"
		},
		{
			"fromNodeId":"n_ejxnl",
			"priority":0,
			"skip":false,
			"toNodeId":"n_yKG7E",
			"type":"next"
		},
		{
			"fromNodeId":"n_yKG7E",
			"priority":0,
			"skip":false,
			"toNodeId":"_NXV3Q",
			"type":"next"
		},
		{
			"fromNodeId":"_NXV3Q",
			"priority":0,
			"skip":false,
			"toNodeId":"_B0Z8w",
			"type":"next"
		},
		{
			"fromNodeId":"_B0Z8w",
			"priority":0,
			"skip":false,
			"toNodeId":"n_3q9qA",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"68930c0033962cfbbceaac32",
	"lastModifiedBy":1,
	"lcName":"deep research tool | entrypoint",
	"modifiedTime":1759920863651,
	"name":"Deep Research Tool | Entrypoint",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":438,
				"resourceName":"callables_from_interface"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"n_hCkHy",
			"index":1,
			"inputs":{
				"result":{
					"additionalProperties":false,
					"type":"object",
					"required":[],
					"ua:modal":{
						"field_type":"STRING",
						"is_optional":true
					},
					"properties":{
						"toolOutput":{
							"type":"string",
							"title":"toolOutput"
						},
						"success":{
							"type":"boolean",
							"title":"Success"
						},
						"error":{
							"type":"string",
							"title":"Error"
						}
					}
				},
				"callableInterfaceId":"679484ef9c8ab5620dca9609",
				"setup":{
					"additionalProperties":false,
					"type":"object",
					"required":[],
					"ua:modal":{
						"field_type":"STRING",
						"is_optional":true
					},
					"properties":{
						"toolId":{
							"type":"string",
							"title":"toolId"
						},
						"toolInputs":{
							"type":"object",
							"title":"toolInputs"
						},
						"triggeredByAgentId":{
							"type":"string",
							"title":"Triggered By Agent Id"
						},
						"agentResponseMessageId":{
							"type":"string",
							"title":"Agent Response Message Id"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"executeUsingModel":{
							"type":"string",
							"title":"Execute Using Model"
						},
						"toolName":{
							"type":"string",
							"title":"Tool Name"
						},
						"actionId":{
							"type":"string",
							"title":"Action Id"
						},
						"toolAdditional":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Tool Additional"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger interface",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":524,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"n_TRpgr",
			"index":2,
			"inputs":{
				"automationId":"67a48d37f8f1744841dabb63",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ n_hCkHy.outputs.triggeredByAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Get Agent Details",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":131,
				"resourceName":"variable_by_unifyapps_set_session_variable",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"n_L1Plm",
			"index":3,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"deepResearchEnabled":{
							"type":"boolean",
							"title":"Deep Research Enabled"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"deepResearchEnabled":true
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"deepResearchEnabled":{
							"type":"boolean",
							"title":"Deep Research Enabled"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Set Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":535,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"_AATVp",
			"index":4,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_userId_caseId",
							"filter":{
								"operator":"CONTAINS",
								"value":"{{ n_hCkHy.outputs.caseId }}"
							}
						},
						{
							"property":"properties_instanceType",
							"filter":{
								"operator":"EQUAL",
								"value":"UI_LISTENER"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"e_ai_agent_streaming_detail",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"MULTIPLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":11148,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"eP24I",
			"index":5,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_hCkHy.outputs.caseId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"service_hub_case",
				"skipIfBlank":false,
				"updateFields":[
					{
						"fieldName":"properties.additional.generatingResponse",
						"actionType":"SET",
						"setValue":"true"
					},
					{
						"fieldName":"properties.additional.deepResearchEnabled",
						"actionType":"SET",
						"setValue":"true"
					}
				],
				"page":{
					"offset":0,
					"limit":20
				},
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":456,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"n_KWgY7",
			"index":6,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ _AATVp.outputs.objects }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For each loop",
			"type":"LOOP"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.signal_payload.payload.messageId",
					"root.signal_payload.payload.delta.path",
					"root.signal_payload.payload.delta.data",
					"root.signal_payload.payload.delta.op",
					"root.signal_payload.payload.deepResearchEnabled"
				]
			},
			"context":{
				"appName":"signals_by_unifyapps",
				"resourceVersion":75,
				"resourceName":"signals_by_unifyapps_emit_signal",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_KWgY7@_YKHPt-1@l",
			"id":"XUNQr",
			"index":7,
			"inputs":{
				"automation_id":"67b45c506083d2071be3d528",
				"with_signal_id":false,
				"waitingInstanceRuntimeType":"{{ n_KWgY7.outputs.item.properties.waitingInstanceRunTimeType }}",
				"waitingInstanceId":"{{ n_KWgY7.outputs.item.properties.waitingInstanceId }}",
				"signal_payload":{
					"payload":{
						"deepResearchEnabled":true
					},
					"completed":false
				},
				"nodeId":"SHlhb"
			},
			"skip":false,
			"subTitle":"Signals by UnifyApps",
			"title":"Emit signal",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":11,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"Oqpz0",
			"index":8,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"user_query":{
							"type":"string",
							"title":"User Query"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"toolInputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Tool Inputs"
						}
					}
				},
				"code":"def user_query = null\n\nif(binding.hasVariable('toolInputs')){\n  user_query = toolInputs?.user_query\n}\nreturn [user_query: user_query]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"toolInputs":"{{ n_hCkHy.outputs.toolInputs }}"
				}
			},
			"skip":false,
			"subTitle":"Get query",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":491,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"n_6SYlJ",
			"index":9,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"final_report":{
							"type":"string",
							"title":"Final Report"
						}
					},
					"required":[]
				}
			},
			"inputs":{},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"final_report":{
							"type":"string",
							"title":"Final Report"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Final Report",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":442,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"n_Mf0bv",
			"index":10,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_TRpgr.outputs.properties.deepResearchSettings.useProviderDeepResearch }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					},
					{
						"property":"{{ n_hCkHy.outputs.triggeredByAgentId }}",
						"filter":{
							"operator":"EQUAL",
							"value":"e_6899b822e440b7a59e970847"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":524,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Mf0bv@_YKHPt-1@y",
			"id":"n_ZKrp1",
			"index":11,
			"inputs":{
				"automationId":"68dd12ed75a316566ae409f5",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"agentId":"{{ n_hCkHy.outputs.triggeredByAgentId }}",
					"caseId":"{{ n_hCkHy.outputs.caseId }}",
					"user_query":"{{ Oqpz0.outputs.result.user_query }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":481,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Mf0bv@_YKHPt-1@y",
			"id":"n_kg0vY",
			"index":12,
			"inputs":{
				"variables":[
					{
						"source":"{{ n_6SYlJ.outputs.final_report }}",
						"value":"{{ n_ZKrp1.outputs.Final_report }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":464,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Mf0bv@_YKHPt-1@n",
			"id":"_lU59S",
			"index":13,
			"inputs":{
				"automationId":"6891d10dd46f679ce7a212fa",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"user_query":"{{ Oqpz0.outputs.result.user_query }}",
					"caseId":"{{ n_hCkHy.outputs.caseId }}",
					"agentId":"{{ n_hCkHy.outputs.triggeredByAgentId }}",
					"message_ID":"{{ n_hCkHy.outputs.agentResponseMessageId }}"
				}
			},
			"skip":false,
			"subTitle":"Research Plan and Draft Generator | Execute Plan",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":481,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Mf0bv@_YKHPt-1@n",
			"id":"n_ihlyE",
			"index":14,
			"inputs":{
				"variables":[
					{
						"source":"{{ n_6SYlJ.outputs.final_report }}",
						"value":"{{ _lU59S.outputs.final_output }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":464,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"n_ejxnl",
			"index":15,
			"inputs":{
				"automationId":"6891d10dd46f679ce7a212fa",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"user_query":"{{ Oqpz0.outputs.result.user_query }}",
					"caseId":"{{ n_hCkHy.outputs.caseId }}",
					"agentId":"{{ n_hCkHy.outputs.triggeredByAgentId }}",
					"message_ID":"{{ n_hCkHy.outputs.agentResponseMessageId }}"
				}
			},
			"skip":true,
			"subTitle":"Research Plan and Draft Generator | Execute Plan",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":516,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"n_yKG7E",
			"index":16,
			"inputs":{
				"automationId":"685e54fe32228032eecf1eec",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{}
			},
			"skip":false,
			"subTitle":"Skip Final Answer Generation",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":11148,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"_NXV3Q",
			"index":17,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_hCkHy.outputs.caseId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"service_hub_case",
				"skipIfBlank":false,
				"updateFields":[
					{
						"fieldName":"properties.additional.generatingResponse",
						"actionType":"SET",
						"setValue":"false"
					},
					{
						"fieldName":"properties.additional.deepResearchEnabled",
						"actionType":"SET",
						"setValue":"false"
					}
				],
				"page":{
					"offset":0,
					"limit":20
				},
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":131,
				"resourceName":"variable_by_unifyapps_set_session_variable",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"_B0Z8w",
			"index":18,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"deepResearchEnabled":{
							"type":"boolean",
							"title":"Deep Research Enabled"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"deepResearchEnabled":false
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"deepResearchEnabled":{
							"type":"boolean",
							"title":"Deep Research Enabled"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Set Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":457,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_YKHPt-1",
			"id":"n_3q9qA",
			"index":19,
			"inputs":{
				"result":{
					"toolOutput":"{{ n_6SYlJ.outputs.final_report }}",
					"success":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":-1,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":false,
		"enableRunLogging":false,
		"enableVariableLogging":false,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":31
}