{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1756405549398,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760102255839,
		"deployedBy":1,
		"deployedDefinitionId":"68e9076faa15f745769e0e22",
		"status":"DEPLOYED",
		"version":66,
		"workflowVersion":77
	},
	"edges":[
		{
			"fromNodeId":"52U87",
			"priority":0,
			"skip":false,
			"toNodeId":"n_b3nOA",
			"type":"next"
		},
		{
			"fromNodeId":"n_b3nOA",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"_WJoKy",
			"type":"error"
		},
		{
			"fromNodeId":"_WJoKy",
			"priority":0,
			"skip":false,
			"toNodeId":"n_BJ6nI",
			"type":"next"
		},
		{
			"fromNodeId":"n_b3nOA",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Sdtl0",
			"type":"next"
		},
		{
			"fromNodeId":"n_BJ6nI",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Sdtl0",
			"type":"next"
		},
		{
			"fromNodeId":"n_Sdtl0",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_1vKZN",
			"type":"if"
		},
		{
			"fromNodeId":"n_1vKZN",
			"priority":0,
			"skip":false,
			"toNodeId":"n_p8UQc",
			"type":"next"
		},
		{
			"fromNodeId":"n_p8UQc",
			"priority":0,
			"skip":false,
			"toNodeId":"_gqbW0",
			"type":"next"
		},
		{
			"fromNodeId":"_gqbW0",
			"priority":0,
			"skip":false,
			"toNodeId":"n_oQxbB",
			"type":"next"
		},
		{
			"fromNodeId":"n_Sdtl0",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_oQxbB",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"68555b987efca51b00fb9f9d",
	"lastModifiedBy":-1,
	"lcName":"on new app people mapping",
	"modifiedTime":1760117658977,
	"name":"On new App People Mapping",
	"nodes":[
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":448,
				"resourceName":"storage_by_unifyapps_on_any_change"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"R8H60-1",
			"id":"52U87",
			"index":1,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"{{ 52U87.outputs.object.properties.syncStatus }}",
							"filter":{
								"operator":"EQUAL",
								"value":"DRAFT"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"app_people_mapping"
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Changed record",
			"trigger":{
				"type":"EVENT"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":458,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"R8H60-1",
			"id":"n_b3nOA",
			"index":2,
			"inputs":{
				"automationId":"68555c2480c25d503787a0e5",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"appName":"{{ 52U87.outputs.object.properties.appName }}",
					"connectionId":"{{ 52U87.outputs.object.properties.connectionId }}",
					"appPeopleMappingId":"{{ 52U87.outputs.object.id }}"
				}
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"global":false
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"People Indexer Wrapper",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":369,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_b3nOA@R8H60-1@error",
			"id":"_WJoKy",
			"index":3,
			"inputs":{
				"recordId":"{{ 52U87.outputs.object.id }}",
				"writeThroughSessionVariables":false,
				"object_type":"app_people_mapping",
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.syncStatus",
						"actionType":"SET",
						"setValue":"FAILED"
					}
				]
			},
			"skip":false,
			"subTitle":"Status = FAILED",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"stop"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_b3nOA@R8H60-1@error",
			"id":"n_BJ6nI",
			"index":4,
			"skip":false,
			"subTitle":"Stop",
			"title":"Stop",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"R8H60-1",
			"id":"n_Sdtl0",
			"index":5,
			"inputs":{
				"filters":[
					{
						"property":"{{ 52U87.outputs.object.properties.triggerType }}",
						"filter":{
							"operator":"EQUAL",
							"value":"SCHEDULED"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Schedule added",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Sdtl0@R8H60-1@y",
			"id":"n_1vKZN",
			"index":6,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"cron":{
							"type":"string",
							"title":"cron"
						},
						"expression":{
							"type":"string",
							"title":"expression"
						},
						"daysOfMonth":{
							"type":"array",
							"items":{
								"type":"integer"
							},
							"title":"daysOfMonth"
						},
						"interval":{
							"type":"integer",
							"title":"interval"
						},
						"daysOfWeek":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"daysOfWeek"
						},
						"frequency":{
							"type":"string",
							"title":"frequency"
						},
						"triggerAt":{
							"type":"string",
							"title":"triggerAt"
						}
					},
					"additionalProperties":false
				},
				"input":{
					"type":"object",
					"properties":{
						"inputs":{
							"type":"string",
							"title":"Inputs"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.time.*\nimport java.time.format.DateTimeFormatter\n\ndef scheduleMap = new HashMap<>(inputs)\n\nswitch (scheduleMap.cron?.toUpperCase()) {\n    case \"EXPRESSION\":\n        scheduleMap.cron = \"CRON_EXPRESSION\"\n        scheduleMap.interval = null\n        scheduleMap.frequency = null\n        scheduleMap.daysOfWeek = null\n        scheduleMap.daysOfMonth = null\n        break\n    case \"INTERVAL\":\n        scheduleMap.cron = \"RECURRING\"\n        scheduleMap.expression = null\n        switch (scheduleMap.frequency?.toUpperCase()) {\n        case [\"MINUTES\", \"HOURS\", \"DAYS\"]:\n            scheduleMap.daysOfWeek = null\n            scheduleMap.daysOfMonth = null\n            break\n        case \"WEEKS\":\n            scheduleMap.daysOfMonth = null\n            break\n        case \"MONTHS\":\n            scheduleMap.daysOfWeek = null\n            break\n        break\n    }\n}\n\nreturn scheduleMap",
				"parameters":{
					"inputs":"{{ 52U87.outputs.object.properties.schedulingDetails }}"
				}
			},
			"skip":false,
			"subTitle":"Parse Inputs",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":464,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Sdtl0@R8H60-1@y",
			"id":"n_p8UQc",
			"index":7,
			"inputs":{
				"automationId":"6867ed5ad467b02057cb4ac8",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"unit":"MINUTES",
					"duration":5
				}
			},
			"skip":false,
			"subTitle":"Get nextFireTime",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":451,
				"resourceName":"callables_schedule_a_callable",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Sdtl0@R8H60-1@y",
			"id":"_gqbW0",
			"index":8,
			"inputs":{
				"runtimeConnections":{},
				"schedule_type":"{{ n_1vKZN.outputs.result.cron }}",
				"expression":"{{ n_1vKZN.outputs.result.expression }}",
				"timezone":"Asia/Calcutta",
				"daysOfMonth":"{{ n_1vKZN.outputs.result.daysOfMonth }}",
				"cancel_existing":true,
				"daysOfWeek":"{{ n_1vKZN.outputs.result.daysOfWeek }}",
				"version":"-1",
				"schedule_name":"people_indexer_{{ 52U87.outputs.object.properties.appName }}",
				"automation_id":"68555c2480c25d503787a0e5",
				"start_time":"{{ n_p8UQc.outputs.nextFireTime }}",
				"unit":"{{ n_1vKZN.outputs.result.frequency }}",
				"interval":"{{ n_1vKZN.outputs.result.interval }}",
				"parameters":{
					"appName":"{{ 52U87.outputs.object.properties.appName }}",
					"connectionId":"{{ 52U87.outputs.object.properties.connectionId }}",
					"appPeopleMappingId":"{{ 52U87.outputs.object.id }}"
				}
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"global":false
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Schedule ppl Indexing",
			"title":"Schedule callable",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"stop"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"R8H60-1",
			"id":"n_oQxbB",
			"index":9,
			"skip":false,
			"subTitle":"Stop",
			"title":"Stop",
			"type":"STOP"
		}
	],
	"ownerUserId":1,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"version":79
}