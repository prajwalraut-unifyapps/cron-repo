{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1730142852634,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1739609307603,
		"deployedBy":34,
		"deployedDefinitionId":"679240179aa3f66277b27d43",
		"status":"DEPLOYED",
		"version":4,
		"workflowVersion":158
	},
	"edges":[
		{
			"fromNodeId":"5OM35",
			"priority":0,
			"skip":false,
			"toNodeId":"D6ybb",
			"type":"next"
		},
		{
			"fromNodeId":"D6ybb",
			"priority":0,
			"skip":false,
			"toNodeId":"Tzi29",
			"type":"next"
		},
		{
			"fromNodeId":"Tzi29",
			"priority":0,
			"skip":false,
			"toNodeId":"T40xS",
			"type":"next"
		},
		{
			"fromNodeId":"T40xS",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"zgeM2",
			"type":"if"
		},
		{
			"fromNodeId":"zgeM2",
			"priority":0,
			"skip":false,
			"toNodeId":"ZdCOC",
			"type":"next"
		},
		{
			"fromNodeId":"T40xS",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"ZdCOC",
			"type":"next"
		},
		{
			"fromNodeId":"ZdCOC",
			"priority":0,
			"skip":false,
			"toNodeId":"4irHP",
			"type":"next"
		},
		{
			"fromNodeId":"4irHP",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"qRQuP",
			"type":"if"
		},
		{
			"fromNodeId":"qRQuP",
			"priority":0,
			"skip":false,
			"toNodeId":"KQfXn",
			"type":"next"
		},
		{
			"fromNodeId":"4irHP",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"KQfXn",
			"type":"next"
		},
		{
			"fromNodeId":"KQfXn",
			"priority":0,
			"skip":false,
			"toNodeId":"zM8OW",
			"type":"next"
		},
		{
			"fromNodeId":"zM8OW",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"cDYK7",
			"type":"if"
		},
		{
			"fromNodeId":"cDYK7",
			"priority":0,
			"skip":false,
			"toNodeId":"wrIka",
			"type":"next"
		},
		{
			"fromNodeId":"zM8OW",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"wrIka",
			"type":"next"
		},
		{
			"fromNodeId":"wrIka",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"hgzCt",
			"type":"if"
		},
		{
			"fromNodeId":"hgzCt",
			"priority":0,
			"skip":false,
			"toNodeId":"X7DKZ",
			"type":"next"
		},
		{
			"fromNodeId":"X7DKZ",
			"priority":0,
			"skip":false,
			"toNodeId":"o053E",
			"type":"next"
		},
		{
			"fromNodeId":"o053E",
			"priority":0,
			"skip":false,
			"toNodeId":"OzLk9",
			"type":"next"
		},
		{
			"fromNodeId":"OzLk9",
			"priority":0,
			"skip":false,
			"toNodeId":"mB9Xt",
			"type":"next"
		},
		{
			"fromNodeId":"mB9Xt",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"69y5o",
			"type":"if"
		},
		{
			"fromNodeId":"69y5o",
			"priority":0,
			"skip":false,
			"toNodeId":"qbeLl",
			"type":"next"
		},
		{
			"fromNodeId":"tEF4B",
			"priority":0,
			"skip":false,
			"toNodeId":"qbeLl",
			"type":"next"
		},
		{
			"fromNodeId":"uOIId",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"qbeLl",
			"type":"next"
		},
		{
			"fromNodeId":"mB9Xt",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"qbeLl",
			"type":"next"
		},
		{
			"fromNodeId":"wrIka",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"qbeLl",
			"type":"next"
		},
		{
			"fromNodeId":"qbeLl",
			"priority":0,
			"skip":false,
			"toNodeId":"KWAgr",
			"type":"loop"
		},
		{
			"fromNodeId":"KWAgr",
			"priority":0,
			"skip":false,
			"toNodeId":"A46bl",
			"type":"next"
		},
		{
			"fromNodeId":"A46bl",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"44CG6",
			"type":"if"
		},
		{
			"fromNodeId":"44CG6",
			"priority":0,
			"skip":false,
			"toNodeId":"ojKYO",
			"type":"next"
		},
		{
			"fromNodeId":"A46bl",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"ojKYO",
			"type":"next"
		},
		{
			"fromNodeId":"ojKYO",
			"priority":0,
			"skip":false,
			"toNodeId":"a1GjB",
			"type":"next"
		},
		{
			"fromNodeId":"a1GjB",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"hg3jY",
			"type":"if"
		},
		{
			"fromNodeId":"hg3jY",
			"priority":0,
			"skip":false,
			"toNodeId":"4KtIB",
			"type":"next"
		},
		{
			"fromNodeId":"a1GjB",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"4KtIB",
			"type":"next"
		},
		{
			"fromNodeId":"4KtIB",
			"priority":0,
			"skip":false,
			"toNodeId":"HNbAt",
			"type":"next"
		},
		{
			"fromNodeId":"HNbAt",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"Jm7Ey",
			"type":"if"
		},
		{
			"fromNodeId":"Jm7Ey",
			"priority":0,
			"skip":false,
			"toNodeId":"7kPKy",
			"type":"next"
		},
		{
			"fromNodeId":"HNbAt",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"7kPKy",
			"type":"next"
		},
		{
			"fromNodeId":"7kPKy",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"UBHlN",
			"type":"next"
		},
		{
			"fromNodeId":"UBHlN",
			"priority":0,
			"skip":false,
			"toNodeId":"Nt0Hx",
			"type":"next"
		},
		{
			"fromNodeId":"Nt0Hx",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"WHWL9",
			"type":"if"
		},
		{
			"fromNodeId":"WHWL9",
			"priority":0,
			"skip":false,
			"toNodeId":"KmeaG",
			"type":"next"
		},
		{
			"fromNodeId":"Nt0Hx",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"KmeaG",
			"type":"next"
		},
		{
			"fromNodeId":"KmeaG",
			"priority":0,
			"skip":false,
			"toNodeId":"0aRsI",
			"type":"next"
		},
		{
			"fromNodeId":"0aRsI",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"jFzqf",
			"type":"if"
		},
		{
			"fromNodeId":"jFzqf",
			"priority":0,
			"skip":false,
			"toNodeId":"QouCs",
			"type":"next"
		},
		{
			"fromNodeId":"0aRsI",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"QouCs",
			"type":"next"
		},
		{
			"fromNodeId":"QouCs",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"zJnET",
			"type":"if"
		},
		{
			"fromNodeId":"zJnET",
			"priority":0,
			"skip":false,
			"toNodeId":"4Ak9v",
			"type":"next"
		},
		{
			"fromNodeId":"4Ak9v",
			"priority":0,
			"skip":false,
			"toNodeId":"aUK0k",
			"type":"next"
		},
		{
			"fromNodeId":"aUK0k",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"IJQcH",
			"type":"if"
		},
		{
			"fromNodeId":"7kPKy",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"ANutY",
			"type":"if"
		},
		{
			"fromNodeId":"IJQcH",
			"priority":0,
			"skip":false,
			"toNodeId":"ANutY",
			"type":"next"
		},
		{
			"fromNodeId":"aUK0k",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"ANutY",
			"type":"next"
		},
		{
			"fromNodeId":"QouCs",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"ANutY",
			"type":"next"
		},
		{
			"fromNodeId":"ANutY",
			"priority":0,
			"skip":false,
			"toNodeId":"uOIId",
			"type":"next"
		},
		{
			"fromNodeId":"uOIId",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"tEF4B",
			"type":"if"
		},
		{
			"fromNodeId":"qbeLl",
			"priority":0,
			"skip":false,
			"toNodeId":"nMXtW",
			"type":"next"
		},
		{
			"fromNodeId":"nMXtW",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"jUk1D",
			"type":"if"
		},
		{
			"fromNodeId":"nMXtW",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"nyKx1",
			"type":"next"
		},
		{
			"fromNodeId":"jUk1D",
			"priority":0,
			"skip":false,
			"toNodeId":"W0Wyi",
			"type":"next"
		},
		{
			"fromNodeId":"nyKx1",
			"priority":0,
			"skip":false,
			"toNodeId":"W0Wyi",
			"type":"next"
		}
	],
	"id":"66f7cd87eb339f7e736ea022",
	"lastModifiedBy":4130,
	"lcName":"createbusinessfaultsorinfo (dev)",
	"modifiedTime":1760087110939,
	"name":"createBusinessFaultsOrInfo (dev)",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":0,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"5OM35",
			"index":0,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"businessFaults":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"BusinessFault":{
										"type":"object",
										"properties":{
											"ServiceFaultReason":{
												"type":"string",
												"title":"ServiceFaultReason"
											},
											"isRepeatable":{
												"type":"string",
												"title":"isRepeatable"
											},
											"ServiceFault":{
												"type":"string",
												"title":"ServiceFault"
											},
											"ServiceFaultClass":{
												"type":"string",
												"title":"ServiceFaultClass"
											},
											"Attributes":{
												"type":"object",
												"properties":{
													"Attribut":{
														"type":"array",
														"items":{
															"type":"object",
															"properties":{
																"Explanation":{
																	"type":"string",
																	"title":"Explanation"
																},
																"Value":{
																	"type":"string",
																	"title":"Value"
																},
																"Name":{
																	"type":"string",
																	"title":"Name"
																}
															},
															"additionalProperties":false
														},
														"title":"Attribut",
														"required":[]
													}
												},
												"additionalProperties":false,
												"title":"Attributes",
												"required":[]
											},
											"ServiceFaultSeverity":{
												"type":"string",
												"title":"ServiceFaultSeverity"
											},
											"ServiceName":{
												"type":"string",
												"title":"ServiceName"
											},
											"ServiceVersion":{
												"type":"string",
												"title":"ServiceVersion"
											},
											"BBFN":{
												"type":"object",
												"properties":{
													"CustomerFunctions":{
														"type":"string",
														"title":"CustomerFunctions"
													}
												},
												"additionalProperties":false,
												"title":"BBFN",
												"required":[]
											}
										},
										"additionalProperties":false,
										"title":"BusinessFault",
										"required":[]
									}
								},
								"additionalProperties":false
							},
							"title":"businessFaults",
							"required":[]
						},
						"Info":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"AngebotsID":{
										"type":"string",
										"title":"AngebotsID"
									},
									"InformationsCode":{
										"type":"string",
										"title":"InformationsCode"
									},
									"InformationsName":{
										"type":"string",
										"title":"InformationsName"
									},
									"InformationsBeschreibung":{
										"type":"string",
										"title":"InformationsBeschreibung"
									}
								},
								"additionalProperties":false
							},
							"title":"Info"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"type":"object",
					"properties":{
						"determinedSalesChannel":{
							"type":"string",
							"title":"determinedSalesChannel"
						},
						"request":{
							"type":"object",
							"properties":{
								"Angebot":{
									"type":"object",
									"properties":{
										"Angebotsposition":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"Produkt":{
														"type":"object",
														"properties":{
															"ID":{
																"type":"string",
																"title":"ID"
															}
														},
														"additionalProperties":false,
														"title":"Produkt",
														"required":[]
													},
													"Angebotspositionsnummer":{
														"type":"string",
														"title":"Angebotspositionsnummer"
													},
													"Aktion":{
														"type":"string",
														"title":"Aktion"
													},
													"Konditionsalternativen":{
														"type":"array",
														"items":{
															"type":"string"
														},
														"title":"Konditionsalternativen"
													}
												},
												"additionalProperties":false
											},
											"title":"Angebotsposition",
											"required":[]
										},
										"PreisbildungsdatumFuerZubuchpositionen":{
											"type":"string",
											"title":"PreisbildungsdatumFuerZubuchpositionen"
										},
										"Vertriebspunktnummer":{
											"type":"string",
											"title":"Vertriebspunktnummer"
										},
										"ID":{
											"type":"string",
											"title":"ID"
										},
										"Geschaeftsfall":{
											"type":"string",
											"title":"Geschaeftsfall"
										},
										"Wunschtermin":{
											"type":"string",
											"title":"Wunschtermin"
										},
										"erfassendesSystem":{
											"type":"string",
											"title":"erfassendesSystem"
										},
										"Vertriebsweg":{
											"type":"string",
											"title":"Vertriebsweg"
										},
										"VertriebsOrganisationsNummer":{
											"type":"string",
											"title":"VertriebsOrganisationsNummer"
										}
									},
									"additionalProperties":false,
									"title":"Angebot",
									"required":[]
								},
								"Bestand":{
									"type":"object",
									"properties":{
										"Vertrag":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"Vertragsgegenstand":{
														"type":"object",
														"properties":{
															"ProduktID":{
																"type":"string",
																"title":"ProduktID"
															}
														},
														"additionalProperties":false,
														"title":"Vertragsgegenstand",
														"required":[]
													}
												},
												"additionalProperties":false,
												"required":[]
											},
											"title":"Vertrag"
										}
									},
									"additionalProperties":false,
									"title":"Bestand",
									"required":[]
								}
							},
							"additionalProperties":false,
							"title":"request",
							"required":[]
						},
						"poqValidateResponse":{
							"type":"object",
							"properties":{
								"productOfferingQualificationItems":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"productOfferingRef":{
												"type":"object",
												"properties":{
													"id":{
														"type":"string",
														"title":"id"
													},
													"Name":{
														"type":"string",
														"title":"Name"
													},
													"group":{
														"type":"string",
														"title":"group"
													},
													"characteristics":{
														"type":"array",
														"items":{
															"type":"object",
															"properties":{
																"name":{
																	"type":"string",
																	"title":"name"
																},
																"value":{
																	"type":"string",
																	"title":"value"
																}
															},
															"additionalProperties":false,
															"required":[]
														},
														"title":"characteristics"
													}
												},
												"additionalProperties":false,
												"title":"productOfferingRef",
												"required":[]
											},
											"qualificationItemResult":{
												"type":"string",
												"title":"qualificationItemResult"
											},
											"cartItemId":{
												"type":"string",
												"title":"cartItemId"
											},
											"eligibilityUnavailabilityReasons":{
												"type":"array",
												"items":{
													"type":"object",
													"properties":{
														"code":{
															"type":"string",
															"title":"code"
														},
														"description":{
															"type":"string",
															"title":"description"
														}
													},
													"additionalProperties":false,
													"required":[]
												},
												"title":"eligibilityUnavailabilityReasons"
											}
										},
										"additionalProperties":false
									},
									"title":"productOfferingQualificationItems",
									"required":[]
								},
								"expectedQualificationDate":{
									"type":"string",
									"title":"expectedQualificationDate"
								},
								"qualificationResult":{
									"type":"string",
									"title":"qualificationResult"
								}
							},
							"additionalProperties":false,
							"title":"poqValidateResponse",
							"required":[]
						},
						"products":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"legacyProductNumber":{
										"type":"string",
										"title":"legacyProductNumber"
									},
									"dataGridResponse":{
										"type":"object",
										"properties":{
											"productId":{
												"type":"string",
												"title":"productId"
											},
											"productRelationship":{
												"type":"array",
												"items":{
													"type":"object",
													"properties":{
														"product":{
															"type":"object",
															"properties":{
																"foreignId":{
																	"type":"string",
																	"title":"foreignId"
																},
																"name":{
																	"type":"string",
																	"title":"name"
																}
															},
															"additionalProperties":false,
															"title":"product",
															"required":[]
														},
														"relationshipType":{
															"type":"string",
															"title":"relationshipType"
														}
													},
													"additionalProperties":false
												},
												"title":"productRelationship",
												"required":[]
											},
											"productName":{
												"type":"string",
												"title":"productName"
											},
											"productType":{
												"type":"string",
												"title":"productType"
											},
											"characteristic":{
												"type":"array",
												"items":{
													"type":"object",
													"properties":{
														"name":{
															"type":"string",
															"title":"name"
														},
														"value":{
															"type":"string",
															"title":"value"
														}
													},
													"additionalProperties":false
												},
												"title":"characteristic",
												"required":[]
											},
											"salesChannels":{
												"type":"array",
												"items":{
													"type":"object",
													"properties":{
														"salesChannel":{
															"type":"string",
															"title":"salesChannel"
														},
														"salesStatus":{
															"type":"string",
															"title":"salesStatus"
														}
													},
													"additionalProperties":false
												},
												"title":"salesChannels",
												"required":[]
											}
										},
										"additionalProperties":false,
										"title":"dataGridResponse",
										"required":[]
									}
								},
								"additionalProperties":false
							},
							"title":"products",
							"required":[]
						},
						"pcmCalculateResponse":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"productOfferingPrices":{
										"type":"object",
										"properties":{
											"id":{
												"type":"string",
												"title":"id"
											}
										},
										"additionalProperties":false,
										"title":"productOfferingPrices",
										"required":[]
									},
									"id":{
										"type":"string",
										"title":"id"
									},
									"name":{
										"type":"string",
										"title":"name"
									}
								},
								"additionalProperties":false
							},
							"title":"pcmCalculateResponse",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger from automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"D6ybb",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"type":"object",
									"properties":{
										"ServiceFaultReason":{
											"type":"string",
											"title":"ServiceFaultReason"
										},
										"isRepeatable":{
											"type":"string",
											"title":"isRepeatable"
										},
										"ServiceName":{
											"type":"string",
											"title":"ServiceName"
										},
										"ServiceFault":{
											"type":"string",
											"title":"ServiceFault"
										},
										"ServiceFaultClass":{
											"type":"string",
											"title":"ServiceFaultClass"
										},
										"BBFN":{
											"type":"object",
											"properties":{
												"CustomerFunctions":{
													"type":"string",
													"title":"CustomerFunctions"
												}
											},
											"title":"BBFN",
											"additionalProperties":false
										},
										"Attributes":{
											"type":"object",
											"properties":{
												"Attribut":{
													"type":"array",
													"items":{
														"type":"object",
														"properties":{
															"Explanation":{
																"type":"string",
																"title":"Explanation"
															},
															"Value":{
																"type":"string",
																"title":"Value"
															},
															"Name":{
																"type":"string",
																"title":"Name"
															}
														},
														"additionalProperties":false
													},
													"title":"Attribut"
												}
											},
											"title":"Attributes",
											"additionalProperties":false
										},
										"ServiceVersion":{
											"type":"string",
											"title":"ServiceVersion"
										},
										"ServiceFaultSeverity":{
											"type":"string",
											"title":"ServiceFaultSeverity"
										}
									},
									"additionalProperties":false
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"BusinessFaults",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"BusinessFaults",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"ServiceFaultReason":{
										"type":"string",
										"title":"ServiceFaultReason"
									},
									"isRepeatable":{
										"type":"string",
										"title":"isRepeatable"
									},
									"ServiceName":{
										"type":"string",
										"title":"ServiceName"
									},
									"ServiceFault":{
										"type":"string",
										"title":"ServiceFault"
									},
									"ServiceFaultClass":{
										"type":"string",
										"title":"ServiceFaultClass"
									},
									"BBFN":{
										"type":"object",
										"properties":{
											"CustomerFunctions":{
												"type":"string",
												"title":"CustomerFunctions"
											}
										},
										"title":"BBFN",
										"additionalProperties":false
									},
									"Attributes":{
										"type":"object",
										"properties":{
											"Attribut":{
												"type":"array",
												"items":{
													"type":"object",
													"properties":{
														"Explanation":{
															"type":"string",
															"title":"Explanation"
														},
														"Value":{
															"type":"string",
															"title":"Value"
														},
														"Name":{
															"type":"string",
															"title":"Name"
														}
													},
													"additionalProperties":false
												},
												"title":"Attribut"
											}
										},
										"title":"Attributes",
										"additionalProperties":false
									},
									"ServiceVersion":{
										"type":"string",
										"title":"ServiceVersion"
									},
									"ServiceFaultSeverity":{
										"type":"string",
										"title":"ServiceFaultSeverity"
									}
								}
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"BusinessFaults",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"Tzi29",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"AngebotVPNR":{
							"type":"string",
							"title":"AngebotVPNR"
						},
						"AngebotSalesChannel":{
							"type":"string",
							"title":"AngebotSalesChannel"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"code":"def Boolean isBusinessFault() {\r\n\tdef salesChannel = \"\"\r\n\tdef vpnr = \"\"\r\n\tif (binding.variables.containsKey('AngebotSalesChannel')) {\r\n\t\tif(AngebotSalesChannel) salesChannel = AngebotSalesChannel\r\n\t}\r\n\tif (binding.variables.containsKey('AngebotVPNR')) {\r\n\t\tif(AngebotVPNR) vpnr = AngebotVPNR\r\n\t}\r\n\treturn salesChannel == \"\" && vpnr == \"\" \r\n}\r\n\r\ndef businessFault = null\r\nif(isBusinessFault()) {\r\n\tbusinessFault = [\r\n\t\t\"ServiceFault\": \"50308\",\r\n\t\t\"ServiceFaultClass\": \"PermissionFault\",\r\n\t\t\"ServiceFaultReason\": \"Der Vertriebsweg und VPNR (GeschaeftseinheitsID) dürfen nicht gleichzeitig fehlen.\",\r\n\t\t\"ServiceFaultSeverity\": \"MAJO\",\r\n\t\t\"isRepeatable\": \"false\"\r\n\t]\r\n}\r\n\r\n\r\nbusinessFault\r\n",
				"isAsync":false,
				"parameters":{
					"AngebotVPNR":"{{ 5OM35.outputs.request.Angebot.Vertriebspunktnummer }}",
					"AngebotSalesChannel":"{{ 5OM35.outputs.request.Angebot.Vertriebsweg }}"
				}
			},
			"skip":false,
			"subTitle":"Check BF 50308 VPNR and SalesChannel missing",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"T40xS",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ Tzi29.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50308?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"T40xS@GfEE4-1@y",
			"id":"zgeM2",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"ServiceFaultReason":"{{ Tzi29.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ Tzi29.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ Tzi29.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ Tzi29.outputs.result.ServiceFaultClass }}",
					"Attributes":{
						"Attribut":{
							"source":"{{ Tzi29.outputs.result.Attributes.Attribut }}",
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ Tzi29.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ Tzi29.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ Tzi29.outputs.result.Attributes.Attribut[0].Name }}"
							}
						}
					},
					"ServiceFaultSeverity":"{{ Tzi29.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50308",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"ZdCOC",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"AngebotVPNR":{
							"type":"string",
							"title":"AngebotVPNR"
						},
						"determinedSalesChannel":{
							"type":"string",
							"title":"determinedSalesChannel"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"code":"def Boolean isDefaultSalesChannel(salesChannel) {\r\n\treturn salesChannel == \"99\"\r\n}\r\n\r\ndef Boolean haveValidSalesChannel() {\r\n\tif (binding.variables.containsKey('determinedSalesChannel')) {\r\n\t\tif(determinedSalesChannel) {\r\n\t\t\tif(determinedSalesChannel != \"\") {\r\n\t\t\t\t return !isDefaultSalesChannel(determinedSalesChannel)\r\n\t\t\t}\r\n\t\t} \r\n\t}\r\n\treturn false\r\n}\r\n\r\ndef Boolean vpnrExists() {\r\n\tif (binding.variables.containsKey('AngebotVPNR')) {\r\n\t\tif(AngebotVPNR) {\r\n\t\t\tif(AngebotVPNR != \"\")\r\n\t\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}\r\n\r\ndef Boolean isBusinessFault() {\r\n\treturn vpnrExists() && !haveValidSalesChannel() \r\n}\r\n\r\ndef businessFault = null\r\nif(isBusinessFault()) {\r\n\tbusinessFault = [\r\n\t\t\"ServiceFault\": \"50309\",\r\n\t\t\"ServiceFaultClass\": \"PermissionFault\",\r\n\t\t\"ServiceFaultReason\": String.format(\"Die VPNR %s konnte nicht gefunden werden.\", AngebotVPNR),\r\n\t\t\"ServiceFaultSeverity\": \"MAJO\",\r\n\t\t\"isRepeatable\": \"false\"\r\n\t]\r\n}\r\n\r\nbusinessFault\r\n",
				"isAsync":false,
				"parameters":{
					"AngebotVPNR":"{{ 5OM35.outputs.request.Angebot.Vertriebspunktnummer }}",
					"determinedSalesChannel":"{{ 5OM35.outputs.determinedSalesChannel }}"
				}
			},
			"skip":false,
			"subTitle":"Check BF 50309 SalesChannel not found",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"4irHP",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ ZdCOC.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50309?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4irHP@GfEE4-1@y",
			"id":"qRQuP",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"ServiceFaultReason":"{{ ZdCOC.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ ZdCOC.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ ZdCOC.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ ZdCOC.outputs.result.ServiceFaultClass }}",
					"Attributes":{
						"Attribut":{
							"source":"{{ ZdCOC.outputs.result.Attributes.Attribut }}",
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ ZdCOC.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ ZdCOC.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ ZdCOC.outputs.result.Attributes.Attribut[0].Name }}"
							}
						}
					},
					"ServiceFaultSeverity":"{{ ZdCOC.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50309",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"KQfXn",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"determinedSalesChannel":{
							"type":"string",
							"title":"determinedSalesChannel"
						},
						"AngebotSalesChannel":{
							"type":"string",
							"title":"AngebotSalesChannel"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"code":"def Boolean existsNotEmpty(String variableKey) {\r\n\tif (binding.variables.containsKey(variableKey)) {\r\n\t\tdef var = binding.getVariable(variableKey)\r\n\t\tif(var) {\r\n\t\t\tif(var != \"\")\r\n\t\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}\r\n\r\ndef Boolean isBusinessFault() {\r\n\tif (existsNotEmpty('AngebotSalesChannel') && existsNotEmpty('determinedSalesChannel')) {\r\n\t\treturn AngebotSalesChannel.toString() != determinedSalesChannel.toString()\r\n\t}\r\n\treturn false\r\n}\r\n\r\ndef businessFault = null\r\nif(isBusinessFault()) {\r\n\tbusinessFault = [\r\n\t\t\"ServiceFault\": \"50310\",\r\n\t\t\"ServiceFaultClass\": \"PermissionFault\",\r\n\t\t\"ServiceFaultReason\": String.format(\"Der ermittelte Vertriebsweg %s stimmt mit dem übergebenen Vertriebsweg %s nicht überein.\", determinedSalesChannel, AngebotSalesChannel),\r\n\t\t\"ServiceFaultSeverity\": \"MAJO\",\r\n\t\t\"isRepeatable\": \"false\"\r\n\t]\r\n}\r\n\r\n\r\nbusinessFault\r\n",
				"isAsync":false,
				"parameters":{
					"determinedSalesChannel":"{{ 5OM35.outputs.determinedSalesChannel }}",
					"AngebotSalesChannel":"{{ 5OM35.outputs.request.Angebot.Vertriebsweg }}"
				}
			},
			"skip":false,
			"subTitle":"Check BF 50310 SalesChannel invalid",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"zM8OW",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ KQfXn.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50310?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"zM8OW@GfEE4-1@y",
			"id":"cDYK7",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"ServiceFaultReason":"{{ KQfXn.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ KQfXn.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ KQfXn.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ KQfXn.outputs.result.ServiceFaultClass }}",
					"Attributes":{
						"Attribut":{
							"source":"{{ KQfXn.outputs.result.Attributes.Attribut }}",
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ KQfXn.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ KQfXn.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ KQfXn.outputs.result.Attributes.Attribut[0].Name }}"
							}
						}
					},
					"ServiceFaultSeverity":"{{ KQfXn.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50310",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":78,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"wrIka",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ 5OM35.outputs.determinedSalesChannel }}",
						"filter":{
							"operator":"EQUAL",
							"value":"29"
						}
					},
					{
						"property":"{{ 5OM35.outputs.request.Angebot.VertriebsOrganisationsNummer }}",
						"filter":{
							"operator":"EXISTS"
						}
					},
					{
						"property":"{{ __ENV__.outputs.SupListCheckSwitch }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Check Sup-List?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":221,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"wrIka@GfEE4-1@y",
			"id":"hgzCt",
			"index":0,
			"inputs":{
				"object_type":"sup_lists",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Fetch SuP-List",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":221,
				"resourceName":"storage_by_unifyapps_get_records_by_ids",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"wrIka@GfEE4-1@y",
			"id":"X7DKZ",
			"index":0,
			"inputs":{
				"object_type":"sup_lists",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"ids":{
					"items":"{{ hgzCt.outputs.id }}",
					"ua:type":"mappedArray"
				}
			},
			"skip":false,
			"subTitle":"Get records of SuP-List",
			"title":"Get records by IDs",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.assignmentSup.items.salesPartnerId"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":78,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"wrIka@GfEE4-1@y",
			"id":"o053E",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"isUnknownSalesOrganisationNumber":{
							"type":"boolean",
							"title":"isUnknownSalesOrganisationNumber"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"salesOrganisationNumber":{
							"type":"string",
							"title":"salesOrganisationNumber"
						},
						"assignmentSup":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"salesPartnerId":{
										"type":"string",
										"title":"salesPartnerId"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"assignmentSup"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def assignmentSup =init(\"assignmentSup\")\r\ndef salesOrganisationNumber = init (\"salesOrganisationNumber\") \r\n\r\ndef result = main(salesOrganisationNumber, assignmentSup) \r\nreturn result\r\n\r\ndef main(salesOrganisationNumber, assignmentSup) {\r\n\r\n    def isUnknownSalesOrganisationNumber = null\r\n\r\n    if (salesOrganisationNumber?.trim()) {\r\n        def matchFound = assignmentSup.any { it.salesPartnerId == salesOrganisationNumber }\r\n        if (matchFound) {\r\n            isUnknownSalesOrganisationNumber = false\r\n        }    \r\n         else {\r\n            isUnknownSalesOrganisationNumber = true  \r\n        }\r\n    }\r\n     return [isUnknownSalesOrganisationNumber: isUnknownSalesOrganisationNumber]\r\n}\r\n\r\n\r\ndef Object init(String variableKey) {\r\n    if (binding.variables.containsKey(variableKey)) {\r\n        return binding.getVariable(variableKey)\r\n    }\r\n    return null\r\n}",
				"parameters":{
					"salesOrganisationNumber":"{{ 5OM35.outputs.request.Angebot.VertriebsOrganisationsNummer }}",
					"assignmentSup":{
						"source":"{{ X7DKZ.outputs.objects[0].properties.assignmentSup }}",
						"ua:type":"mappedArray",
						"items":{
							"salesPartnerId":"{{ X7DKZ.outputs.objects[0].properties.assignmentSup[0].salesPartnerId }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Check SalesOrgNumber",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"wrIka@GfEE4-1@y",
			"id":"OzLk9",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"isUnkonwnSalesOrganisationNumber":{
							"type":"boolean",
							"title":"isUnkonwnSalesOrganisationNumber"
						},
						"VertriebsOrganisationsNummer":{
							"type":"string",
							"title":"VertriebsOrganisationsNummer"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"//DOT-90444 add BF 50302 for unkonwn SalesOrganisation Number\r\ndef Boolean hasUnkonwnSalesOrganisationNumber() {\r\n\tif (binding.variables.containsKey('isUnkonwnSalesOrganisationNumber')) {\r\n\t\tif(isUnkonwnSalesOrganisationNumber) {\r\n\t\t\tif(isUnkonwnSalesOrganisationNumber?.toString()?.toLowerCase() ==\"true\")\r\n\t\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}\r\n\r\ndef Boolean hasVertriebsOrganisationsNummer() {\r\n\tif (binding.variables.containsKey('VertriebsOrganisationsNummer')) {\r\n\t\tif(VertriebsOrganisationsNummer !=\"\"){\r\n\t\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}\r\n\r\ndef Boolean isBusinessFault() {\r\n\treturn hasUnkonwnSalesOrganisationNumber() &&  hasVertriebsOrganisationsNummer()\r\n}\r\n\r\ndef businessFault = null\r\n\r\nif (isBusinessFault()) {\r\n\tdef vertriebsOrganisationsNummer = binding.getVariable(\"VertriebsOrganisationsNummer\")\r\n\tbusinessFault = [\r\n\t\t\"ServiceFault\": \"50302\",\r\n\t\t\"ServiceFaultClass\": \"PermissionFault\",\r\n\t\t\"ServiceFaultReason\": String.format(\"Der Vertriebspartner mit der Vertriebspartnernummer %s konnte nicht gefunden werden.\", vertriebsOrganisationsNummer),\r\n\t\t\"ServiceFaultSeverity\": \"MAJO\",\r\n\t\t\"isRepeatable\": \"false\"\r\n\t]\r\n}\r\nbusinessFault\r\n\r\n",
				"isAsync":false,
				"parameters":{
					"VertriebsOrganisationsNummer":"{{ 5OM35.outputs.request.Angebot.VertriebsOrganisationsNummer }}",
					"isUnkonwnSalesOrganisationNumber":"{{ o053E.outputs.result.isUnknownSalesOrganisationNumber }}"
				}
			},
			"skip":false,
			"subTitle":"Check BF 50302 VertriebsOrganisationsNummer",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"wrIka@GfEE4-1@y",
			"id":"mB9Xt",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ OzLk9.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50302?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mB9Xt@wrIka@GfEE4-1@y@y",
			"id":"69y5o",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"Attributes":{
						"Attribut":{
							"source":"{{ KQfXn.outputs.result.Attributes.Attribut }}",
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ KQfXn.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ KQfXn.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ KQfXn.outputs.result.Attributes.Attribut[0].Name }}"
							}
						}
					},
					"ServiceFaultReason":"{{ OzLk9.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ OzLk9.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ OzLk9.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ OzLk9.outputs.result.ServiceFaultClass }}",
					"ServiceFaultSeverity":"{{ OzLk9.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50302",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":0,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"qbeLl",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ 5OM35.outputs.request.Angebot.Angebotsposition }}"
			},
			"skip":false,
			"subTitle":"For Angebotsposition",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.Angebotsposition.Angebotspositionsnummer",
					"root.parameters.Angebotsposition.ProduktID",
					"root.parameters.dataGridResponse.items.legacyProductNumber",
					"root.parameters.dataGridResponse.items.productName",
					"root.parameters.dataGridResponse.items.productId"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"qbeLl@GfEE4-1@l",
			"id":"KWAgr",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"Angebotsposition":{
							"type":"object",
							"properties":{
								"Angebotspositionsnummer":{
									"type":"string",
									"title":"Angebotspositionsnummer"
								},
								"ProduktID":{
									"type":"string",
									"title":"ProduktID"
								}
							},
							"additionalProperties":false,
							"title":"Angebotsposition",
							"required":[]
						},
						"dataGridResponse":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"legacyProductNumber":{
										"type":"string",
										"title":"legacyProductNumber"
									},
									"productName":{
										"type":"string",
										"title":"productName"
									},
									"productId":{
										"type":"string",
										"title":"productId"
									}
								},
								"additionalProperties":false
							},
							"title":"dataGridResponse",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def findDataGridProduct(legacyProductNumber) {\r\n\treturn dataGridResponse.find { it?.legacyProductNumber == legacyProductNumber }\r\n}\r\n\r\ndef getProductToFind() {\r\n\treturn Angebotsposition?.ProduktID\r\n}\r\n\r\nBoolean isBusinessFaultCondition() {\r\n\tdef productToFind = getProductToFind()\r\n\tif (productToFind != null) {\r\n\t\tif(!binding.variables.containsKey('dataGridResponse')) {\r\n\t\t\t// missing dataGridResponse...\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\tif (findDataGridProduct(productToFind)?.productId == null) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}\r\n\r\ndef businessFault = null\r\nif(binding.variables.containsKey('Angebotsposition')) {\r\n\tif(isBusinessFaultCondition()) {\r\n\t\tbusinessFault = [\r\n\t\t\t\"ServiceFault\": \"50203\",\r\n\t\t\t\"ServiceFaultClass\": \"ProductFault\",\r\n\t\t\t\"ServiceFaultReason\": String.format(\"Das Produkt %s fehlt im Produktkatalog\", getProductToFind()),\r\n\t\t\t\"ServiceFaultSeverity\": \"MAJO\",\r\n\t\t\t\"isRepeatable\": \"false\",\r\n\t\t\t\"Attributes\": [\r\n\t\t\t\t\"Attribut\": [\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"Positionsnummer\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": Angebotsposition.Angebotspositionsnummer\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"Materialnummer\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": getProductToFind()\r\n\t\t\t\t\t]\r\n\t\t\t\t]\r\n\t\t\t]\r\n\t\t]\r\n\t}\r\n}\r\nbusinessFault\r\n",
				"isAsync":false,
				"parameters":{
					"Angebotsposition":{
						"ProduktID":"{{ qbeLl.outputs.item.Produkt.ID }}",
						"Angebotspositionsnummer":"{{ qbeLl.outputs.item.Angebotspositionsnummer }}"
					},
					"dataGridResponse":{
						"source":"{{ 5OM35.outputs.products }}",
						"ua:type":"mappedArray",
						"items":{
							"legacyProductNumber":"{{ 5OM35.outputs.products[0].legacyProductNumber }}",
							"productName":"{{ 5OM35.outputs.products[0].dataGridResponse.productName }}",
							"productId":"{{ 5OM35.outputs.products[0].dataGridResponse.productId }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Check BF 50203 No such product",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"qbeLl@GfEE4-1@l",
			"id":"A46bl",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ KWAgr.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50203?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"A46bl@qbeLl@GfEE4-1@l@y",
			"id":"44CG6",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"ServiceFaultReason":"{{ KWAgr.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ KWAgr.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ KWAgr.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ KWAgr.outputs.result.ServiceFaultClass }}",
					"Attributes":{
						"Attribut":{
							"source":"{{ KWAgr.outputs.result.Attributes.Attribut }}",
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ KWAgr.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ KWAgr.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ KWAgr.outputs.result.Attributes.Attribut[0].Name }}"
							}
						}
					},
					"ServiceFaultSeverity":"{{ KWAgr.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50203",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"qbeLl@GfEE4-1@l",
			"id":"ojKYO",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"Angebotsposition":{
							"type":"object",
							"properties":{
								"Angebotspositionsnummer":{
									"type":"string",
									"title":"Angebotspositionsnummer"
								},
								"ProduktID":{
									"type":"string",
									"title":"ProduktID"
								}
							},
							"additionalProperties":false,
							"title":"Angebotsposition",
							"required":[]
						},
						"dataGridResponse":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"legacyProductNumber":{
										"type":"string",
										"title":"legacyProductNumber"
									},
									"productName":{
										"type":"string",
										"title":"productName"
									},
									"productId":{
										"type":"string",
										"title":"productId"
									},
									"productRelationship":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"relationshipType":{
													"type":"string",
													"title":"relationshipType"
												},
												"foreignId":{
													"type":"string",
													"title":"foreignId"
												}
											},
											"additionalProperties":false
										},
										"title":"productRelationship",
										"required":[]
									},
									"productType":{
										"type":"string",
										"title":"productType"
									}
								},
								"additionalProperties":false
							},
							"title":"dataGridResponse",
							"required":[]
						},
						"Angebotspositionen":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"ProduktID":{
										"type":"string",
										"title":"ProduktID"
									}
								},
								"additionalProperties":false
							},
							"title":"Angebotspositionen",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"code":"def findDataGridProduct(legacyProductNumber) {\r\n\treturn dataGridResponse.find { it?.legacyProductNumber == legacyProductNumber }\r\n}\r\n\r\nBoolean hasOfferPositionTarget(dataGridProduct) {\r\n\tdef targetRelationships = dataGridProduct?.productRelationship?.findAll { it?.relationshipType == \"targets\"} \r\n\tfor (t in targetRelationships) {\r\n\t\tdef targetProduct = dataGridResponse.find { it?.productId == t.foreignId }\r\n\t\tif(targetProduct != null) {\r\n\t\t\tdef offerPosition = Angebotspositionen.find { it?.ProduktID == targetProduct.legacyProductNumber }\r\n\t\t\tif(offerPosition!=null) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}\r\n\r\nBoolean isBusinessFaultCondition(dataGridProduct) {\r\n\tif(dataGridProduct != null) {\r\n\t\t// assume dataGridProduct exists, otherwise BusinessFault 50203 will be thrown...\r\n\t\tif(dataGridProduct.productType == \"COS\") {\r\n\t\t\t// In MVP only COS references relevant...\r\n\t\t\tif(!hasOfferPositionTarget(dataGridProduct)) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}\r\n\r\ndef businessFault = null\r\nif(binding.variables.containsKey('Angebotsposition') && binding.variables.containsKey('dataGridResponse') && binding.variables.containsKey('Angebotspositionen')) {\r\n\tdef dataGridProduct = findDataGridProduct(Angebotsposition.ProduktID)\r\n\tif(isBusinessFaultCondition(dataGridProduct)) {\r\n\t\tbusinessFault = [\r\n\t\t\t\"ServiceFault\": \"50212\",\r\n\t\t\t\"ServiceFaultClass\": \"ProductFault\",\r\n\t\t\t\"ServiceFaultReason\": String.format(\"Das zubuchbare Marktprodukt in der Angebotspositionsnummer %s ist nicht mit dem aktuellen Bestand kompatibel\", Angebotsposition.Angebotspositionsnummer),\r\n\t\t\t\"ServiceFaultSeverity\": \"MAJO\",\r\n\t\t\t\"isRepeatable\": \"false\",\r\n\t\t\t\"Attributes\": [\r\n\t\t\t\t\"Attribut\": [\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"Positionsnummer\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": Angebotsposition.Angebotspositionsnummer\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"Materialnummer\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": Angebotsposition.ProduktID\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"AnzeigeName\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": dataGridProduct.productName\r\n\t\t\t\t\t]\r\n\t\t\t\t]\r\n\t\t\t]\r\n\t\t]\r\n\t}\r\n}\r\nbusinessFault\r\n",
				"isAsync":false,
				"parameters":{
					"Angebotsposition":{
						"ProduktID":"{{ qbeLl.outputs.item.Produkt.ID }}",
						"Angebotspositionsnummer":"{{ qbeLl.outputs.item.Angebotspositionsnummer }}"
					},
					"dataGridResponse":{
						"source":"{{ 5OM35.outputs.products }}",
						"ua:type":"mappedArray",
						"items":{
							"legacyProductNumber":"{{ 5OM35.outputs.products[0].legacyProductNumber }}",
							"productName":"{{ 5OM35.outputs.products[0].dataGridResponse.productName }}",
							"productId":"{{ 5OM35.outputs.products[0].dataGridResponse.productId }}",
							"productRelationship":{
								"source":"{{ 5OM35.outputs.products[0].dataGridResponse.productRelationship }}",
								"ua:type":"mappedArray",
								"items":{
									"foreignId":"{{ 5OM35.outputs.products[0].dataGridResponse.productRelationship[0].product.foreignId }}",
									"relationshipType":"{{ 5OM35.outputs.products[0].dataGridResponse.productRelationship[0].relationshipType }}"
								}
							},
							"productType":"{{ 5OM35.outputs.products[0].dataGridResponse.productType }}"
						}
					},
					"Angebotspositionen":{
						"source":"{{ 5OM35.outputs.request.Angebot.Angebotsposition }}",
						"ua:type":"mappedArray",
						"items":{
							"ProduktID":"{{ 5OM35.outputs.request.Angebot.Angebotsposition[0].Produkt.ID }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Check BF 50212 Incompatible product",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"qbeLl@GfEE4-1@l",
			"id":"a1GjB",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ ojKYO.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50212?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"a1GjB@qbeLl@GfEE4-1@l@y",
			"id":"hg3jY",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"ServiceFaultReason":"{{ ojKYO.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ ojKYO.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ ojKYO.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ ojKYO.outputs.result.ServiceFaultClass }}",
					"Attributes":{
						"Attribut":{
							"source":"{{ ojKYO.outputs.result.Attributes.Attribut }}",
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ ojKYO.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ ojKYO.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ ojKYO.outputs.result.Attributes.Attribut[0].Name }}"
							}
						}
					},
					"ServiceFaultSeverity":"{{ ojKYO.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50212",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.Angebotsposition.Angebotspositionsnummer",
					"root.parameters.Angebotsposition.ProduktID",
					"root.parameters.productOfferingQualificationItems.items.cartItemId",
					"root.parameters.productOfferingQualificationItems.items.qualificationItemResult",
					"root.parameters.productOfferingQualificationItems.items.productOfferingRefId",
					"root.parameters.productOfferingQualificationItems.items.productOfferingRefName",
					"root.parameters.productOfferingQualificationItems.items.productOfferingRefGroup",
					"root.parameters.productOfferingQualificationItems.items.productOfferingRefCharacteristics.items.name",
					"root.parameters.productOfferingQualificationItems.items.productOfferingRefCharacteristics.items.value",
					"root.parameters.products.items.legacyProductNumber",
					"root.parameters.products.items.productId",
					"root.parameters.products.items.productName",
					"root.parameters.products.items.salesChannels.items.salesChannel",
					"root.parameters.products.items.salesChannels.items.salesStatus",
					"root.parameters.Bestand.Vertrag.items.Vertragsgegenstand.ProduktID",
					"root.parameters.productOfferingQualificationItems.items.eligibilityUnavailabilityReasons.items.code",
					"root.parameters.productOfferingQualificationItems.items.eligibilityUnavailabilityReasons.items.description"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"qbeLl@GfEE4-1@l",
			"id":"4KtIB",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"Angebotsposition":{
							"type":"object",
							"properties":{
								"Angebotspositionsnummer":{
									"type":"string",
									"title":"Angebotspositionsnummer"
								},
								"ProduktID":{
									"type":"string",
									"title":"ProduktID"
								}
							},
							"additionalProperties":false,
							"title":"Angebotsposition",
							"required":[]
						},
						"productOfferingQualificationItems":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"cartItemId":{
										"type":"string",
										"title":"cartItemId"
									},
									"qualificationItemResult":{
										"type":"string",
										"title":"qualificationItemResult"
									},
									"eligibilityUnavailabilityReasons":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"code":{
													"type":"string",
													"title":"code"
												},
												"description":{
													"type":"string",
													"title":"description"
												}
											},
											"additionalProperties":false,
											"required":[]
										},
										"title":"eligibilityUnavailabilityReasons"
									},
									"productOfferingRefId":{
										"type":"string",
										"title":"productOfferingRefId"
									},
									"productOfferingRefName":{
										"type":"string",
										"title":"productOfferingRefName"
									},
									"productOfferingRefGroup":{
										"type":"string",
										"title":"productOfferingRefGroup"
									},
									"productOfferingRefCharacteristics":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"name":{
													"type":"string",
													"title":"name"
												},
												"value":{
													"type":"string",
													"title":"value"
												}
											},
											"additionalProperties":false
										},
										"title":"productOfferingRefCharacteristics"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"productOfferingQualificationItems",
							"required":[]
						},
						"products":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"legacyProductNumber":{
										"type":"string",
										"title":"legacyProductNumber"
									},
									"productId":{
										"type":"string",
										"title":"productId"
									},
									"productName":{
										"type":"string",
										"title":"productName"
									},
									"salesChannels":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"salesChannel":{
													"type":"string",
													"title":"salesChannel"
												},
												"salesStatus":{
													"type":"string",
													"title":"salesStatus"
												}
											},
											"additionalProperties":false
										},
										"title":"salesChannels",
										"required":[]
									}
								},
								"additionalProperties":false
							},
							"title":"products",
							"required":[]
						},
						"determinedSalesChannel":{
							"type":"string",
							"title":"determinedSalesChannel"
						},
						"Bestand":{
							"type":"object",
							"properties":{
								"Vertrag":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Vertragsgegenstand":{
												"type":"object",
												"properties":{
													"ProduktID":{
														"type":"string",
														"title":"ProduktID"
													}
												},
												"additionalProperties":false,
												"title":"Vertragsgegenstand",
												"required":[]
											}
										},
										"additionalProperties":false,
										"required":[]
									},
									"title":"Vertrag"
								}
							},
							"additionalProperties":false,
							"title":"Bestand",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"//DOT-100023 BF for the tariff change from source tariff to target tariff is not possible due to missing entry in change matrix\r\ndef Angebotsposition = init(\"Angebotsposition\")\r\ndef Bestand = init(\"Bestand\")\r\ndef products = init(\"products\")\r\ndef productOfferingQualificationItems = init(\"productOfferingQualificationItems\")\r\n\r\ndef result = main(Angebotsposition, Bestand, products, productOfferingQualificationItems)\r\nresult\r\n\r\ndef main(Angebotsposition, Bestand, products, productOfferingQualificationItems) {\r\n\tdef businessFault = null\r\n\tdef VertragsProduktID = Bestand? Bestand?.Vertrag[0]?.Vertragsgegenstand?.ProduktID : null\r\n\tdef isChangeMatrixNotAllowed = isChangeMatrixNotAllowed(productOfferingQualificationItems, Angebotsposition?.Angebotspositionsnummer)\r\n\tif(isChangeMatrixNotAllowed) {\r\n\t\tbusinessFault = [\r\n\t\t\t\"ServiceFault\": \"50208\",\r\n\t\t\t\"ServiceFaultClass\": \"ProductFault\",\r\n\t\t\t\"ServiceFaultReason\": String.format(\"Ein Produktwechsel von ProduktID %s auf ProduktID %s ist gemäß Produktwechselmatrix nicht möglich\", VertragsProduktID, Angebotsposition?.ProduktID),\r\n\t\t\t\"ServiceFaultSeverity\": \"MAJO\",\r\n\t\t\t\"isRepeatable\": \"false\",\r\n\t\t\t\"Attributes\": [\r\n\t\t\t\t\"Attribut\": [\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"Positionsnummer\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": Angebotsposition?.Angebotspositionsnummer\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"Materialnummer\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": Angebotsposition?.ProduktID\r\n\t\t\t\t\t]\r\n\t\t\t\t]\r\n\t\t\t]\r\n\t\t]\r\n\t}\r\n\treturn businessFault\r\n}\r\n\r\n\r\ndef isChangeMatrixNotAllowed(productOfferingQualificationItems, cartItemId) {\r\n    def qualificationItem = productOfferingQualificationItems?.find { it?.cartItemId == cartItemId }\r\n\r\n    if (qualificationItem) {\r\n        if (qualificationItem.qualificationItemResult != \"unqualified\") {\r\n            return false // Qualified\r\n        }\r\n\r\n        //qualificationItemResult == \"unqualified\"\r\n        def reasons = qualificationItem.eligibilityUnavailabilityReasons\r\n        def isOnlyIncompatible = reasons?.size() == 1 && reasons[0].code == \"hal.validation.resource.incompatible\" && reasons[0].description==\"The tariff change from source tariff to target tariff is not possible due to missing entry in change matrix\"\r\n        if (!isOnlyIncompatible) {\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\n\r\ndef Object init(String variableKey) {\r\n\tif (binding.variables.containsKey(variableKey)) {\r\n\t\treturn binding.getVariable(variableKey)\r\n\t}\r\n\treturn null\r\n}\r\n",
				"isAsync":false,
				"parameters":{
					"Angebotsposition":{
						"ProduktID":"{{ qbeLl.outputs.item.Produkt.ID }}",
						"Angebotspositionsnummer":"{{ qbeLl.outputs.item.Angebotspositionsnummer }}"
					},
					"productOfferingQualificationItems":{
						"source":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems }}",
						"ua:type":"mappedArray",
						"items":{
							"cartItemId":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].cartItemId }}",
							"qualificationItemResult":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].qualificationItemResult }}",
							"eligibilityUnavailabilityReasons":{
								"source":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].eligibilityUnavailabilityReasons }}",
								"ua:type":"mappedArray",
								"items":{
									"code":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].eligibilityUnavailabilityReasons[0].code }}",
									"description":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].eligibilityUnavailabilityReasons[0].description }}"
								}
							},
							"productOfferingRefId":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.id }}",
							"productOfferingRefName":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.Name }}",
							"productOfferingRefCharacteristics":{
								"source":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.characteristics }}",
								"ua:type":"mappedArray",
								"items":{
									"name":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.characteristics[0].name }}",
									"value":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.characteristics[0].value }}"
								}
							},
							"productOfferingRefGroup":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.group }}"
						}
					},
					"products":{
						"source":"{{ 5OM35.outputs.products }}",
						"ua:type":"mappedArray",
						"items":{
							"legacyProductNumber":"{{ 5OM35.outputs.products[0].legacyProductNumber }}",
							"productId":"{{ 5OM35.outputs.products[0].dataGridResponse.productId }}",
							"productName":"{{ 5OM35.outputs.products[0].dataGridResponse.productName }}",
							"salesChannels":{
								"source":"{{ 5OM35.outputs.products[0].dataGridResponse.salesChannels }}",
								"ua:type":"mappedArray",
								"items":{
									"salesChannel":"{{ 5OM35.outputs.products[0].dataGridResponse.salesChannels[0].salesChannel }}",
									"salesStatus":"{{ 5OM35.outputs.products[0].dataGridResponse.salesChannels[0].salesStatus }}"
								}
							}
						}
					},
					"determinedSalesChannel":"{{ 5OM35.outputs.determinedSalesChannel }}",
					"Bestand":{
						"Vertrag":{
							"source":"{{ 5OM35.outputs.request.Bestand.Vertrag }}",
							"ua:type":"mappedArray",
							"items":{
								"Vertragsgegenstand":{
									"ProduktID":"{{ 5OM35.outputs.request.Bestand.Vertrag[0].Vertragsgegenstand.ProduktID }}"
								}
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Check BF 50208 TariffChange not possible",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"qbeLl@GfEE4-1@l",
			"id":"HNbAt",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ 4KtIB.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50208?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.BBFN.CustomerFunctions",
					"root.itemToAdd.Attributes.Attribut.items.Explanation",
					"root.itemToAdd.Attributes.Attribut.items.Value",
					"root.itemToAdd.Attributes.Attribut.items.Name"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"HNbAt@qbeLl@GfEE4-1@l@y",
			"id":"Jm7Ey",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"Attributes":{
						"Attribut":{
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ 4KtIB.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ 4KtIB.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ 4KtIB.outputs.result.Attributes.Attribut[0].Name }}"
							},
							"source":"{{ 4KtIB.outputs.result.Attributes.Attribut }}"
						}
					},
					"ServiceFaultReason":"{{ 4KtIB.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ 4KtIB.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ 4KtIB.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ 4KtIB.outputs.result.ServiceFaultClass }}",
					"ServiceFaultSeverity":"{{ 4KtIB.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50208",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":78,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"qbeLl@GfEE4-1@l",
			"id":"7kPKy",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ 5OM35.outputs.request.Angebot.erfassendesSystem }}",
						"filter":{
							"operator":"EQUAL",
							"value":"VVM"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"has VVM-flag?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.Angebotsposition.Angebotspositionsnummer",
					"root.parameters.Angebotsposition.ProduktID",
					"root.parameters.productOfferingQualificationItems.items.cartItemId",
					"root.parameters.productOfferingQualificationItems.items.qualificationItemResult",
					"root.parameters.productOfferingQualificationItems.items.eligibilityUnavailabilityReasons.items",
					"root.parameters.productOfferingQualificationItems.items.productOfferingRefId",
					"root.parameters.productOfferingQualificationItems.items.productOfferingRefName",
					"root.parameters.productOfferingQualificationItems.items.productOfferingRefGroup",
					"root.parameters.productOfferingQualificationItems.items.productOfferingRefCharacteristics.items.name",
					"root.parameters.productOfferingQualificationItems.items.productOfferingRefCharacteristics.items.value",
					"root.parameters.products.items.legacyProductNumber",
					"root.parameters.products.items.productId",
					"root.parameters.products.items.productName",
					"root.parameters.products.items.salesChannels.items.salesChannel",
					"root.parameters.products.items.salesChannels.items.salesStatus"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7kPKy@qbeLl@GfEE4-1@l@n",
			"id":"UBHlN",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"Angebotsposition":{
							"type":"object",
							"properties":{
								"Angebotspositionsnummer":{
									"type":"string",
									"title":"Angebotspositionsnummer"
								},
								"ProduktID":{
									"type":"string",
									"title":"ProduktID"
								}
							},
							"additionalProperties":false,
							"title":"Angebotsposition",
							"required":[]
						},
						"productOfferingQualificationItems":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"cartItemId":{
										"type":"string",
										"title":"cartItemId"
									},
									"qualificationItemResult":{
										"type":"string",
										"title":"qualificationItemResult"
									},
									"productOfferingRefId":{
										"type":"string",
										"title":"productOfferingRefId"
									},
									"productOfferingRefName":{
										"type":"string",
										"title":"productOfferingRefName"
									},
									"productOfferingRefGroup":{
										"type":"string",
										"title":"productOfferingRefGroup"
									},
									"productOfferingRefCharacteristics":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"name":{
													"type":"string",
													"title":"name"
												},
												"value":{
													"type":"string",
													"title":"value"
												}
											},
											"additionalProperties":false
										},
										"title":"productOfferingRefCharacteristics"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"productOfferingQualificationItems",
							"required":[]
						},
						"products":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"legacyProductNumber":{
										"type":"string",
										"title":"legacyProductNumber"
									},
									"productId":{
										"type":"string",
										"title":"productId"
									},
									"productName":{
										"type":"string",
										"title":"productName"
									},
									"salesChannels":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"salesChannel":{
													"type":"string",
													"title":"salesChannel"
												},
												"salesStatus":{
													"type":"string",
													"title":"salesStatus"
												}
											},
											"additionalProperties":false
										},
										"title":"salesChannels",
										"required":[]
									}
								},
								"additionalProperties":false
							},
							"title":"products",
							"required":[]
						},
						"determinedSalesChannel":{
							"type":"string",
							"title":"determinedSalesChannel"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def Angebotsposition = init(\"Angebotsposition\")\r\ndef products = init(\"products\")\r\ndef productOfferingQualificationItems = init(\"productOfferingQualificationItems\")\r\ndef determinedSalesChannel = init(\"determinedSalesChannel\")\r\n\r\ndef result = main(Angebotsposition, products, productOfferingQualificationItems, determinedSalesChannel)\r\nresult\r\n\r\ndef main(Angebotsposition, products, productOfferingQualificationItems, determinedSalesChannel) {\r\n\tdef businessFault = null\r\n\tdef dgProduct = findDataGridProduct(products, Angebotsposition?.ProduktID)\r\n\t//def isPOQUnqualified = isPOQUnqualified(productOfferingQualificationItems, Angebotsposition?.Angebotspositionsnummer)\r\n\tdef isAvailableInChannel = isProductAvailableInChannel(dgProduct, determinedSalesChannel) \r\n\tif(!isAvailableInChannel) {\r\n\t\tbusinessFault = [\r\n\t\t\t\"ServiceFault\": \"50305\",\r\n\t\t\t\"ServiceFaultClass\": \"PermissionFault\",\r\n\t\t\t\"ServiceFaultReason\": String.format(\"Das Produkt mit der ProduktID %s darf nicht über den Vertriebsweg %s vertrieben werden\", Angebotsposition?.ProduktID, determinedSalesChannel),\r\n\t\t\t\"ServiceFaultSeverity\": \"MAJO\",\r\n\t\t\t\"isRepeatable\": \"false\",\r\n\t\t\t\"Attributes\": [\r\n\t\t\t\t\"Attribut\": [\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"Positionsnummer\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": Angebotsposition?.Angebotspositionsnummer\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"Materialnummer\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": Angebotsposition?.ProduktID\r\n\t\t\t\t\t]\r\n\t\t\t\t]\r\n\t\t\t]\r\n\t\t]\r\n\t}\r\n\treturn businessFault\r\n}\r\n\r\n/*def isPOQUnqualified(productOfferingQualificationItems, cartItemId) {\r\n\tdef qualificationItem = productOfferingQualificationItems?.find { it?.cartItemId == cartItemId }\r\n\tif (qualificationItem) {\r\n\t\t  // Check exception condition\r\n      if (qualificationItem.productOfferingRefGroup == \"tariff\") {\r\n            def connectivityCharacteristic = qualificationItem.productOfferingRefCharacteristics?.find { \r\n                it?.name == \"connectivityID\" \r\n          }\r\n          if (connectivityCharacteristic && connectivityCharacteristic.value == null) {\r\n                // Skip business fault for this special case\r\n                return false\r\n          }\r\n    }\r\n\t\tif(qualificationItem.qualificationItemResult != \"qualified\") {\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}*/\r\n\r\n/*def isPOQUnqualified(productOfferingQualificationItems, cartItemId) {\r\n    def qualificationItem = productOfferingQualificationItems?.find { it?.cartItemId == cartItemId }\r\n\r\n    if (qualificationItem) {\r\n        if (qualificationItem.qualificationItemResult != \"unqualified\") {\r\n            return false // Qualified\r\n        }\r\n\r\n        //qualificationItemResult == \"unqualified\"\r\n        def isTariff = qualificationItem.productOfferingRefGroup == \"tariff\"\r\n        def reasons = qualificationItem.eligibilityUnavailabilityReasons\r\n        def isOnlyIncompatible = reasons?.size() == 1 && reasons[0] == \"hal.validation.resource.incompatible\"\r\n        def hasCoS = qualificationItem.productOfferingRefCharacteristics?.any { \r\n            it?.name == \"connectivityID\" && it?.value \r\n        }\r\n        if (isTariff && isOnlyIncompatible && !hasCoS) {\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n    return false\r\n}*/\r\n\r\n\r\ndef findDataGridProduct(products, legacyProductNumber) {\r\n\treturn products?.find { it?.legacyProductNumber == legacyProductNumber }\r\n}\r\n\r\ndef isProductAvailableInChannel(dgProduct, determinedSalesChannel) {\r\n\tif(dgProduct) {\r\n\t\tdef salesChannelObject = dgProduct.salesChannels?.find { \r\n\t\t\tit?.salesChannel?.toString() == determinedSalesChannel?.toString() && \r\n\t\t\tit?.salesStatus == \"active\" \r\n\t\t}\r\n\t\tif (salesChannelObject) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}\r\n\r\ndef Object init(String variableKey) {\r\n\tif (binding.variables.containsKey(variableKey)) {\r\n\t\treturn binding.getVariable(variableKey)\r\n\t}\r\n\treturn null\r\n}\r\n",
				"isAsync":false,
				"parameters":{
					"Angebotsposition":{
						"ProduktID":"{{ qbeLl.outputs.item.Produkt.ID }}",
						"Angebotspositionsnummer":"{{ qbeLl.outputs.item.Angebotspositionsnummer }}"
					},
					"productOfferingQualificationItems":{
						"source":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems }}",
						"ua:type":"mappedArray",
						"items":{
							"cartItemId":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].cartItemId }}",
							"qualificationItemResult":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].qualificationItemResult }}",
							"productOfferingRefId":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.id }}",
							"productOfferingRefName":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.Name }}",
							"productOfferingRefCharacteristics":{
								"source":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.characteristics }}",
								"ua:type":"mappedArray",
								"items":{
									"name":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.characteristics[0].name }}",
									"value":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.characteristics[0].value }}"
								}
							},
							"productOfferingRefGroup":"{{ 5OM35.outputs.poqValidateResponse.productOfferingQualificationItems[0].productOfferingRef.group }}"
						}
					},
					"products":{
						"source":"{{ 5OM35.outputs.products }}",
						"ua:type":"mappedArray",
						"items":{
							"legacyProductNumber":"{{ 5OM35.outputs.products[0].legacyProductNumber }}",
							"productId":"{{ 5OM35.outputs.products[0].dataGridResponse.productId }}",
							"productName":"{{ 5OM35.outputs.products[0].dataGridResponse.productName }}",
							"salesChannels":{
								"source":"{{ 5OM35.outputs.products[0].dataGridResponse.salesChannels }}",
								"ua:type":"mappedArray",
								"items":{
									"salesChannel":"{{ 5OM35.outputs.products[0].dataGridResponse.salesChannels[0].salesChannel }}",
									"salesStatus":"{{ 5OM35.outputs.products[0].dataGridResponse.salesChannels[0].salesStatus }}"
								}
							}
						}
					},
					"determinedSalesChannel":"{{ 5OM35.outputs.determinedSalesChannel }}"
				}
			},
			"skip":false,
			"subTitle":"Check BF 50305 Not sellable in salesChannel",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7kPKy@qbeLl@GfEE4-1@l@n",
			"id":"Nt0Hx",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ UBHlN.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50305?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Nt0Hx@7kPKy@qbeLl@GfEE4-1@l@n@y",
			"id":"WHWL9",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"ServiceFaultReason":"{{ UBHlN.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ UBHlN.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ UBHlN.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ UBHlN.outputs.result.ServiceFaultClass }}",
					"Attributes":{
						"Attribut":{
							"source":"{{ UBHlN.outputs.result.Attributes.Attribut }}",
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ UBHlN.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ UBHlN.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ UBHlN.outputs.result.Attributes.Attribut[0].Name }}"
							}
						}
					},
					"ServiceFaultSeverity":"{{ UBHlN.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50305",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7kPKy@qbeLl@GfEE4-1@l@n",
			"id":"KmeaG",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"Angebotsposition":{
							"type":"object",
							"properties":{
								"Angebotspositionsnummer":{
									"type":"string",
									"title":"Angebotspositionsnummer"
								},
								"ProduktID":{
									"type":"string",
									"title":"ProduktID"
								}
							},
							"additionalProperties":false,
							"title":"Angebotsposition",
							"required":[]
						},
						"poqExpectedQualificationDate":{
							"type":"string",
							"title":"poqExpectedQualificationDate"
						},
						"Wunschtermin":{
							"type":"string",
							"title":"Wunschtermin"
						},
						"products":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"legacyProductNumber":{
										"type":"string",
										"title":"legacyProductNumber"
									},
									"dataGridResponse":{
										"type":"object",
										"properties":{
											"productName":{
												"type":"string",
												"title":"productName"
											}
										},
										"additionalProperties":false,
										"title":"dataGridResponse",
										"required":[]
									}
								},
								"additionalProperties":false
							},
							"title":"products",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.time.LocalDate\r\nimport java.time.OffsetDateTime\r\nimport java.time.ZonedDateTime\r\nimport java.time.LocalDateTime\r\nimport java.time.format.DateTimeFormatter\r\nimport java.time.format.DateTimeParseException\r\n\r\n\r\n// DateTimeFormatter.ISO_OFFSET_DATE_TIME,  // z.B. 2023-10-01T14:30:00Z oder 2023-10-01T14:30:00+02:00\r\n// DateTimeFormatter.ISO_ZONED_DATE_TIME,   // z.B. 2023-10-01T14:30:00+02:00[Europe/Paris]\r\n// DateTimeFormatter.ISO_LOCAL_DATE_TIME,   // z.B. 2023-10-01T14:30:00\r\n// DateTimeFormatter.ISO_LOCAL_DATE         // z.B. 2023-10-01\r\ndef parseToLocalDate(String dateString) {\r\n\tLocalDate date = null\r\n\t\r\n\ttry {\r\n\t\tdate = LocalDate.parse(dateString, DateTimeFormatter.ISO_LOCAL_DATE)\r\n\t} catch (DateTimeParseException e) {}\r\n\tif(date==null) {\r\n\t\ttry {\r\n\t\t\tdate = OffsetDateTime.parse(dateString, DateTimeFormatter.ISO_OFFSET_DATE_TIME).toLocalDate()\r\n\t\t} catch (DateTimeParseException e) {}\r\n\t}\r\n\tif(date==null) {\r\n\t\ttry {\r\n\t\t\tdate = ZonedDateTime.parse(dateString, DateTimeFormatter.ISO_ZONED_DATE_TIME).toLocalDate()\r\n\t\t} catch (DateTimeParseException e) {}\r\n\t}\r\n\tif(date==null) {\r\n\t\ttry {\r\n\t\t\tdate = LocalDateTime.parse(dateString, DateTimeFormatter.ISO_LOCAL_DATE_TIME).toLocalDate()\r\n\t\t} catch (DateTimeParseException e) {}\r\n\t}\r\n\treturn date\r\n}\r\n\r\ndef businessFault = null\r\nif(binding.variables.containsKey('Angebotsposition') && binding.variables.containsKey('Wunschtermin') && binding.variables.containsKey('poqExpectedQualificationDate') && binding.variables.containsKey('products')) {\r\n\tdef customerWishDate = parseToLocalDate(Wunschtermin)\r\n\tdef qualificationDate = parseToLocalDate(poqExpectedQualificationDate)\r\n\tdef productName = products.find { it.legacyProductNumber == Angebotsposition.ProduktID }?.dataGridResponse?.productName\r\n\tif(customerWishDate && qualificationDate) {\r\n\t\tif(qualificationDate.isAfter(customerWishDate)) {\r\n\t\t\tbusinessFault = [\r\n\t\t\t\t\"ServiceFault\": \"50229\",\r\n\t\t\t\t\"ServiceFaultClass\": \"ProductFault\",\r\n\t\t\t\t\"ServiceFaultReason\": String.format(\"Eine Bestellung des Produkts in der Position mit der Positionsnummer %s aufgrund der Produktvorlaufzeit nicht möglich. Eine frühestmögliche Bestellung ist nach dem Ablauf der Produktvorlaufzeit am %s möglich\", Angebotsposition.Angebotspositionsnummer, qualificationDate),\r\n\t\t\t\t\"ServiceFaultSeverity\": \"MAJO\",\r\n\t\t\t\t\"isRepeatable\": \"false\",\r\n\t\t\t\t\"Attributes\": [\r\n\t\t\t\t\t\"Attribut\": [\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\"Explanation\": \"Positionsnummer\",\r\n\t\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\t\"Value\": Angebotsposition.Angebotspositionsnummer\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\"Explanation\": \"Materialnummer\",\r\n\t\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\t\"Value\": Angebotsposition.ProduktID\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\"Explanation\": \"AnzeigeName\",\r\n\t\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\t\"Value\": productName\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\"Explanation\": \"Datum\",\r\n\t\t\t\t\t\t\t\"Name\": \"003\",\r\n\t\t\t\t\t\t\t\"Value\": qualificationDate\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t]\r\n\t\t\t\t]\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n}\r\nbusinessFault\r\n",
				"isAsync":false,
				"parameters":{
					"Angebotsposition":{
						"ProduktID":"{{ qbeLl.outputs.item.Produkt.ID }}",
						"Angebotspositionsnummer":"{{ qbeLl.outputs.item.Angebotspositionsnummer }}"
					},
					"poqExpectedQualificationDate":"{{ 5OM35.outputs.poqValidateResponse.expectedQualificationDate }}",
					"Wunschtermin":"{{ 5OM35.outputs.request.Angebot.Wunschtermin }}",
					"products":{
						"source":"{{ 5OM35.outputs.products }}",
						"ua:type":"mappedArray",
						"items":{
							"legacyProductNumber":"{{ 5OM35.outputs.products[0].legacyProductNumber }}",
							"dataGridResponse":{
								"productName":"{{ 5OM35.outputs.products[0].dataGridResponse.productName }}"
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Check BF 50229 CustomerWishDate",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7kPKy@qbeLl@GfEE4-1@l@n",
			"id":"0aRsI",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ KmeaG.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50229?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"0aRsI@7kPKy@qbeLl@GfEE4-1@l@n@y",
			"id":"jFzqf",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"ServiceFaultReason":"{{ KmeaG.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ KmeaG.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ KmeaG.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ KmeaG.outputs.result.ServiceFaultClass }}",
					"Attributes":{
						"Attribut":{
							"source":"{{ KmeaG.outputs.result.Attributes.Attribut }}",
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ KmeaG.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ KmeaG.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ KmeaG.outputs.result.Attributes.Attribut[0].Name }}"
							}
						}
					},
					"ServiceFaultSeverity":"{{ KmeaG.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50229",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":77,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7kPKy@qbeLl@GfEE4-1@l@n",
			"id":"QouCs",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ qbeLl.outputs.item.Aktion }}",
						"filter":{
							"operator":"EQUAL",
							"value":"neu"
						}
					},
					{
						"filters":[
							{
								"property":"{{ o053E.outputs.result.isUnknownSalesOrganisationNumber }}",
								"filter":{
									"operator":"NOT_EQUAL",
									"value":"true"
								}
							},
							{
								"filter":{
									"operator":"EQUAL",
									"value":"29"
								},
								"property":"{{ 5OM35.outputs.determinedSalesChannel }}"
							}
						],
						"operator":"AND"
					},
					{
						"property":"{{ __ENV__.outputs.SupListCheckSwitch }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"SuP-List(Check bookale products)",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.assignmentSup.items.salesPartnerId",
					"root.parameters.assignmentSup.items.supId",
					"root.parameters.Angebotsposition.Angebotspositionsnummer",
					"root.parameters.Angebotsposition.ProduktID",
					"root.parameters.Angebotsposition.Aktion",
					"root.parameters.supLists.items.supId",
					"root.parameters.supLists.items.products.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":77,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"QouCs@7kPKy@qbeLl@GfEE4-1@l@n@y",
			"id":"zJnET",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"isBookable":{
							"type":"boolean",
							"title":"isBookable"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"salesOrganisationNumber":{
							"type":"string",
							"title":"salesOrganisationNumber"
						},
						"assignmentSup":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"salesPartnerId":{
										"type":"string",
										"title":"salesPartnerId"
									},
									"supId":{
										"type":"string",
										"title":"supId"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"assignmentSup"
						},
						"supLists":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"supId":{
										"type":"string",
										"title":"supId"
									},
									"products":{
										"type":"array",
										"items":{
											"type":"string"
										},
										"title":"products"
									}
								},
								"additionalProperties":false
							},
							"title":"supLists",
							"required":[]
						},
						"Angebotsposition":{
							"type":"object",
							"properties":{
								"Angebotspositionsnummer":{
									"type":"string",
									"title":"Angebotspositionsnummer"
								},
								"ProduktID":{
									"type":"string",
									"title":"ProduktID"
								},
								"Aktion":{
									"type":"string",
									"title":"Aktion"
								}
							},
							"additionalProperties":false,
							"title":"Angebotsposition",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def checkIfBookable(\r\n        String  salesOrganisationNumber,\r\n        List    assignmentSup,          // [{salesPartnerId:'..',supId:..}, …]\r\n        List    supLists,               // [{supId:.., products:[…]}, …]\r\n        def     angebotsposition)       // {ProduktID:'…'}\r\n{\r\n    def produktId = angebotsposition?.ProduktID\r\n\r\n\r\n   //Product missing in SuP-List-> bookable immediately\r\n    boolean productInAnySupList =\r\n        supLists?.any { it?.products?.contains(produktId) }\r\n        if (!productInAnySupList) {\r\n        binding.isBookable = true\r\n        return [isBookable:true,\r\n                reason      :'Product not contained in any supList',\r\n                produktId   : produktId]\r\n    }\r\n \r\n  //Find supId that belongs to the sales organisation and check if the ProductId belongs to this supId\r\n    def supId = assignmentSup?.find {\r\n                    it.salesPartnerId == salesOrganisationNumber\r\n                 }?.supId\r\n    if (!supId) {\r\n        binding.isBookable = false\r\n        return [isBookable:false,\r\n                reason      :'No supId for given salesOrganisationNumber',\r\n                salesOrganisationNumber:salesOrganisationNumber]\r\n    }\r\n\r\n    def supListForSup = supLists?.find { it.supId == supId }\r\n    if (!supListForSup) {\r\n        binding.isBookable = false\r\n        return [isBookable:false,\r\n                reason      :\"No supList for supId ${supId}\",\r\n                supId       : supId]\r\n    }\r\n    boolean productInOwnSupList =\r\n            supListForSup.products?.contains(produktId)\r\n\r\n    binding.isBookable = productInOwnSupList\r\n    return [\r\n        isBookable           : productInOwnSupList,\r\n        reason               : productInOwnSupList ?\r\n                               'Product contained in own supList' :\r\n                               'Product missing in own supList',\r\n        produktId            : produktId,\r\n        salesOrganisationNumber: salesOrganisationNumber,\r\n        supId                : supId,\r\n        ownSupListProducts   : supListForSup.products\r\n    ]\r\n}\r\n\r\ndef result = checkIfBookable(\r\n                 init(\"salesOrganisationNumber\") as String,\r\n                 init(\"assignmentSup\")  as List,\r\n                 init(\"supLists\")       as List,\r\n                 init(\"Angebotsposition\"))\r\nreturn result\r\n\r\ndef Object init(String variableKey) {\r\n    binding.variables.containsKey(variableKey) ?\r\n        binding.getVariable(variableKey) : null\r\n}\r\n",
				"parameters":{
					"salesOrganisationNumber":"{{ 5OM35.outputs.request.Angebot.VertriebsOrganisationsNummer }}",
					"assignmentSup":{
						"ua:type":"mappedArray",
						"items":{
							"salesPartnerId":"{{ X7DKZ.outputs.objects[0].properties.assignmentSup[0].salesPartnerId }}",
							"supId":"{{ X7DKZ.outputs.objects[0].properties.assignmentSup[0].supId }}"
						},
						"source":"{{ X7DKZ.outputs.objects[0].properties.assignmentSup }}"
					},
					"supLists":{
						"ua:type":"mappedArray",
						"items":{
							"products":{
								"ua:type":"mappedArray",
								"source":"{{ X7DKZ.outputs.objects[0].properties.supLists[0].products }}",
								"items":"{{ X7DKZ.outputs.objects[0].properties.supLists[0].products[0] }}"
							},
							"supId":"{{ X7DKZ.outputs.objects[0].properties.supLists[0].supId }}"
						},
						"source":"{{ X7DKZ.outputs.objects[0].properties.supLists }}"
					},
					"Angebotsposition":{
						"Angebotspositionsnummer":"{{ qbeLl.outputs.item.Angebotspositionsnummer }}",
						"ProduktID":"{{ qbeLl.outputs.item.Produkt.ID }}",
						"Aktion":"{{ qbeLl.outputs.item.Aktion }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Check If Bookable",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.Angebotsposition.Angebotspositionsnummer",
					"root.parameters.Angebotsposition.ProduktID"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"QouCs@7kPKy@qbeLl@GfEE4-1@l@n@y",
			"id":"4Ak9v",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"Angebotsposition":{
							"type":"object",
							"properties":{
								"Angebotspositionsnummer":{
									"type":"string",
									"title":"Angebotspositionsnummer"
								},
								"ProduktID":{
									"type":"string",
									"title":"ProduktID"
								}
							},
							"additionalProperties":false,
							"title":"Angebotsposition",
							"required":[]
						},
						"isBookable":{
							"type":"boolean",
							"title":"isBookable"
						},
						"VertriebsOrganisationsNummer":{
							"type":"string",
							"title":"VertriebsOrganisationsNummer"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def Boolean isBookable() {\r\n    def bookableValue = binding.variables.get('isBookable')\r\n    return bookableValue != null && bookableValue.toString().toLowerCase() == \"true\"\r\n}\r\n\r\ndef Boolean isBusinessFault() {\r\n    if (!binding.variables.containsKey('isBookable')) {\r\n        return false\r\n    }\r\n\r\n    def rawValue = binding.variables.get('isBookable')?.toString()?.trim()?.toLowerCase()\r\n    return rawValue == \"false\"\r\n}\r\n\r\ndef businessFault = null\r\nif (binding.variables.containsKey('Angebotsposition')) {\r\n    if (isBusinessFault()) {\r\n        def vertriebsOrganisationsNummer = binding.getVariable(\"VertriebsOrganisationsNummer\")\r\n        businessFault = [\r\n            \"ServiceFault\": \"50304\",\r\n            \"ServiceFaultClass\": \"PermissionFault\",\r\n            \"ServiceFaultReason\": String.format(\"Das Produkt mit der ProduktID %s darf nicht vom Vertriebspartner mit der Vertriebspartnernummer %s vertrieben werden\", Angebotsposition?.ProduktID, vertriebsOrganisationsNummer),\r\n            \"ServiceFaultSeverity\": \"MAJOR\",\r\n            \"isRepeatable\": false,\r\n            \"Attributes\": [\r\n                \"Attribut\": [\r\n                    [\r\n                        \"Explanation\": \"Positionsnummer\",\r\n                        \"Name\": \"001\",\r\n                        \"Value\": Angebotsposition?.Angebotspositionsnummer\r\n                    ],\r\n                    [\r\n                        \"Explanation\": \"Materialnummer\",\r\n                        \"Name\": \"001\",\r\n                        \"Value\": Angebotsposition?.ProduktID\r\n                    ]\r\n                ]\r\n            ]\r\n        ]\r\n    }\r\n}\r\nbusinessFault\r\n",
				"isAsync":false,
				"parameters":{
					"Angebotsposition":{
						"ProduktID":"{{ qbeLl.outputs.item.Produkt.ID }}",
						"Angebotspositionsnummer":"{{ qbeLl.outputs.item.Angebotspositionsnummer }}"
					},
					"VertriebsOrganisationsNummer":"{{ 5OM35.outputs.request.Angebot.VertriebsOrganisationsNummer }}",
					"isBookable":"{{ zJnET.outputs.result.isBookable }}"
				}
			},
			"skip":false,
			"subTitle":"Check BF 50304 bookable product(SuP-List)",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"QouCs@7kPKy@qbeLl@GfEE4-1@l@n@y",
			"id":"aUK0k",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ 4Ak9v.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50304?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.BBFN.CustomerFunctions",
					"root.itemToAdd.Attributes.Attribut.items.Explanation",
					"root.itemToAdd.Attributes.Attribut.items.Value",
					"root.itemToAdd.Attributes.Attribut.items.Name"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"aUK0k@QouCs@7kPKy@qbeLl@GfEE4-1@l@n@y@y",
			"id":"IJQcH",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"Attributes":{
						"Attribut":{
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ 4Ak9v.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ 4Ak9v.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ 4Ak9v.outputs.result.Attributes.Attribut[0].Name }}"
							},
							"source":"{{ 4Ak9v.outputs.result.Attributes.Attribut }}"
						}
					},
					"ServiceFaultReason":"{{ 4Ak9v.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ 4Ak9v.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ 4Ak9v.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ 4Ak9v.outputs.result.ServiceFaultClass }}",
					"ServiceFaultSeverity":"{{ 4Ak9v.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50304",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.Angebotsposition.Angebotspositionsnummer",
					"root.parameters.Angebotsposition.ProduktID",
					"root.parameters.Angebotsposition.Konditionsalternativen.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"qbeLl@GfEE4-1@l",
			"id":"ANutY",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ServiceFaultReason":{
							"type":"string",
							"title":"ServiceFaultReason"
						},
						"isRepeatable":{
							"type":"string",
							"title":"isRepeatable"
						},
						"ServiceFault":{
							"type":"string",
							"title":"ServiceFault"
						},
						"ServiceFaultClass":{
							"type":"string",
							"title":"ServiceFaultClass"
						},
						"Attributes":{
							"type":"object",
							"properties":{
								"Attribut":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"Explanation":{
												"type":"string",
												"title":"Explanation"
											},
											"Value":{
												"type":"string",
												"title":"Value"
											},
											"Name":{
												"type":"string",
												"title":"Name"
											}
										},
										"additionalProperties":false
									},
									"title":"Attribut"
								}
							},
							"title":"Attributes",
							"additionalProperties":false
						},
						"ServiceFaultSeverity":{
							"type":"string",
							"title":"ServiceFaultSeverity"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"Angebotsposition":{
							"type":"object",
							"properties":{
								"Angebotspositionsnummer":{
									"type":"string",
									"title":"Angebotspositionsnummer"
								},
								"ProduktID":{
									"type":"string",
									"title":"ProduktID"
								},
								"Konditionsalternativen":{
									"type":"array",
									"items":{
										"type":"string"
									},
									"title":"Konditionsalternativen"
								}
							},
							"additionalProperties":false,
							"title":"Angebotsposition",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def Boolean haveKonditionsalternative(Konditionsalternativen) {\r\n\tif (Konditionsalternativen != null ) {\r\n\t\t\tdef konditionsalternative = Konditionsalternativen.find { it != \"\" }\r\n\t\t\tif (konditionsalternative != null) \r\n\t\t\t\treturn true\r\n\t}\r\n\treturn false\r\n}\r\n\r\ndef businessFault = null\r\nif(binding.variables.containsKey('Angebotsposition')) {\r\n\tif(!haveKonditionsalternative(Angebotsposition.Konditionsalternativen)) {\r\n\t\tbusinessFault = [\r\n\t\t\t\"ServiceFault\": \"50371\",\r\n\t\t\t\"ServiceFaultClass\": \"ProductFault\",\r\n\t\t\t\"ServiceFaultReason\": String.format(\"Für die Angebotsposition mit der Angebotspositionsnummer [%s] konnte kein gültiger Preis (Kondition) ermittelt werden.\", Angebotsposition?.Angebotspositionsnummer),\r\n\t\t\t\"ServiceFaultSeverity\": \"MAJO\",\r\n\t\t\t\"isRepeatable\": \"false\",\r\n\t\t\t\"Attributes\": [\r\n\t\t\t\t\"Attribut\": [\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"Positionsnummer\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": Angebotsposition?.Angebotspositionsnummer\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t\"Explanation\": \"Materialnummer\",\r\n\t\t\t\t\t\t\"Name\": \"001\",\r\n\t\t\t\t\t\t\"Value\": Angebotsposition?.ProduktID\r\n\t\t\t\t\t]\r\n\t\t\t\t]\r\n\t\t\t]\r\n\t\t]\r\n\t}\r\n\r\n}\r\nbusinessFault\r\n",
				"isAsync":false,
				"parameters":{
					"Angebotsposition":{
						"ProduktID":"{{ qbeLl.outputs.item.Produkt.ID }}",
						"Angebotspositionsnummer":"{{ qbeLl.outputs.item.Angebotspositionsnummer }}",
						"Konditionsalternativen":{
							"source":"{{ qbeLl.outputs.item.Konditionsalternativen }}",
							"ua:type":"mappedArray",
							"items":"{{ qbeLl.outputs.item.Konditionsalternativen[0] }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Check BF 50371 No prices found",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"qbeLl@GfEE4-1@l",
			"id":"uOIId",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ ANutY.outputs.result.ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have 50371?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"uOIId@qbeLl@GfEE4-1@l@y",
			"id":"tEF4B",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"ServiceFaultReason":"{{ ANutY.outputs.result.ServiceFaultReason }}",
					"isRepeatable":"{{ ANutY.outputs.result.isRepeatable }}",
					"ServiceFault":"{{ ANutY.outputs.result.ServiceFault }}",
					"ServiceFaultClass":"{{ ANutY.outputs.result.ServiceFaultClass }}",
					"Attributes":{
						"Attribut":{
							"source":"{{ ANutY.outputs.result.Attributes.Attribut }}",
							"ua:type":"mappedArray",
							"items":{
								"Explanation":"{{ ANutY.outputs.result.Attributes.Attribut[0].Explanation }}",
								"Value":"{{ ANutY.outputs.result.Attributes.Attribut[0].Value }}",
								"Name":"{{ ANutY.outputs.result.Attributes.Attribut[0].Name }}"
							}
						}
					},
					"ServiceFaultSeverity":"{{ ANutY.outputs.result.ServiceFaultSeverity }}"
				},
				"insertLocation":"END",
				"listName":"{{ D6ybb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Insert BF 50371",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"nMXtW",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ D6ybb.outputs.items[0].ServiceFault }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Have any BusinessFault?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"nMXtW@GfEE4-1@y",
			"id":"jUk1D",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"type":"object",
									"properties":{
										"ServiceFaultReason":{
											"type":"string",
											"title":"ServiceFaultReason"
										},
										"isRepeatable":{
											"type":"string",
											"title":"isRepeatable"
										},
										"ServiceFault":{
											"type":"string",
											"title":"ServiceFault"
										},
										"ServiceName":{
											"type":"string",
											"title":"ServiceName"
										},
										"ServiceFaultClass":{
											"type":"string",
											"title":"ServiceFaultClass"
										},
										"BBFN":{
											"type":"object",
											"properties":{
												"CustomerFunctions":{
													"type":"string",
													"title":"CustomerFunctions"
												}
											},
											"title":"BBFN",
											"additionalProperties":false
										},
										"Attributes":{
											"type":"object",
											"properties":{
												"Attribut":{
													"type":"array",
													"items":{
														"type":"object",
														"properties":{
															"Explanation":{
																"type":"string",
																"title":"Explanation"
															},
															"Value":{
																"type":"string",
																"title":"Value"
															},
															"Name":{
																"type":"string",
																"title":"Name"
															}
														},
														"additionalProperties":false
													},
													"title":"Attribut"
												}
											},
											"title":"Attributes",
											"additionalProperties":false
										},
										"ServiceVersion":{
											"type":"string",
											"title":"ServiceVersion"
										},
										"ServiceFaultSeverity":{
											"type":"string",
											"title":"ServiceFaultSeverity"
										}
									},
									"additionalProperties":false
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray",
					"source":"{{ D6ybb.outputs.items }}",
					"items":{
						"ServiceFaultReason":"{{ D6ybb.outputs.items[0].ServiceFaultReason }}",
						"isRepeatable":"{{ D6ybb.outputs.items[0].isRepeatable }}",
						"ServiceFault":"{{ D6ybb.outputs.items[0].ServiceFault }}",
						"ServiceName":"MapiMaestro_avia_sucheProduktUeberAngebot",
						"ServiceFaultClass":"{{ D6ybb.outputs.items[0].ServiceFaultClass }}",
						"BBFN":{
							"CustomerFunctions":"OrderManagement"
						},
						"Attributes":{
							"Attribut":{
								"source":"{{ D6ybb.outputs.items[0].Attributes.Attribut }}",
								"ua:type":"mappedArray",
								"items":{
									"Explanation":"{{ D6ybb.outputs.items[0].Attributes.Attribut[0].Explanation }}",
									"Value":"{{ D6ybb.outputs.items[0].Attributes.Attribut[0].Value }}",
									"Name":"{{ D6ybb.outputs.items[0].Attributes.Attribut[0].Name }}"
								}
							}
						},
						"ServiceVersion":"08.90_9999.99.99",
						"ServiceFaultSeverity":"{{ D6ybb.outputs.items[0].ServiceFaultSeverity }}"
					}
				},
				"ua:title":"List",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"List",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"ServiceFaultReason":{
										"type":"string",
										"title":"ServiceFaultReason"
									},
									"isRepeatable":{
										"type":"string",
										"title":"isRepeatable"
									},
									"ServiceFault":{
										"type":"string",
										"title":"ServiceFault"
									},
									"ServiceName":{
										"type":"string",
										"title":"ServiceName"
									},
									"ServiceFaultClass":{
										"type":"string",
										"title":"ServiceFaultClass"
									},
									"BBFN":{
										"type":"object",
										"properties":{
											"CustomerFunctions":{
												"type":"string",
												"title":"CustomerFunctions"
											}
										},
										"title":"BBFN",
										"additionalProperties":false
									},
									"Attributes":{
										"type":"object",
										"properties":{
											"Attribut":{
												"type":"array",
												"items":{
													"type":"object",
													"properties":{
														"Explanation":{
															"type":"string",
															"title":"Explanation"
														},
														"Value":{
															"type":"string",
															"title":"Value"
														},
														"Name":{
															"type":"string",
															"title":"Name"
														}
													},
													"additionalProperties":false
												},
												"title":"Attribut"
											}
										},
										"title":"Attributes",
										"additionalProperties":false
									},
									"ServiceVersion":{
										"type":"string",
										"title":"ServiceVersion"
									},
									"ServiceFaultSeverity":{
										"type":"string",
										"title":"ServiceFaultSeverity"
									}
								}
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Finalize BusinessFaults",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"nMXtW@GfEE4-1@n",
			"id":"nyKx1",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"type":"object",
									"properties":{
										"Info":{
											"type":"object",
											"properties":{
												"InformationsBeschreibung":{
													"type":"string",
													"title":"InformationsBeschreibung"
												},
												"AngebotsID":{
													"type":"string",
													"title":"AngebotsID"
												},
												"InformationsCode":{
													"type":"string",
													"title":"InformationsCode"
												},
												"InformationsName":{
													"type":"string",
													"title":"InformationsName"
												}
											},
											"title":"Info",
											"additionalProperties":false
										}
									},
									"additionalProperties":false
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray",
					"items":{
						"Info":{
							"InformationsBeschreibung":"Die Konfiguration ist OK",
							"InformationsCode":"50100",
							"InformationsName":"Konfiguration OK",
							"AngebotsID":"{{ 5OM35.outputs.request.Angebot.ID }}"
						}
					}
				},
				"ua:title":"InfoObject SingletonList",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"InfoObject SingletonList",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"Info":{
										"type":"object",
										"properties":{
											"InformationsBeschreibung":{
												"type":"string",
												"title":"InformationsBeschreibung"
											},
											"AngebotsID":{
												"type":"string",
												"title":"AngebotsID"
											},
											"InformationsCode":{
												"type":"string",
												"title":"InformationsCode"
											},
											"InformationsName":{
												"type":"string",
												"title":"InformationsName"
											}
										},
										"title":"Info",
										"additionalProperties":false
									}
								}
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"InfoObject SingletonList",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":0,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GfEE4-1",
			"id":"W0Wyi",
			"index":0,
			"inputs":{
				"result":{
					"businessFaults":{
						"ua:type":"mappedArray",
						"items":{
							"BusinessFault":{
								"Attributes":{
									"Attribut":{
										"ua:type":"mappedArray",
										"items":{
											"Explanation":"{{ jUk1D.outputs.items[0].Attributes.Attribut[0].Explanation }}",
											"Value":"{{ jUk1D.outputs.items[0].Attributes.Attribut[0].Value }}",
											"Name":"{{ jUk1D.outputs.items[0].Attributes.Attribut[0].Name }}"
										},
										"source":"{{ jUk1D.outputs.items[0].Attributes.Attribut }}"
									}
								},
								"ServiceFaultReason":"{{ jUk1D.outputs.items[0].ServiceFaultReason }}",
								"isRepeatable":"{{ jUk1D.outputs.items[0].isRepeatable }}",
								"ServiceFault":"{{ jUk1D.outputs.items[0].ServiceFault }}",
								"ServiceFaultClass":"{{ jUk1D.outputs.items[0].ServiceFaultClass }}",
								"ServiceFaultSeverity":"{{ jUk1D.outputs.items[0].ServiceFaultSeverity }}",
								"ServiceName":"{{ jUk1D.outputs.items[0].ServiceName }}",
								"ServiceVersion":"{{ jUk1D.outputs.items[0].ServiceVersion }}",
								"BBFN":{
									"CustomerFunctions":"{{ jUk1D.outputs.items[0].BBFN.CustomerFunctions }}"
								}
							}
						},
						"source":"{{ jUk1D.outputs.items }}"
					},
					"Info":{
						"ua:type":"mappedArray",
						"items":{
							"AngebotsID":"{{ nyKx1.outputs.items[0].Info.AngebotsID }}",
							"InformationsCode":"{{ nyKx1.outputs.items[0].Info.InformationsCode }}",
							"InformationsName":"{{ nyKx1.outputs.items[0].Info.InformationsName }}",
							"InformationsBeschreibung":"{{ nyKx1.outputs.items[0].Info.InformationsBeschreibung }}"
						},
						"source":"{{ nyKx1.outputs.items }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":34,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		"dev"
	],
	"version":115
}