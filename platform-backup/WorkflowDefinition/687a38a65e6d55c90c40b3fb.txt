{
	"appsUsed":[
		"asana"
	],
	"createdTime":1757066135260,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759243520969,
		"deployedBy":-1,
		"deployedDefinitionId":"68dbed0023e6682b9a51eaaa",
		"status":"DEPLOYED",
		"version":11,
		"workflowVersion":88
	},
	"edges":[
		{
			"fromNodeId":"n_T2MeH",
			"priority":0,
			"skip":false,
			"toNodeId":"n_VlLai",
			"type":"next"
		},
		{
			"fromNodeId":"n_VlLai",
			"priority":0,
			"skip":false,
			"toNodeId":"n_lWXiC",
			"type":"next"
		},
		{
			"fromNodeId":"n_lWXiC",
			"priority":0,
			"skip":false,
			"toNodeId":"n_1286I",
			"type":"next"
		},
		{
			"fromNodeId":"n_1286I",
			"priority":0,
			"skip":false,
			"toNodeId":"n_9rgde",
			"type":"next"
		},
		{
			"fromNodeId":"n_9rgde",
			"priority":0,
			"skip":false,
			"toNodeId":"n_pKm91",
			"type":"next"
		},
		{
			"fromNodeId":"n_pKm91",
			"priority":0,
			"skip":false,
			"toNodeId":"n_MrfDi",
			"type":"next"
		},
		{
			"fromNodeId":"n_MrfDi",
			"priority":0,
			"skip":false,
			"toNodeId":"n_dlRNF",
			"type":"next"
		},
		{
			"fromNodeId":"n_dlRNF",
			"priority":0,
			"skip":false,
			"toNodeId":"n_slBT9",
			"type":"loop"
		},
		{
			"fromNodeId":"n_slBT9",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"n_dlRNF",
			"type":"next"
		},
		{
			"fromNodeId":"n_dlRNF",
			"priority":0,
			"skip":false,
			"toNodeId":"n_KJna9",
			"type":"next"
		},
		{
			"fromNodeId":"n_KJna9",
			"priority":0,
			"skip":false,
			"toNodeId":"n_3oFHY",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"687a38a65e6d55c90c40b3fb",
	"lastModifiedBy":-1,
	"lcName":"knowledge downloader | asana | project",
	"modifiedTime":1759243556804,
	"name":"Knowledge Downloader | Asana | Project",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":436,
				"resourceName":"callables_from_interface"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uEXKA-1",
			"id":"n_T2MeH",
			"index":1,
			"inputs":{
				"result":{
					"additionalProperties":false,
					"ua:modal":{
						"field_type":"STRING",
						"is_optional":true
					},
					"type":"object",
					"properties":{
						"hasMore":{
							"type":"boolean",
							"title":"Has More"
						},
						"cursor":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Cursor"
						},
						"downloadedEntitiesCount":{
							"type":"integer",
							"title":"Downloaded Entities Count"
						},
						"knowledgeDownloadFinished":{
							"type":"boolean",
							"title":"Knowledge Download Finished"
						}
					},
					"required":[]
				},
				"callableInterfaceId":"6854484ac68462013926b9cf",
				"setup":{
					"additionalProperties":false,
					"ua:modal":{
						"field_type":"STRING",
						"is_optional":true
					},
					"type":"object",
					"properties":{
						"knowledgeId":{
							"type":"string",
							"title":"knowledgeId"
						},
						"aiAgentId":{
							"type":"string",
							"title":"aiAgentId"
						},
						"knowledge":{
							"type":"object",
							"properties":{
								"readVersion":{
									"type":"integer",
									"title":"readVersion"
								},
								"lastSyncTime":{
									"type":"integer",
									"title":"lastSyncTime"
								},
								"cursorObject":{
									"type":"object",
									"title":"cursorObject"
								},
								"applicationInfo":{
									"type":"object",
									"properties":{
										"context":{
											"type":"object",
											"properties":{
												"connectionId":{
													"type":"string",
													"title":"Connection Id"
												}
											},
											"additionalProperties":false,
											"title":"Context",
											"required":[]
										}
									},
									"additionalProperties":false,
									"title":"Application Info",
									"required":[]
								},
								"indexingVersion":{
									"type":"integer",
									"title":"Indexing Version"
								}
							},
							"title":"knowledge",
							"additionalProperties":false,
							"required":[]
						},
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						},
						"cursor":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Cursor"
						},
						"importerConnections":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Importer Connections"
						},
						"downloaderConfig":{
							"type":"object",
							"properties":{
								"grabberType":{
									"type":"string",
									"title":"Grabber Type"
								},
								"currentTimeEpoch":{
									"type":"integer",
									"title":"Current Time Epoch"
								},
								"startTimeEpoch":{
									"type":"integer",
									"title":"Start Time Epoch"
								}
							},
							"additionalProperties":false,
							"title":"Downloader Config",
							"required":[]
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger interface",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.sharedWithIds.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uEXKA-1",
			"id":"n_VlLai",
			"index":2,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"mappedInputs":{
							"type":"object",
							"properties":{
								"workspace":{
									"type":"string",
									"title":"Workspace"
								},
								"projectId":{
									"type":"string",
									"title":"Project Id"
								},
								"assignee":{
									"type":"string",
									"title":"Assignee"
								},
								"startDate":{
									"type":"string",
									"title":"Start Date"
								},
								"endDate":{
									"type":"string",
									"title":"End Date"
								},
								"dueDate":{
									"type":"string",
									"title":"Due Date"
								},
								"createdBy":{
									"type":"string",
									"title":"Created By"
								},
								"project":{
									"type":"array",
									"items":{
										"type":"string"
									},
									"title":"Project"
								},
								"teams":{
									"type":"string",
									"title":"Teams"
								}
							},
							"additionalProperties":false,
							"title":"Mapped Inputs",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						},
						"cursor":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Cursor"
						},
						"downloaderConfig":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Downloader Config"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.lang.Math\nimport java.time.Instant\nimport java.time.ZoneId\nimport java.time.format.DateTimeFormatter\n\nString convertEpochToIso8601(long epochMillis, String timeZoneId = \"UTC\") {\n    def zoneId = ZoneId.of(timeZoneId)\n    return Instant.ofEpochMilli(epochMillis)\n                  .atZone(zoneId)\n                  .format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)\n}\n\ndef inputs = binding.hasVariable(\"inputs\") ? inputs : [:]\ndef startTimeEpoch = binding.hasVariable(\"downloaderConfig\") ? downloaderConfig.get(\"startTimeEpoch\",0) : 0\ndef startTimeUTC = convertEpochToIso8601(startTimeEpoch)\ndef userSpecifiedStartDate = inputs?.startDate?:null\n\n\n\nif(userSpecifiedStartDate==null)\n{\n    inputs << [\"startDate\":startTimeUTC]\n}\nelse\n{\n    def startTimeInstant = Instant.parse(startTimeUTC)\n    def userStartInstant = Instant.parse(userSpecifiedStartDate)\n    inputs <<  [\"startDate\" : startTimeInstant.isAfter(userStartInstant)?startTimeUTC:userSpecifiedStartDate ]\n}\n\nif (binding.hasVariable(\"cursor\") && cursor.containsKey(\"lastMessageTime\") &&cursor?.lastMessageTime != null ) {\n    inputs.startDate = cursor.lastMessageTime.toString()\n} \n\nreturn [\n    \"mappedInputs\": inputs\n];\n",
				"parameters":{
					"inputs":"{{ n_T2MeH.outputs.inputs }}",
					"cursor":"{{ n_T2MeH.outputs.cursor }}",
					"downloaderConfig":"{{ n_T2MeH.outputs.downloaderConfig }}"
				}
			},
			"skip":false,
			"subTitle":"Input parsing",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":460,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uEXKA-1",
			"id":"n_lWXiC",
			"index":3,
			"inputs":{
				"automationId":"687b237c6ffe32bb9268d178",
				"runtimeConnections":{
					"asana":"{{ n_T2MeH.outputs.knowledge.applicationInfo.context.connectionId }}"
				},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"projectId":"{{ n_VlLai.outputs.result.mappedInputs.projectId }}"
				}
			},
			"skip":false,
			"subTitle":"Get sharedWith ids for Project",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uEXKA-1",
			"id":"n_1286I",
			"index":4,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"startDate":{
							"type":"string",
							"title":"Start Date"
						},
						"endDate":{
							"type":"string",
							"title":"End Date"
						},
						"dueDateStart":{
							"type":"string",
							"title":"Due Date Start"
						},
						"dueDateEnd":{
							"type":"string",
							"title":"Due Date End"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"startDate":{
							"type":"string",
							"title":"Start Date"
						},
						"endDate":{
							"type":"string",
							"title":"End Date"
						},
						"dueDate":{
							"type":"string",
							"title":"Due Date"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.time.Instant\nimport java.time.temporal.ChronoUnit\n\ndef startDate=binding.hasVariable(\"startDate\")?binding.startDate:null\ndef endDate=binding.hasVariable(\"endDate\")?binding.endDate:null\ndef dueDate=binding.hasVariable(\"dueDate\")?binding.dueDate:null\n\nif(startDate!=null)\n{\n  def startDateInstant=Instant.parse(startDate)\n  startDate=startDateInstant.minus(1,ChronoUnit.SECONDS).toString()\n}\nif(endDate!=null)\n{\n  def endDateInstant=Instant.parse(endDate)\n  endDate=endDateInstant.plus(1,ChronoUnit.SECONDS).toString()\n}\ndef dueDateStart=null\ndef dueDateEnd=null\nif(dueDate!=null)\n{\n  def dueDateInstant=Instant.parse(dueDate)\n  dueDateStart=dueDateInstant.minus(1,ChronoUnit.SECONDS).toString()\n  dueDateEnd=dueDateInstant.plus(1,ChronoUnit.SECONDS).toString()\n}\nreturn [\"startDate\":startDate,\"endDate\":endDate,\"dueDateStart\":dueDateStart,\"dueDateEnd\":dueDateEnd]\n\n\n",
				"parameters":{
					"startDate":"{{ n_VlLai.outputs.result.mappedInputs.startDate }}",
					"endDate":"{{ n_VlLai.outputs.result.mappedInputs.endDate }}",
					"dueDate":"{{ n_VlLai.outputs.result.mappedInputs.dueDate }}"
				}
			},
			"skip":false,
			"subTitle":"Create time range to fetch Tasks",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"asana",
				"resourceVersion":7,
				"connectionId":"6879fb7c15d271dc99b19b31",
				"resourceName":"asana_search_tasks_from_workspace",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uEXKA-1",
			"id":"n_9rgde",
			"index":5,
			"inputs":{
				"created_by_any":"{{ n_VlLai.outputs.result.mappedInputs.createdBy }}",
				"opt_fields":[
					"actual_time_minutes",
					"approval_status",
					"assignee",
					"assignee.name",
					"assignee_section",
					"assignee_section.name",
					"assignee_status",
					"completed",
					"completed_at",
					"workspace",
					"followers.name",
					"custom_fields.has_notifications_enabled",
					"custom_fields.number_value",
					"custom_fields.multi_enum_values",
					"custom_fields.display_value",
					"custom_fields.enum_value.color",
					"custom_fields.description",
					"custom_fields.custom_label",
					"custom_fields.default_access_level",
					"custom_fields.enum_options",
					"custom_fields.date_value.date_time",
					"custom_fields.enabled",
					"custom_fields.enum_value.enabled",
					"uri",
					"workspace.name",
					"tags.name",
					"offset",
					"hearts",
					"external.data",
					"due_on",
					"custom_fields.enum_options.color",
					"custom_fields.multi_enum_values.name",
					"custom_fields.date_value.date",
					"followers",
					"custom_fields.precision",
					"custom_fields.enum_value.name",
					"custom_fields.is_global_to_workspace",
					"created_at",
					"completed_by.name",
					"completed_by",
					"custom_fields.asana_created_field",
					"custom_fields",
					"created_by",
					"custom_fields.created_by.name",
					"custom_fields.created_by",
					"custom_fields.currency_code",
					"custom_fields.date_value",
					"custom_fields.custom_label_position",
					"custom_fields.enum_options.enabled",
					"custom_fields.enum_options.name",
					"custom_fields.enum_value",
					"custom_fields.id_prefix",
					"custom_fields.format",
					"custom_fields.is_value_read_only",
					"custom_fields.is_formula_field",
					"custom_fields.multi_enum_values.color",
					"custom_fields.multi_enum_values.enabled",
					"custom_fields.name",
					"custom_fields.people_value.name",
					"custom_fields.people_value",
					"custom_fields.privacy_setting",
					"custom_fields.resource_subtype",
					"custom_fields.representation_type",
					"custom_fields.text_value",
					"custom_fields.type",
					"custom_type_status_option.name",
					"custom_type.name",
					"custom_type",
					"tags",
					"start_at",
					"start_on",
					"projects.name",
					"resource_subtype",
					"num_likes",
					"num_subtasks",
					"parent.name",
					"path",
					"memberships",
					"permalink_url",
					"notes",
					"parent",
					"parent.resource_subtype",
					"projects",
					"parent.created_by",
					"custom_type_status_option",
					"dependents",
					"external",
					"dependencies",
					"due_at",
					"hearted",
					"hearts.user",
					"hearts.user.name",
					"is_rendered_as_separator",
					"html_notes",
					"liked",
					"likes",
					"likes.user",
					"likes.user.name",
					"memberships.project",
					"memberships.project.name",
					"memberships.section",
					"memberships.section.name",
					"modified_at",
					"name",
					"num_hearts"
				],
				"due_at_after":"{{ n_1286I.outputs.result.dueDateStart }}",
				"sort_by":"modified_at",
				"assignee_any":"{{ n_VlLai.outputs.result.mappedInputs.assignee }}",
				"resource_subtype":"default_task",
				"modified_at_after":"{{ n_1286I.outputs.result.startDate }}",
				"modified_at_before":"{{ n_1286I.outputs.result.endDate }}",
				"sort_ascending":true,
				"teams_any":"{{ n_VlLai.outputs.result.mappedInputs.teams }}",
				"projects_any":"{{ n_VlLai.outputs.result.mappedInputs.projectId }}",
				"workspace_gid":"{{ n_VlLai.outputs.result.mappedInputs.workspace }}",
				"due_at_before":"{{ n_1286I.outputs.result.dueDateEnd }}"
			},
			"skip":false,
			"subTitle":"Asana",
			"title":"Search tasks from workspace",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"asana",
				"resourceVersion":2505,
				"connectionId":"6892e16fa6b421090d023209",
				"resourceName":"asana_get_project_details",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uEXKA-1",
			"id":"n_pKm91",
			"index":6,
			"inputs":{
				"project_gid":"{{ n_VlLai.outputs.result.mappedInputs.projectId }}"
			},
			"skip":false,
			"subTitle":"Asana",
			"title":"Get project details",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				},
				"visibleOptionalFields":[
					"root.parameters.tasks.items",
					"root.parameters.assignee.items",
					"root.parameters.createdBy.items",
					"root.parameters.sharedWithIds.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uEXKA-1",
			"id":"n_MrfDi",
			"index":7,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"tasks":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Tasks"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"tasks":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Tasks"
						},
						"sharedWithIds":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Shared With Ids"
						},
						"projectDetails":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Project Details"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.time.*\n\ndef tasks = binding.hasVariable(\"tasks\") ? binding.tasks : []\ndef projectDet=binding.hasVariable(\"projectDetails\")?binding.projectDetails:null\ndef sharedWithIds=binding.hasVariable(\"sharedWithIds\")?binding.sharedWithIds:[]\n\ntasks.each{ task->\ntask << [\"sharedWithIds\":sharedWithIds]\nif(task?.projects.size()==0)\n{\n  def proj=[:]\n  proj << [\"gid\":projectDet?.gid]\n  proj << [\"name\":projectDet?.name]\n  task.projects.add(proj)\n}\n}\n\n    \nreturn [tasks: tasks]\n",
				"parameters":{
					"tasks":{
						"ua:type":"mappedArray",
						"source":"{{ n_9rgde.outputs.data }}",
						"items":"{{ n_9rgde.outputs.data[0] }}"
					},
					"sharedWithIds":{
						"source":"{{ n_lWXiC.outputs.sharedWithIds }}",
						"ua:type":"mappedArray",
						"items":"{{ n_lWXiC.outputs.sharedWithIds[0] }}"
					},
					"projectDetails":"{{ n_pKm91.outputs.data }}"
				}
			},
			"skip":false,
			"subTitle":"Add SharedwithIds in task",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":455,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uEXKA-1",
			"id":"n_dlRNF",
			"index":8,
			"inputs":{
				"repeatMode":"BATCH",
				"listSource":"{{ n_MrfDi.outputs.result.tasks }}",
				"captureIterations":false,
				"batchSize":20
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For each loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":450,
				"resourceName":"callables_call_automation_batch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_dlRNF@_uEXKA-1@l",
			"id":"n_slBT9",
			"index":9,
			"inputs":{
				"automationId":"687b21b96ffe32bb9268cfce",
				"runtimeConnections":{
					"asana":"{{ n_T2MeH.outputs.knowledge.applicationInfo.context.connectionId }}"
				},
				"synchronous":true,
				"distributeWorkflowLoad":false,
				"parametersList":{
					"source":"{{ n_dlRNF.outputs.item }}",
					"ua:type":"mappedArray",
					"items":{
						"task":"{{ n_dlRNF.outputs.item[0] }}",
						"indexingVersion":"{{ n_T2MeH.outputs.knowledge.indexingVersion }}",
						"knowledgeId":"{{ n_T2MeH.outputs.knowledgeId }}",
						"connectionId":"{{ n_T2MeH.outputs.knowledge.applicationInfo.context.connectionId }}",
						"projectId":"{{ n_VlLai.outputs.result.mappedInputs.projectId }}"
					}
				},
				"version":"-1"
			},
			"skip":false,
			"subTitle":"Task Downloader",
			"title":"Call automation (batch)",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.tasks.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uEXKA-1",
			"id":"n_KJna9",
			"index":10,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"cursor":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Cursor"
						},
						"hasMore":{
							"type":"boolean",
							"title":"Has More"
						},
						"knowledgeDownloadFinished":{
							"type":"boolean",
							"title":"Knowledge Download Finished"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"tasks":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Tasks"
						},
						"downloaderConfig":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Downloader Config"
						},
						"userSpecifiedEndTime":{
							"type":"string",
							"title":"User Specified End Time"
						}
					}
				},
				"code":"import java.time.Instant\nboolean hasMore = false\ndef isoToEpoch(String utcTime) {\n    return Instant.parse(utcTime).toEpochMilli()\n}\ndef lastMessageTime\ndef lastMessageTimeInSeconds\ndef userSpecifiedEndTimeInSeconds\n\nif (binding.hasVariable('tasks') && tasks.size() != 0) {\n    lastMessageTime = tasks[-1].modified_at.toString()\n}\n\ndef currentTimeEpoch = binding.hasVariable('downloaderConfig') ? downloaderConfig.currentTimeEpoch : 0\n\ndef currentTimeEpochInSeconds = (currentTimeEpoch/1000).longValue()\nif(lastMessageTime!=null)\n{\n    lastMessageTimeInSeconds = (isoToEpoch(lastMessageTime)/1000).longValue()\n}\nif(binding.hasVariable(\"userSpecifiedEndTime\"))\n{\n    userSpecifiedEndTimeInSeconds=(isoToEpoch(userSpecifiedEndTime)/1000).longValue()\n\n}\ndef channelApiHasMore=(binding.hasVariable(\"tasks\")&&tasks.size()==100)?true:false\n\nhasMore = channelApiHasMore && (currentTimeEpochInSeconds >= lastMessageTimeInSeconds)   \nboolean userSpecifiedTimeReached = false\n\nreturn [\n    \"cursor\": [\"lastMessageTime\": lastMessageTime],\n    \"hasMore\" : hasMore,\n    \"knowledgeDownloadFinished\" : !channelApiHasMore && userSpecifiedTimeReached\n]\n",
				"compile_static":false,
				"parameters":{
					"downloaderConfig":"{{ n_T2MeH.outputs.downloaderConfig }}",
					"userSpecifiedEndTime":"{{ n_VlLai.outputs.result.mappedInputs.endDate }}",
					"tasks":{
						"source":"{{ n_9rgde.outputs.data }}",
						"ua:type":"mappedArray",
						"items":"{{ n_9rgde.outputs.data[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Update cursor",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":455,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uEXKA-1",
			"id":"n_3oFHY",
			"index":11,
			"inputs":{
				"result":{
					"cursor":"{{ n_KJna9.outputs.result.cursor }}",
					"hasMore":"{{ n_KJna9.outputs.result.hasMore }}",
					"knowledgeDownloadFinished":"{{ n_KJna9.outputs.result.knowledgeDownloadFinished }}",
					"downloadedEntitiesCount":"=LEN({{ n_9rgde.outputs.data }})"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":0,
	"runtimeConnectionAppNames":[
		"asana"
	],
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":false,
		"enableRunLogging":false,
		"enableVariableLogging":false,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"knowledge_v2"
	],
	"version":89
}