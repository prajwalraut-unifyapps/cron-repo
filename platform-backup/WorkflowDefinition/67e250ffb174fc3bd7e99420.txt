{
	"appsUsed":[
		
	],
	"createdTime":1747000744531,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760550690627,
		"deployedBy":1,
		"deployedDefinitionId":"68efdf22e09fb733aee41f8c",
		"status":"DEPLOYED",
		"version":118,
		"workflowVersion":173
	},
	"edges":[
		{
			"fromNodeId":"A6plu",
			"priority":0,
			"skip":false,
			"toNodeId":"53LAF",
			"type":"next"
		},
		{
			"fromNodeId":"53LAF",
			"priority":0,
			"skip":false,
			"toNodeId":"n_rycWq",
			"type":"next"
		},
		{
			"fromNodeId":"n_rycWq",
			"priority":0,
			"skip":false,
			"toNodeId":"n_mDmM9",
			"type":"next"
		},
		{
			"fromNodeId":"n_mDmM9",
			"priority":0,
			"skip":false,
			"toNodeId":"lAcNi",
			"type":"next"
		},
		{
			"fromNodeId":"lAcNi",
			"priority":0,
			"skip":false,
			"toNodeId":"5UvId",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"67e250ffb174fc3bd7e99420",
	"lastModifiedBy":0,
	"lcName":"get guardrail settings | ai agent",
	"modifiedTime":1760636977320,
	"name":"Get Guardrail Settings | AI Agent",
	"nodes":[
		{
			"additional":{
				"xsdSchemaConfig":{}
			},
			"context":{
				"appName":"callables",
				"resourceVersion":161,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"aIewV-1",
			"id":"A6plu",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"objects":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"id":{
										"type":"string",
										"title":"Id"
									},
									"properties":{
										"type":"object",
										"properties":{
											"BlockedMessaging":{
												"type":"object",
												"properties":{
													"blockedMessagingForResponses":{
														"type":"object",
														"properties":{
															"blockedMessage":{
																"type":"string",
																"title":"blockedMessage"
															}
														},
														"title":"blockedMessagingForResponses",
														"additionalProperties":false
													},
													"blockedMessagingForPrompts":{
														"type":"object",
														"properties":{
															"blockedMessage":{
																"type":"string",
																"title":"blockedMessage"
															}
														},
														"title":"blockedMessagingForPrompts",
														"additionalProperties":false
													},
													"customBlockedMessaging":{
														"type":"object",
														"properties":{
															"guardrailTypes":{
																"type":"array",
																"items":{
																	"type":"object",
																	"properties":{},
																	"additionalProperties":false
																},
																"title":"Guardrail Types"
															},
															"blockedMessagingForPrompts":{
																"type":"object",
																"properties":{
																	"blockedMessage":{
																		"type":"string",
																		"title":"Blocked Message"
																	}
																},
																"additionalProperties":false,
																"title":"Blocked Messaging For Prompts",
																"required":[]
															},
															"blockedMessagingForResponses":{
																"type":"object",
																"properties":{
																	"blockedMessage":{
																		"type":"string",
																		"title":"Blocked Message"
																	}
																},
																"additionalProperties":false,
																"title":"Blocked Messaging For Responses",
																"required":[]
															}
														},
														"additionalProperties":false,
														"title":"Custom Blocked Messaging",
														"required":[]
													}
												},
												"additionalProperties":false,
												"title":"BlockedMessaging",
												"required":[]
											},
											"Hallucinations":{
												"type":"object",
												"properties":{
													"groundingConfig":{
														"type":"object",
														"properties":{
															"groundingScore":{
																"type":"number",
																"title":"groundingScore"
															},
															"enableGrounding":{
																"type":"boolean",
																"title":"enableGrounding"
															}
														},
														"title":"groundingConfig",
														"additionalProperties":false
													},
													"relevanceConfig":{
														"type":"object",
														"properties":{
															"enableRelevance":{
																"type":"boolean",
																"title":"enableRelevance"
															},
															"relevanceScore":{
																"type":"number",
																"title":"relevanceScore"
															}
														},
														"title":"relevanceConfig",
														"additionalProperties":false
													},
													"llmModel":{
														"type":"string",
														"title":"llmModel"
													}
												},
												"additionalProperties":false,
												"title":"Hallucinations"
											},
											"DeniedTopics":{
												"type":"object",
												"properties":{
													"DeniedTopics":{
														"type":"array",
														"items":{
															"type":"object",
															"properties":{
																"addSamplePhrases":{
																	"type":"array",
																	"items":{
																		"type":"string"
																	},
																	"title":"addSamplePhrases"
																},
																"definitionOfYourTopic":{
																	"type":"string",
																	"title":"definitionOfYourTopic"
																},
																"topicName":{
																	"type":"string",
																	"title":"topicName"
																},
																"appliesTo":{
																	"type":"array",
																	"items":{
																		"type":"string"
																	},
																	"title":"Applies To"
																}
															},
															"additionalProperties":false,
															"required":[]
														},
														"title":"DeniedTopics"
													},
													"llmModel":{
														"type":"string",
														"title":"llmModel"
													}
												},
												"additionalProperties":false,
												"title":"DeniedTopics"
											},
											"aiAgentId":{
												"type":"string",
												"title":"aiAgentId"
											},
											"customWorldFilter":{
												"type":"object",
												"properties":{
													"wordsOrPhrases":{
														"type":"array",
														"items":{
															"type":"object",
															"properties":{
																"name":{
																	"type":"string",
																	"title":"name"
																},
																"behaviour":{
																	"type":"string",
																	"title":"Behaviour"
																}
															},
															"additionalProperties":false,
															"required":[]
														},
														"title":"wordsOrPhrases"
													},
													"filterProfanity":{
														"type":"boolean",
														"title":"filterProfanity"
													},
													"appliesTo":{
														"type":"array",
														"items":{
															"type":"string"
														},
														"title":"Applies To"
													}
												},
												"additionalProperties":false,
												"title":"customWorldFilter",
												"required":[]
											},
											"RedactSensitiveInformation":{
												"type":"object",
												"properties":{
													"regex":{
														"type":"object",
														"properties":{
															"patterns":{
																"type":"array",
																"items":{
																	"type":"object",
																	"properties":{
																		"name":{
																			"type":"string",
																			"title":"name"
																		},
																		"pattern":{
																			"type":"string",
																			"title":"pattern"
																		},
																		"behaviour":{
																			"type":"string",
																			"title":"behaviour"
																		},
																		"appliesTo":{
																			"type":"array",
																			"items":{
																				"type":"string"
																			},
																			"title":"Applies To"
																		}
																	},
																	"additionalProperties":false,
																	"required":[]
																},
																"title":"patterns"
															},
															"enabled":{
																"type":"boolean",
																"title":"enabled"
															}
														},
														"additionalProperties":false,
														"title":"regex",
														"required":[]
													},
													"automations":{
														"type":"object",
														"properties":{
															"ids":{
																"type":"array",
																"items":{
																	"type":"object",
																	"properties":{
																		"id":{
																			"type":"string",
																			"title":"Id"
																		},
																		"appliesTo":{
																			"type":"array",
																			"items":{
																				"type":"string"
																			},
																			"title":"Applies To"
																		}
																	},
																	"additionalProperties":false,
																	"required":[]
																},
																"title":"ids"
															},
															"enabled":{
																"type":"boolean",
																"title":"enabled"
															}
														},
														"additionalProperties":false,
														"title":"automations",
														"required":[]
													},
													"piiByUA":{
														"type":"object",
														"properties":{
															"enabled":{
																"type":"boolean",
																"title":"enabled"
															}
														},
														"additionalProperties":false,
														"title":"piiByUA",
														"required":[]
													}
												},
												"additionalProperties":false,
												"title":"RedactSensitiveInformation",
												"required":[]
											},
											"contentFilters":{
												"type":"object",
												"properties":{
													"filterStrengthForResponses":{
														"type":"object",
														"properties":{
															"misconduct":{
																"type":"string",
																"title":"misconduct"
															},
															"hate":{
																"type":"string",
																"title":"hate"
															},
															"promptAttack":{
																"type":"string",
																"title":"promptAttack"
															},
															"sexual":{
																"type":"string",
																"title":"sexual"
															},
															"insult":{
																"type":"string",
																"title":"insult"
															},
															"violence":{
																"type":"string",
																"title":"violence"
															}
														},
														"title":"filterStrengthForResponses",
														"additionalProperties":false
													},
													"llmModel":{
														"type":"string",
														"title":"llmModel"
													},
													"filterStrengthForPrompts":{
														"type":"object",
														"properties":{
															"misconduct":{
																"type":"string",
																"title":"misconduct"
															},
															"promptAttack":{
																"type":"string",
																"title":"promptAttack"
															},
															"hate":{
																"type":"string",
																"title":"hate"
															},
															"sexual":{
																"type":"string",
																"title":"sexual"
															},
															"insult":{
																"type":"string",
																"title":"insult"
															},
															"violence":{
																"type":"string",
																"title":"violence"
															}
														},
														"title":"filterStrengthForPrompts",
														"additionalProperties":false
													}
												},
												"additionalProperties":false,
												"title":"contentFilters"
											},
											"runAsync":{
												"type":"boolean",
												"title":"Run Async"
											},
											"automations":{
												"type":"object",
												"properties":{
													"automationIds":{
														"type":"array",
														"items":{
															"type":"object",
															"properties":{
																"automationId":{
																	"type":"string",
																	"title":"Automation Id"
																},
																"name":{
																	"type":"string",
																	"title":"Name"
																},
																"version":{
																	"type":"string",
																	"title":"Version"
																},
																"appliesTo":{
																	"type":"array",
																	"items":{
																		"type":"string"
																	},
																	"title":"Applies To"
																}
															},
															"additionalProperties":false,
															"required":[]
														},
														"title":"Automation Ids"
													},
													"enabled":{
														"type":"boolean",
														"title":"Enabled"
													}
												},
												"additionalProperties":false,
												"title":"Automations",
												"required":[]
											}
										},
										"additionalProperties":false,
										"title":"Properties",
										"required":[]
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"objects"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"aiAgentID"
					],
					"properties":{
						"aiAgentID":{
							"type":"string",
							"title":"aiAgentID"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":220,
				"resourceName":"variable_by_unifyapps_get_session_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"aIewV-1",
			"id":"53LAF",
			"index":2,
			"inputs":{
				"variableSchema":{
					"type":"object",
					"properties":{
						"ai_agent_use_deployed_entity":{
							"type":"boolean",
							"title":"Ai Agent Use Deployed Entity"
						},
						"ai_agent_deployed_version":{
							"type":"integer",
							"title":"Ai Agent Deployed Version"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Get Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":458,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"aIewV-1",
			"id":"n_rycWq",
			"index":3,
			"inputs":{
				"automationId":"68540730b0b2635694de2c80",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"GLOBAL"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":458,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"aIewV-1",
			"id":"n_mDmM9",
			"index":4,
			"inputs":{
				"automationId":"68540730b0b2635694de2c80",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ A6plu.outputs.aiAgentID }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				},
				"visibleOptionalFields":[
					"root.parameters.global.items",
					"root.parameters.user.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":161,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"aIewV-1",
			"id":"lAcNi",
			"index":5,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"final":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"properties":{
										"type":"object",
										"properties":{
											"name":{
												"type":"string",
												"title":"name"
											},
											"description":{
												"type":"string",
												"title":"description"
											},
											"aiAgentId":{
												"type":"string",
												"title":"aiAgentId"
											},
											"Hallucinations":{
												"type":"object",
												"properties":{
													"groundingConfig":{
														"type":"object",
														"properties":{
															"enableGrounding":{
																"type":"boolean",
																"title":"enableGrounding"
															},
															"groundingScore":{
																"type":"number",
																"title":"groundingScore"
															}
														},
														"title":"groundingConfig",
														"additionalProperties":false
													},
													"relevanceConfig":{
														"type":"object",
														"properties":{
															"enableRelevance":{
																"type":"boolean",
																"title":"enableRelevance"
															},
															"relevanceScore":{
																"type":"number",
																"title":"relevanceScore"
															}
														},
														"title":"relevanceConfig",
														"additionalProperties":false
													},
													"llmModel":{
														"type":"string",
														"title":"llmModel"
													}
												},
												"title":"Hallucinations",
												"additionalProperties":false
											},
											"customWorldFilter":{
												"type":"object",
												"properties":{
													"filterProfanity":{
														"type":"boolean",
														"title":"filterProfanity"
													},
													"wordsOrPhrases":{
														"type":"array",
														"items":{
															"type":"object",
															"properties":{
																"name":{
																	"type":"string",
																	"title":"name"
																},
																"behaviour":{
																	"type":"string",
																	"title":"Behaviour"
																}
															},
															"additionalProperties":false,
															"required":[]
														},
														"title":"wordsOrPhrases"
													},
													"appliesTo":{
														"type":"array",
														"items":{
															"type":"string"
														},
														"title":"Applies To"
													}
												},
												"title":"customWorldFilter",
												"additionalProperties":false,
												"required":[]
											},
											"DeniedTopics":{
												"type":"object",
												"properties":{
													"DeniedTopics":{
														"type":"array",
														"items":{
															"type":"object",
															"properties":{
																"topicName":{
																	"type":"string",
																	"title":"topicName"
																},
																"addSamplePhrases":{
																	"type":"array",
																	"items":{
																		"type":"string"
																	},
																	"title":"addSamplePhrases"
																},
																"definitionOfYourTopic":{
																	"type":"string",
																	"title":"definitionOfYourTopic"
																},
																"appliesTo":{
																	"type":"array",
																	"items":{
																		"type":"string"
																	},
																	"title":"Applies To"
																}
															},
															"additionalProperties":false,
															"required":[]
														},
														"title":"DeniedTopics"
													},
													"llmModel":{
														"type":"string",
														"title":"llmModel"
													}
												},
												"title":"DeniedTopics",
												"additionalProperties":false
											},
											"RedactSensitiveInformation":{
												"type":"object",
												"properties":{
													"regex":{
														"type":"object",
														"properties":{
															"enabled":{
																"type":"boolean",
																"title":"enabled"
															},
															"patterns":{
																"type":"array",
																"items":{
																	"type":"object",
																	"properties":{
																		"name":{
																			"type":"string",
																			"title":"name"
																		},
																		"pattern":{
																			"type":"string",
																			"title":"pattern"
																		},
																		"behaviour":{
																			"type":"string",
																			"title":"behaviour"
																		},
																		"appliesTo":{
																			"type":"array",
																			"items":{
																				"type":"string"
																			},
																			"title":"Applies To"
																		}
																	},
																	"additionalProperties":false,
																	"required":[]
																},
																"title":"patterns"
															}
														},
														"title":"regex",
														"additionalProperties":false
													},
													"automations":{
														"type":"object",
														"properties":{
															"enabled":{
																"type":"boolean",
																"title":"enabled"
															},
															"ids":{
																"type":"array",
																"items":{
																	"type":"object",
																	"properties":{
																		"id":{
																			"type":"string",
																			"title":"Id"
																		},
																		"appliesTo":{
																			"type":"array",
																			"items":{
																				"type":"string"
																			},
																			"title":"Applies To"
																		}
																	},
																	"additionalProperties":false,
																	"required":[]
																},
																"title":"ids"
															}
														},
														"title":"automations",
														"additionalProperties":false,
														"required":[]
													},
													"piiByUA":{
														"type":"object",
														"properties":{
															"enabled":{
																"type":"boolean",
																"title":"enabled"
															}
														},
														"title":"piiByUA",
														"additionalProperties":false
													}
												},
												"title":"RedactSensitiveInformation",
												"additionalProperties":false
											},
											"BlockedMessaging":{
												"type":"object",
												"properties":{
													"blockedMessagingForPrompts":{
														"type":"object",
														"properties":{
															"blockedMessage":{
																"type":"string",
																"title":"blockedMessage"
															}
														},
														"title":"blockedMessagingForPrompts",
														"additionalProperties":false
													},
													"blockedMessagingForResponses":{
														"type":"object",
														"properties":{
															"blockedMessage":{
																"type":"string",
																"title":"blockedMessage"
															}
														},
														"title":"blockedMessagingForResponses",
														"additionalProperties":false
													},
													"customBlockedMessaging":{
														"type":"object",
														"properties":{
															"guardrailTypes":{
																"type":"array",
																"items":{
																	"type":"string"
																},
																"title":"Guardrail Types"
															},
															"blockedMessagingForPrompts":{
																"type":"object",
																"properties":{
																	"blockedMessage":{
																		"type":"string",
																		"title":"Blocked Message"
																	}
																},
																"additionalProperties":false,
																"title":"Blocked Messaging For Prompts",
																"required":[]
															},
															"blockedMessagingForResponses":{
																"type":"object",
																"properties":{
																	"blockedMessage":{
																		"type":"string",
																		"title":"Blocked Message"
																	}
																},
																"additionalProperties":false,
																"title":"Blocked Messaging For Responses",
																"required":[]
															}
														},
														"additionalProperties":false,
														"title":"Custom Blocked Messaging",
														"required":[]
													}
												},
												"title":"BlockedMessaging",
												"additionalProperties":false,
												"required":[]
											},
											"contentFilters":{
												"type":"object",
												"properties":{
													"filterStrengthForResponses":{
														"type":"object",
														"properties":{
															"hate":{
																"type":"string",
																"title":"hate"
															},
															"insult":{
																"type":"string",
																"title":"insult"
															},
															"misconduct":{
																"type":"string",
																"title":"misconduct"
															},
															"violence":{
																"type":"string",
																"title":"violence"
															},
															"sexual":{
																"type":"string",
																"title":"sexual"
															},
															"promptAttack":{
																"type":"string",
																"title":"promptAttack"
															}
														},
														"title":"filterStrengthForResponses",
														"additionalProperties":false
													},
													"filterStrengthForPrompts":{
														"type":"object",
														"properties":{
															"hate":{
																"type":"string",
																"title":"hate"
															},
															"insult":{
																"type":"string",
																"title":"insult"
															},
															"misconduct":{
																"type":"string",
																"title":"misconduct"
															},
															"violence":{
																"type":"string",
																"title":"violence"
															},
															"sexual":{
																"type":"string",
																"title":"sexual"
															},
															"promptAttack":{
																"type":"string",
																"title":"promptAttack"
															}
														},
														"title":"filterStrengthForPrompts",
														"additionalProperties":false
													},
													"llmModel":{
														"type":"string",
														"title":"llmModel"
													}
												},
												"title":"contentFilters",
												"additionalProperties":false
											},
											"runAsync":{
												"type":"boolean",
												"title":"Run Async"
											},
											"automations":{
												"type":"object",
												"properties":{
													"automationIds":{
														"type":"array",
														"items":{
															"type":"object",
															"properties":{
																"automationId":{
																	"type":"string",
																	"title":"Automation Id"
																},
																"name":{
																	"type":"string",
																	"title":"Name"
																},
																"version":{
																	"type":"string",
																	"title":"Version"
																},
																"appliesTo":{
																	"type":"array",
																	"items":{
																		"type":"string"
																	},
																	"title":"Applies To"
																}
															},
															"additionalProperties":false,
															"required":[]
														},
														"title":"Automation Ids"
													},
													"enabled":{
														"type":"boolean",
														"title":"Enabled"
													}
												},
												"additionalProperties":false,
												"title":"Automations",
												"required":[]
											}
										},
										"additionalProperties":false,
										"title":"properties",
										"required":[]
									},
									"id":{
										"type":"string",
										"title":"Id"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Final"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"global":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false,
								"required":[]
							},
							"title":"global"
						},
						"user":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false,
								"required":[]
							},
							"title":"user"
						}
					}
				},
				"code":"\n\n// Here we iteretae through all user guardrails and see if it's present in global as well then merged this both object\n// and also add all remaining user and global guardrails \n// priority : (user) > (global)\n\ndef mergeJson(globalJson, localJson) {\n    // If the global JSON is empty, return the local JSON\n    if (globalJson.isEmpty()) {\n        return localJson\n    }\n    if (localJson.isEmpty()) {\n        return globalJson\n    }\n    // Start with a clone of the global settings\n    def mergedJson = globalJson.clone()\n    def stack = [[mergedJson, localJson]]\n\n    while (!stack.isEmpty()) {\n        def (currentGlobal, currentLocal) = stack.pop()\n\n        currentLocal.each { key, localValue ->\n            if (localValue instanceof Map) {\n                if (!currentGlobal.containsKey(key) || !(currentGlobal[key] instanceof Map)) {\n                    currentGlobal[key] = [:]\n                }\n                stack.push([currentGlobal[key], localValue])\n            } else if (localValue instanceof List) {\n                if (localValue.isEmpty() && currentGlobal.containsKey(key) && currentGlobal[key] instanceof List) {\n                    // Do not override global list with an empty local list\n                    return\n                }\n                currentGlobal[key] = localValue\n            } else {\n                currentGlobal[key] = localValue\n            }\n        }\n    }\n    return mergedJson\n}\n\n\ndef mergeLists(user, global) {\n    def result = []\n\n    // Convert global list to a map for quick lookup\n    def globalMap = global.collectEntries { [(it.id): it.properties] }\n\n    user.each { u ->\n        if (globalMap.containsKey(u.id)) {\n            // Merge if id exists in both\n            def mergedProps = mergeJson(globalMap[u.id], u.properties)\n            result << [id: u.id, properties: mergedProps]\n            globalMap.remove(u.id) // remove so we know it's handled\n        } else {\n            // Only in user\n            result << [id: u.id, properties: u.properties]\n        }\n    }\n\n    // Add remaining items from global (not in user)\n    globalMap.each { id, prop ->\n        result << [id: id, properties: prop]\n    }\n\n    return result\n}\n\n\n\nif (!binding.hasVariable('global') && !binding.hasVariable('user')) {\n    return []\n}\n\nif (binding.hasVariable('global') && binding.hasVariable('user')) {\n    return ['final': mergeLists(user, global)]\n} else if (!binding.hasVariable('global')) {\n    return ['final': user]\n} else {\n    return ['final': global]\n}",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"global":{
						"source":"{{ n_rycWq.outputs.response }}",
						"ua:type":"mappedArray",
						"items":"{{ n_rycWq.outputs.response[0] }}"
					},
					"user":{
						"source":"{{ n_mDmM9.outputs.response }}",
						"ua:type":"mappedArray",
						"items":"{{ n_mDmM9.outputs.response[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":164,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"aIewV-1",
			"id":"5UvId",
			"index":6,
			"inputs":{
				"result":{
					"objects":{
						"source":"{{ lAcNi.outputs.result.final }}",
						"ua:type":"mappedArray",
						"items":{
							"id":"{{ lAcNi.outputs.result.final[0].id }}",
							"properties":{
								"BlockedMessaging":{
									"blockedMessagingForResponses":{
										"blockedMessage":"{{ lAcNi.outputs.result.final[0].properties.BlockedMessaging.blockedMessagingForResponses.blockedMessage }}"
									},
									"blockedMessagingForPrompts":{
										"blockedMessage":"{{ lAcNi.outputs.result.final[0].properties.BlockedMessaging.blockedMessagingForPrompts.blockedMessage }}"
									},
									"customBlockedMessaging":{
										"guardrailTypes":{
											"source":"{{ lAcNi.outputs.result.final[0].properties.BlockedMessaging.customBlockedMessaging.guardrailTypes }}",
											"ua:type":"mappedArray",
											"items":"{{ lAcNi.outputs.result.final[0].properties.BlockedMessaging.customBlockedMessaging.guardrailTypes[0] }}"
										},
										"blockedMessagingForPrompts":{
											"blockedMessage":"{{ lAcNi.outputs.result.final[0].properties.BlockedMessaging.customBlockedMessaging.blockedMessagingForPrompts.blockedMessage }}"
										},
										"blockedMessagingForResponses":{
											"blockedMessage":"{{ lAcNi.outputs.result.final[0].properties.BlockedMessaging.customBlockedMessaging.blockedMessagingForResponses.blockedMessage }}"
										}
									}
								},
								"Hallucinations":{
									"groundingConfig":{
										"groundingScore":"{{ lAcNi.outputs.result.final[0].properties.Hallucinations.groundingConfig.groundingScore }}",
										"enableGrounding":"{{ lAcNi.outputs.result.final[0].properties.Hallucinations.groundingConfig.enableGrounding }}"
									},
									"relevanceConfig":{
										"enableRelevance":"{{ lAcNi.outputs.result.final[0].properties.Hallucinations.relevanceConfig.enableRelevance }}",
										"relevanceScore":"{{ lAcNi.outputs.result.final[0].properties.Hallucinations.relevanceConfig.relevanceScore }}"
									},
									"llmModel":"{{ lAcNi.outputs.result.final[0].properties.Hallucinations.llmModel }}"
								},
								"DeniedTopics":{
									"DeniedTopics":{
										"source":"{{ lAcNi.outputs.result.final[0].properties.DeniedTopics.DeniedTopics }}",
										"ua:type":"mappedArray",
										"items":{
											"addSamplePhrases":{
												"source":"{{ lAcNi.outputs.result.final[0].properties.DeniedTopics.DeniedTopics[0].addSamplePhrases }}",
												"ua:type":"mappedArray",
												"items":"{{ lAcNi.outputs.result.final[0].properties.DeniedTopics.DeniedTopics[0].addSamplePhrases[0] }}"
											},
											"definitionOfYourTopic":"{{ lAcNi.outputs.result.final[0].properties.DeniedTopics.DeniedTopics[0].definitionOfYourTopic }}",
											"topicName":"{{ lAcNi.outputs.result.final[0].properties.DeniedTopics.DeniedTopics[0].topicName }}",
											"appliesTo":{
												"source":"{{ lAcNi.outputs.result.final[0].properties.DeniedTopics.DeniedTopics[0].appliesTo }}",
												"ua:type":"mappedArray",
												"items":"{{ lAcNi.outputs.result.final[0].properties.DeniedTopics.DeniedTopics[0].appliesTo[0] }}"
											}
										}
									},
									"llmModel":"{{ lAcNi.outputs.result.final[0].properties.DeniedTopics.llmModel }}"
								},
								"aiAgentId":"{{ lAcNi.outputs.result.final[0].properties.aiAgentId }}",
								"customWorldFilter":{
									"wordsOrPhrases":{
										"source":"{{ lAcNi.outputs.result.final[0].properties.customWorldFilter.wordsOrPhrases }}",
										"ua:type":"mappedArray",
										"items":{
											"name":"{{ lAcNi.outputs.result.final[0].properties.customWorldFilter.wordsOrPhrases[0].name }}",
											"behaviour":"{{ lAcNi.outputs.result.final[0].properties.customWorldFilter.wordsOrPhrases[0].behaviour }}"
										}
									},
									"filterProfanity":"{{ lAcNi.outputs.result.final[0].properties.customWorldFilter.filterProfanity }}",
									"appliesTo":{
										"source":"{{ lAcNi.outputs.result.final[0].properties.customWorldFilter.appliesTo }}",
										"ua:type":"mappedArray",
										"items":"{{ lAcNi.outputs.result.final[0].properties.customWorldFilter.appliesTo[0] }}"
									}
								},
								"RedactSensitiveInformation":{
									"regex":{
										"patterns":{
											"source":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.regex.patterns }}",
											"ua:type":"mappedArray",
											"items":{
												"name":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.regex.patterns[0].name }}",
												"pattern":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.regex.patterns[0].pattern }}",
												"behaviour":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.regex.patterns[0].behaviour }}",
												"appliesTo":{
													"source":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.regex.patterns[0].appliesTo }}",
													"ua:type":"mappedArray",
													"items":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.regex.patterns[0].appliesTo[0] }}"
												}
											}
										},
										"enabled":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.regex.enabled }}"
									},
									"automations":{
										"ids":{
											"source":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.automations.ids }}",
											"ua:type":"mappedArray",
											"items":{
												"id":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.automations.ids[0].id }}",
												"appliesTo":{
													"source":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.automations.ids[0].appliesTo }}",
													"ua:type":"mappedArray",
													"items":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.automations.ids[0].appliesTo[0] }}"
												}
											}
										},
										"enabled":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.piiByUA.enabled }}"
									},
									"piiByUA":{
										"enabled":"{{ lAcNi.outputs.result.final[0].properties.RedactSensitiveInformation.piiByUA.enabled }}"
									}
								},
								"contentFilters":{
									"filterStrengthForResponses":{
										"misconduct":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForResponses.misconduct }}",
										"hate":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForResponses.hate }}",
										"promptAttack":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForResponses.promptAttack }}",
										"sexual":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForResponses.sexual }}",
										"insult":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForResponses.insult }}",
										"violence":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForResponses.violence }}"
									},
									"llmModel":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.llmModel }}",
									"filterStrengthForPrompts":{
										"misconduct":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForPrompts.misconduct }}",
										"promptAttack":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForPrompts.promptAttack }}",
										"hate":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForPrompts.hate }}",
										"sexual":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForPrompts.sexual }}",
										"insult":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForPrompts.insult }}",
										"violence":"{{ lAcNi.outputs.result.final[0].properties.contentFilters.filterStrengthForPrompts.violence }}"
									}
								},
								"runAsync":"{{ lAcNi.outputs.result.final[0].properties.runAsync }}",
								"automations":{
									"automationIds":{
										"source":"{{ lAcNi.outputs.result.final[0].properties.automations.automationIds }}",
										"ua:type":"mappedArray",
										"items":{
											"automationId":"{{ lAcNi.outputs.result.final[0].properties.automations.automationIds[0].automationId }}",
											"name":"{{ lAcNi.outputs.result.final[0].properties.automations.automationIds[0].name }}",
											"version":"{{ lAcNi.outputs.result.final[0].properties.automations.automationIds[0].version }}",
											"appliesTo":{
												"source":"{{ lAcNi.outputs.result.final[0].properties.automations.automationIds[0].appliesTo }}",
												"ua:type":"mappedArray",
												"items":"{{ lAcNi.outputs.result.final[0].properties.automations.automationIds[0].appliesTo[0] }}"
											}
										}
									},
									"enabled":"{{ lAcNi.outputs.result.final[0].properties.automations.enabled }}"
								}
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":1,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":false,
		"enableRunLogging":true,
		"enableVariableLogging":false,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":175
}