{
	"appsUsed":[
		"azure_bot"
	],
	"createdTime":1759310682593,
	"deleted":false,
	"edges":[
		{
			"fromNodeId":"_upyrX",
			"priority":0,
			"skip":false,
			"toNodeId":"_b9qRW",
			"type":"next"
		},
		{
			"fromNodeId":"_b9qRW",
			"priority":0,
			"skip":false,
			"toNodeId":"n_PO9bV",
			"type":"next"
		},
		{
			"fromNodeId":"n_PO9bV",
			"priority":0,
			"skip":false,
			"toNodeId":"_NATLT",
			"type":"next"
		},
		{
			"fromNodeId":"_NATLT",
			"priority":0,
			"skip":false,
			"toNodeId":"_cvDyy",
			"type":"next"
		},
		{
			"fromNodeId":"_cvDyy",
			"priority":0,
			"skip":false,
			"toNodeId":"_5F9t3",
			"type":"next"
		}
	],
	"id":"68dcf35ac71b5f5e8b9b50ff",
	"lastModifiedBy":1,
	"lcName":"azure bot trigger (ai agent)",
	"modifiedTime":1759310682668,
	"name":"Azure Bot Trigger (AI Agent)",
	"nodes":[
		{
			"context":{
				"appName":"azure_bot",
				"resourceVersion":627,
				"connectionId":"67eaabf4ffc8c415aeb2515d",
				"resourceName":"azure_bot_on_new_message"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_becCv-1",
			"id":"_upyrX",
			"index":0,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"{{ _upyrX.outputs.text }}",
							"filter":{
								"operator":"EXISTS"
							}
						},
						{
							"property":"=LEN({{ _upyrX.outputs.text }})",
							"filter":{
								"operator":"GT",
								"value":"0"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Azure Bot",
			"title":"On new message",
			"trigger":{
				"type":"EVENT"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":84,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_becCv-1",
			"id":"_b9qRW",
			"index":0,
			"inputs":{
				"automationId":"6707e3c40e381a37b25270b8",
				"runtimeConnections":{
					"microsoft_teams":"67f8bdfa442752074b4f5777"
				},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"userId":"{{ _upyrX.outputs.from.aadObjectId }}"
				}
			},
			"skip":false,
			"subTitle":"get Teams User",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":816,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_becCv-1",
			"id":"n_PO9bV",
			"index":0,
			"inputs":{
				"automationId":"66eaeecb5dd77636e1fcc1f9",
				"runtimeConnections":{
					"microsoft_teams":"67f8bdfa442752074b4f5777"
				},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"channelName":"AZURE_BOT",
					"channelSpecificId":"{{ _upyrX.outputs.from.aadObjectId }}"
				}
			},
			"skip":false,
			"subTitle":"g/c CustomerProfile",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":84,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_becCv-1",
			"id":"_NATLT",
			"index":0,
			"inputs":{
				"automationId":"674afe5adefb851816d61959",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseAssociationType":"PREVIOUS_FAN_MESSAGE_IN_ONE_DAY",
					"channelName":"AZURE_BOT",
					"text":"{{ _upyrX.outputs.text }}",
					"attachments":{
						"source":"{{ _upyrX.outputs.attachments }}",
						"ua:type":"mappedArray",
						"items":"{{ _upyrX.outputs.attachments[0] }}"
					},
					"triggeredFromAutomationId":"{{ __RUN__.outputs.workflowId }}",
					"toCustomerUserId":"{{ _upyrX.outputs.recipient.id }}",
					"channelSpecificUserId":"{{ _upyrX.outputs.from.aadObjectId }}",
					"messageType":"FAN",
					"triggerInput":"{{ _upyrX.outputs }}",
					"fromCustomerUserId":"{{ n_PO9bV.outputs.customerProfileId }}"
				}
			},
			"skip":false,
			"subTitle":"Case Management",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":79,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_becCv-1",
			"id":"_cvDyy",
			"index":0,
			"inputs":{
				"automationId":"6732f70850384a29acf312fd",
				"runtimeConnections":{},
				"synchronous":false,
				"triggerWorkflowWithRuntimeType":"IN_MEMORY",
				"runInUserContext":"{{ _b9qRW.outputs.userId }}",
				"version":"-1",
				"parameters":{
					"userQuery":"{{ _upyrX.outputs.text }}",
					"caseId":"{{ _NATLT.outputs.caseId }}",
					"messageId":"{{ _NATLT.outputs.messageId }}",
					"userEmailAddress":"{{ _b9qRW.outputs.emailAddress }}",
					"aiAgentId":"e_68dcd57f0977872798084808"
				}
			},
			"skip":false,
			"subTitle":"Trigger AI Agent",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"stop"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_becCv-1",
			"id":"_5F9t3",
			"index":0,
			"skip":false,
			"subTitle":"Stop",
			"title":"Stop",
			"type":"STOP"
		}
	],
	"ownerUserId":1,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"version":1
}