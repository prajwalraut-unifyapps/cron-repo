{
	"appsUsed":[
		"openai",
		"salesforce"
	],
	"createdTime":1760352607728,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760356720808,
		"deployedBy":133661,
		"deployedDefinitionId":"68ece970251288747667e68b",
		"status":"DEPLOYED",
		"version":1,
		"workflowVersion":4
	},
	"edges":[
		{
			"fromNodeId":"n_ZV1jl",
			"priority":0,
			"skip":false,
			"toNodeId":"n_9DMVl",
			"type":"next"
		},
		{
			"fromNodeId":"n_9DMVl",
			"priority":0,
			"skip":false,
			"toNodeId":"n_jAW0n",
			"type":"next"
		},
		{
			"fromNodeId":"n_jAW0n",
			"priority":0,
			"skip":false,
			"toNodeId":"n_MyjOT",
			"type":"next"
		}
	],
	"id":"68ecd95f350d793c6ae9a7b0",
	"lastModifiedBy":133661,
	"lcName":"greif | rca agent",
	"modifiedTime":1760360275384,
	"name":"Greif | RCA Agent",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":1035,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_yu7tS-1",
			"id":"n_ZV1jl",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"response":{
							"type":"string",
							"title":"Response"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"order_id":{
							"type":"string",
							"title":"Order Id"
						},
						"user_query":{
							"type":"string",
							"title":"User Query"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"salesforce",
				"resourceVersion":6719,
				"connectionId":"68de8b42953b7316d9d81c59",
				"resourceName":"salesforce_execute_soql",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_yu7tS-1",
			"id":"n_9DMVl",
			"index":2,
			"inputs":{
				"performAsync":false,
				"objectSourceResourceName":"salesforce_execute_soql_metadata",
				"query":"  SELECT order_id,\n    customer_name,\n    order_date,\n    delivery_date,\n    delivery_status,\n    total_amount,\n    product_name,\n    quantity,\n    unit_price,\n    payment_status\nFROM Order_details\nWHERE order_id = 'YOUR_CUSTOMER_ID_HERE'"
			},
			"skip":false,
			"subTitle":"Salesforce",
			"title":"Execute SOQL",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"openai",
				"resourceVersion":5491,
				"connectionId":"68d39f2dd2b48567b3840df4",
				"resourceName":"openai_send_message",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_yu7tS-1",
			"id":"n_jAW0n",
			"index":3,
			"inputs":{
				"model":"gpt-3.5-turbo",
				"message":"You are an expert in analyzing customer order issues and performing Root Cause Analysis (RCA). \nYou will be given the details of an order and a customer issue. \nYour task is to analyze the issue based on the order information and return a structured JSON object in the exact format below. \n**Input Fields:**\n- order_id\n- customer_name\n- order_date\n- delivery_date\n- delivery_status\n- total_amount\n- product_name\n- quantity\n- unit_price\n- payment_status\n- issue (description from customer)\n**JSON Output Format (exactly like this):**\n{\n  \"issue\": \"<summarize customer issue>\",\n  \"customer_name\": \"<customer_name>\",\n  \"category\": \"<RCA category such as Logistics / Warehouse / Vendor / System / Customer>\",\n  \"order_id\": \"<order_id>\",\n  \"product_name\": \"<product_name>\",\n  \"rca_analysis\": \"<concise root cause analysis explanation>\"\n}\n**Instructions:**\n1. Identify the **root cause category** based on order details and the issue.  \n2. Provide a **brief RCA explanation** in `rca_analysis`.  \n3. Always output **valid JSON** exactly as specified, no extra text.  \n**Example Input:**\norder_id: ORD12345  \ncustomer_name: John Doe  \norder_date: 2025-10-01  \ndelivery_date: 2025-10-05  \ndelivery_status: Delayed  \ntotal_amount: 149.99  \nproduct_name: Memorial Flower Bouquet  \nquantity: 1  \nunit_price: 149.99  \npayment_status: Paid  \nissue: \"My order has not arrived yet, even though it was supposed to be delivered 2 days ago.\"\n**Example Output:**\n{\n  \"issue\": \"Order not delivered on time\",\n  \"customer_name\": \"John Doe\",\n  \"category\": \"Logistics\",\n  \"order_id\": \"ORD12345\",\n  \"product_name\": \"Memorial Flower Bouquet\",\n  \"rca_analysis\": \"The delay is likely caused by courier partner shipping delays. Expected delivery was 2 days ago.\"\n}\n"
			},
			"skip":false,
			"subTitle":"OpenAI",
			"title":"Send message to OpenAI models",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":1071,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_yu7tS-1",
			"id":"n_MyjOT",
			"index":4,
			"inputs":{
				"result":{
					"response":"success"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":133661,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		
	],
	"version":7
}