{
	"appsUsed":[
		
	],
	"createdTime":1759904367610,
	"deleted":false,
	"edges":[
		{
			"fromNodeId":"n_cq9oL",
			"priority":0,
			"skip":false,
			"toNodeId":"B42S5",
			"type":"next"
		},
		{
			"fromNodeId":"B42S5",
			"priority":0,
			"skip":false,
			"toNodeId":"n_FCFLC",
			"type":"next"
		},
		{
			"fromNodeId":"n_FCFLC",
			"priority":0,
			"skip":false,
			"toNodeId":"UB4qk",
			"type":"next"
		}
	],
	"id":"687de6b4011363a381b1ae90",
	"lastModifiedBy":1,
	"lcName":"agent tool output post processing automation | search files via microsoft sharepoint",
	"modifiedTime":1759904367610,
	"name":"Agent Tool Output Post Processing Automation | Search files via Microsoft SharePoint",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":436,
				"resourceName":"callables_from_interface"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_Ch9F5-1",
			"id":"n_cq9oL",
			"index":1,
			"inputs":{
				"result":{
					"additionalProperties":false,
					"ua:modal":{
						"field_type":"STRING",
						"is_optional":true
					},
					"type":"object",
					"properties":{
						"toolOutput":{
							"type":"object",
							"title":"toolOutput"
						}
					}
				},
				"callableInterfaceId":"687b4b8e634a4cb768aff9a3",
				"setup":{
					"additionalProperties":false,
					"ua:modal":{
						"field_type":"STRING",
						"is_optional":true
					},
					"type":"object",
					"properties":{
						"inputs":{
							"type":"object",
							"title":"inputs"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger interface",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.favicon.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":360,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_Ch9F5-1",
			"id":"B42S5",
			"index":2,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"chunks":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"chunkMetadata":{
										"type":"object",
										"properties":{},
										"additionalProperties":false,
										"title":"Chunk Metadata"
									},
									"content":{
										"type":"string",
										"title":"Content"
									}
								},
								"additionalProperties":false,
								"required":[
									"chunkMetadata",
									"content"
								]
							},
							"title":"Chunks"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"input":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Input"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"if(!binding.hasVariable('inputs') || !inputs.containsKey('result') || !inputs.result.containsKey('d') || !(inputs.result.d.containsKey('results'))){\n    return [\n        chunks : []   \n    ]\n}\n\ndef list = inputs.result.d.results\ndef chunks = []\n\nlist.each{ item ->\n    chunks << [\n        chunkMetadata: [\n            name            : item?.Name,\n            title           : item?.Name,\n            referenceUrl    : item?.Web?.__deferred?.uri,\n            uniqueEntityId  : item?.UniqueId,\n            sourceType      : \"APPLICATION\",\n            appName         : \"microsoft_sharepoint\",\n        ],\n        content: com.unifyapps.infra.utils.JsonUtils.toJson(item)\n    ]\n}\n\nreturn [ chunks: chunks ]",
				"parameters":{
					"input":"{{ n_cq9oL.outputs.inputs }}"
				}
			},
			"skip":false,
			"subTitle":"Make chunks from output",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":460,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_Ch9F5-1",
			"id":"n_FCFLC",
			"index":3,
			"inputs":{
				"automationId":"68775fc0bebed5e34b932ddf",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"chunks":{
						"source":"{{ B42S5.outputs.result.chunks }}",
						"ua:type":"mappedArray",
						"items":{
							"chunkMetadata":"{{ B42S5.outputs.result.chunks[0].chunkMetadata }}",
							"content":"{{ B42S5.outputs.result.chunks[0].content }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Format Chunks to Chunks XML String",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":358,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_Ch9F5-1",
			"id":"UB4qk",
			"index":4,
			"inputs":{
				"result":{
					"toolOutput":"{{ n_FCFLC.outputs.toolOutput }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":1,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		"AI Agent"
	],
	"version":2
}