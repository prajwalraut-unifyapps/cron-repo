{
	"appsUsed":[
		
	],
	"createdTime":1760280655094,
	"deleted":false,
	"edges":[
		{
			"fromNodeId":"n_BR2T1",
			"priority":0,
			"skip":false,
			"toNodeId":"n_vmZm3",
			"type":"next"
		},
		{
			"fromNodeId":"n_vmZm3",
			"priority":0,
			"skip":false,
			"toNodeId":"n_AwBnP",
			"type":"next"
		}
	],
	"id":"68ebc04f0c3d19149a9dbb42",
	"lastModifiedBy":44108,
	"lcName":"descryption1",
	"modifiedTime":1760280744566,
	"name":"descryption1",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":1033,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_YZ322-1",
			"id":"n_BR2T1",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"descryptedText":{
							"type":"string",
							"title":"Descrypted Text"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"passPhrase":{
							"type":"string",
							"title":"Pass Phrase"
						},
						"cipherText":{
							"type":"string",
							"title":"Text"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":993,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_YZ322-1",
			"id":"n_vmZm3",
			"index":2,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"descryptedText":{
							"type":"string",
							"title":"descryptedText"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"text":{
							"type":"string",
							"title":"Text"
						},
						"passPhrase":{
							"type":"string",
							"title":"Pass Phrase"
						}
					}
				},
				"code":"import javax.crypto.*\nimport javax.crypto.spec.*\nimport java.security.*\nimport java.security.spec.*\nimport java.util.Base64\n\ndef generate128BitsOfRandomEntropy() {\n    byte[] randomBytes = new byte[16] \n    new SecureRandom().nextBytes(randomBytes)\n    return randomBytes\n}\n\ndef encrypt(String plainText, String passPhrase) {\n    int Keysize = 128\n    int DerivationIterations = 1000\n\n    byte[] saltBytes = generate128BitsOfRandomEntropy()\n    byte[] ivBytes = generate128BitsOfRandomEntropy()\n    byte[] plainTextBytes = plainText.getBytes(\"UTF-8\")\n\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(\"PBKDF2WithHmacSHA1\")\n    KeySpec spec = new PBEKeySpec(passPhrase.toCharArray(), saltBytes, DerivationIterations, Keysize)\n    SecretKey tmp = factory.generateSecret(spec)\n    SecretKeySpec secret = new SecretKeySpec(tmp.getEncoded(), \"AES\")\n\n    Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\")\n    cipher.init(Cipher.ENCRYPT_MODE, secret, new IvParameterSpec(ivBytes))\n    byte[] cipherBytes = cipher.doFinal(plainTextBytes)\n\n    // Combine salt + IV + cipher text\n    byte[] combined = new byte[saltBytes.length + ivBytes.length + cipherBytes.length]\n    System.arraycopy(saltBytes, 0, combined, 0, saltBytes.length)\n    System.arraycopy(ivBytes, 0, combined, saltBytes.length, ivBytes.length)\n    System.arraycopy(cipherBytes, 0, combined, saltBytes.length + ivBytes.length, cipherBytes.length)\n\n    return Base64.encoder.encodeToString(combined)\n}\n\n// --- Decrypt ---\ndef decrypt(String cipherText, String passPhrase) {\n    int Keysize = 128\n    int DerivationIterations = 1000\n\n    byte[] cipherBytesWithSaltAndIv = Base64.decoder.decode(cipherText)\n    int blockSize = Keysize / 8\n\n    byte[] saltBytes = Arrays.copyOfRange(cipherBytesWithSaltAndIv, 0, blockSize)\n    byte[] ivBytes = Arrays.copyOfRange(cipherBytesWithSaltAndIv, blockSize, blockSize * 2)\n    byte[] cipherBytes = Arrays.copyOfRange(cipherBytesWithSaltAndIv, blockSize * 2, cipherBytesWithSaltAndIv.length)\n\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(\"PBKDF2WithHmacSHA1\")\n    KeySpec spec = new PBEKeySpec(passPhrase.toCharArray(), saltBytes, DerivationIterations, Keysize)\n    SecretKey tmp = factory.generateSecret(spec)\n    SecretKeySpec secret = new SecretKeySpec(tmp.getEncoded(), \"AES\")\n\n    Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\")\n    cipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(ivBytes))\n    byte[] plainBytes = cipher.doFinal(cipherBytes)\n\n    return new String(plainBytes, \"UTF-8\")\n}\n\n\nreturn [\"descryptedText\" : decrypt(text,passPhrase)]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"text":"{{ n_BR2T1.outputs.cipherText }}",
					"passPhrase":"{{ n_BR2T1.outputs.passPhrase }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":1069,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_YZ322-1",
			"id":"n_AwBnP",
			"index":3,
			"inputs":{
				"result":{
					"descryptedText":"{{ n_vmZm3.outputs.result.descryptedText }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":44108,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		
	],
	"version":2
}