{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1760005873301,
	"deleted":false,
	"edges":[
		{
			"fromNodeId":"n_2dRxC",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Hwvlm",
			"type":"next"
		},
		{
			"fromNodeId":"n_Hwvlm",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Ny3nr",
			"type":"next"
		},
		{
			"fromNodeId":"n_Ny3nr",
			"priority":0,
			"skip":false,
			"toNodeId":"n_eN5Lj",
			"type":"next"
		},
		{
			"fromNodeId":"n_eN5Lj",
			"priority":0,
			"skip":false,
			"toNodeId":"n_TDIqT",
			"type":"next"
		},
		{
			"fromNodeId":"n_TDIqT",
			"priority":0,
			"skip":false,
			"toNodeId":"n_4OJy2",
			"type":"next"
		},
		{
			"fromNodeId":"n_4OJy2",
			"priority":0,
			"skip":false,
			"toNodeId":"n_1TiPd",
			"type":"next"
		},
		{
			"fromNodeId":"n_1TiPd",
			"priority":0,
			"skip":false,
			"toNodeId":"n_l93OP",
			"type":"next"
		},
		{
			"fromNodeId":"n_l93OP",
			"priority":0,
			"skip":false,
			"toNodeId":"n_8ed4x",
			"type":"next"
		},
		{
			"fromNodeId":"n_8ed4x",
			"priority":0,
			"skip":false,
			"toNodeId":"n_iCaus",
			"type":"next"
		},
		{
			"fromNodeId":"n_iCaus",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_NQDlo",
			"type":"if"
		},
		{
			"fromNodeId":"_NQDlo",
			"priority":0,
			"skip":false,
			"toNodeId":"n_l6uKX",
			"type":"next"
		},
		{
			"fromNodeId":"n_l6uKX",
			"priority":0,
			"skip":false,
			"toNodeId":"n_LjSuF",
			"type":"next"
		},
		{
			"fromNodeId":"n_iCaus",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_HD52Q",
			"type":"next"
		},
		{
			"fromNodeId":"n_LjSuF",
			"priority":0,
			"skip":false,
			"toNodeId":"n_lvXll",
			"type":"next"
		},
		{
			"fromNodeId":"n_HD52Q",
			"priority":0,
			"skip":false,
			"toNodeId":"n_lvXll",
			"type":"next"
		},
		{
			"fromNodeId":"n_lvXll",
			"priority":0,
			"skip":false,
			"toNodeId":"_0qnhA",
			"type":"next"
		},
		{
			"fromNodeId":"_0qnhA",
			"priority":0,
			"skip":false,
			"toNodeId":"_8aijN",
			"type":"next"
		},
		{
			"fromNodeId":"_8aijN",
			"priority":0,
			"skip":false,
			"toNodeId":"n_umrc9",
			"type":"next"
		},
		{
			"fromNodeId":"n_umrc9",
			"priority":0,
			"skip":false,
			"toNodeId":"n_UOBFb",
			"type":"next"
		},
		{
			"fromNodeId":"n_UOBFb",
			"priority":0,
			"skip":false,
			"toNodeId":"n_8hDiA",
			"type":"next"
		},
		{
			"fromNodeId":"n_8hDiA",
			"priority":0,
			"skip":false,
			"toNodeId":"_dU7U9",
			"type":"next"
		},
		{
			"fromNodeId":"_dU7U9",
			"priority":0,
			"skip":false,
			"toNodeId":"n_fpRSM",
			"type":"next"
		},
		{
			"fromNodeId":"n_fpRSM",
			"priority":0,
			"skip":false,
			"toNodeId":"n_zfngo",
			"type":"next"
		},
		{
			"fromNodeId":"n_zfngo",
			"priority":0,
			"skip":false,
			"toNodeId":"n_fuF1U",
			"type":"next"
		},
		{
			"fromNodeId":"n_fuF1U",
			"priority":0,
			"skip":false,
			"toNodeId":"n_oqCHf",
			"type":"next"
		}
	],
	"id":"68e31ea6b159731f1e91211c",
	"lastModifiedBy":162101,
	"lcName":"dda | drawer | fetch all store ",
	"modifiedTime":1760005873301,
	"name":"DDA | Drawer | Fetch All Store ",
	"nodes":[
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"callables",
				"resourceVersion":105,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_2dRxC",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"storeList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"category":{
										"type":"string",
										"title":"category"
									},
									"closeDay":{
										"type":"string",
										"title":"closeDay"
									},
									"closeTime":{
										"type":"string",
										"title":"closeTime"
									},
									"description":{
										"type":"string",
										"title":"description"
									},
									"distance":{
										"type":"number",
										"title":"distance"
									},
									"googleMapsLink":{
										"type":"string",
										"title":"googleMapsLink"
									},
									"id":{
										"type":"string",
										"title":"id"
									},
									"imageUri":{
										"type":"string",
										"title":"imageUri"
									},
									"infor":{
										"type":"array",
										"items":{
											"type":"number"
										},
										"title":"infor"
									},
									"instagram":{
										"type":"string",
										"title":"instagram"
									},
									"location":{
										"type":"object",
										"properties":{
											"lat":{
												"type":"string",
												"title":"lat"
											},
											"lon":{
												"type":"string",
												"title":"lon"
											}
										},
										"title":"location",
										"additionalProperties":false
									},
									"mobile":{
										"type":"string",
										"title":"mobile"
									},
									"offers":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"cardType":{
													"type":"string",
													"title":"cardType"
												},
												"discount":{
													"type":"string",
													"title":"discount"
												}
											},
											"additionalProperties":false
										},
										"title":"offers"
									},
									"openDay":{
										"type":"string",
										"title":"openDay"
									},
									"openTime":{
										"type":"string",
										"title":"openTime"
									},
									"operational":{
										"type":"boolean",
										"title":"operational"
									},
									"pageSize":{
										"type":"string",
										"title":"pageSize"
									},
									"price":{
										"type":"string",
										"title":"price"
									},
									"rating":{
										"type":"number",
										"title":"rating"
									},
									"reviewCount":{
										"type":"integer",
										"title":"reviewCount"
									},
									"shortAddress":{
										"type":"string",
										"title":"shortAddress"
									},
									"shortDescription":{
										"type":"string",
										"title":"shortDescription"
									},
									"storeName":{
										"type":"string",
										"title":"storeName"
									},
									"storeType":{
										"type":"string",
										"title":"storeType"
									},
									"weekdayDescription":{
										"type":"array",
										"items":{
											"type":"string"
										},
										"title":"weekdayDescription"
									}
								},
								"additionalProperties":false
							},
							"title":"storeList"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"search",
						"category",
						"id"
					],
					"properties":{
						"starterText":{
							"type":"string",
							"title":"Starter Text"
						},
						"endText":{
							"type":"string",
							"title":"End Text"
						},
						"distance":{
							"type":"number",
							"title":"Distance"
						},
						"rating":{
							"type":"object",
							"properties":{
								"greaterThanEqualToValue":{
									"type":"number",
									"title":"Greater Than Equal To Value"
								},
								"lessThanEqualToValue":{
									"type":"number",
									"title":"Less Than Equal To Value"
								}
							},
							"additionalProperties":false,
							"title":"Rating",
							"required":[]
						},
						"discount":{
							"type":"object",
							"properties":{
								"greaterThanEqualToValue":{
									"type":"number",
									"title":"Greater Than Equal To Value"
								},
								"lessThanEqualToValue":{
									"type":"number",
									"title":"Less Than Equal To Value"
								}
							},
							"additionalProperties":false,
							"title":"Discount",
							"required":[]
						},
						"storeName":{
							"type":"string",
							"title":"Store Name"
						},
						"storeCount":{
							"type":"number",
							"title":"Store Count"
						},
						"search":{
							"type":"string",
							"title":"Search"
						},
						"offset":{
							"type":"string",
							"title":"Offset"
						},
						"size":{
							"type":"string",
							"title":"Size"
						},
						"category":{
							"type":"string",
							"title":"Category"
						},
						"id":{
							"type":"array",
							"items":{
								"type":"string",
								"required":[]
							},
							"title":"Id"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":96,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_Hwvlm",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{}
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray",
					"source":"{{ n_2dRxC.outputs.id }}",
					"items":"{{ n_2dRxC.outputs.id[0] }}"
				},
				"ua:title":"objectIds",
				"ua:list_type":"STRING"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"objectIds",
							"disableActions":true,
							"items":{
								"type":"string"
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":96,
				"resourceName":"variable_by_unifyapps_get_session_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_Ny3nr",
			"index":3,
			"inputs":{
				"variableSchema":{
					"type":"object",
					"properties":{
						"caseId":{
							"type":"string",
							"title":"Case Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":true,
			"subTitle":"Variable by UnifyApps",
			"title":"Get Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":597,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_eN5Lj",
			"index":4,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_Ny3nr.outputs.caseId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"service_hub_case",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":true,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":597,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_TDIqT",
			"index":5,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_eN5Lj.outputs.properties.fromCustomerUserId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"customer_profile",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"sortBy":[
					{
						"field":"cTm",
						"order":"DESC"
					}
				],
				"translationsOption":"DEFAULT",
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":true,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":69,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_4OJy2",
			"index":6,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"output"
					],
					"properties":{
						"output":{
							"type":"string",
							"title":"Output"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"input"
					],
					"properties":{
						"input":{
							"type":"string",
							"title":"Input"
						}
					}
				},
				"code":"def extractBeforeFirstHash(String input) {\n    if (!input) return null\n    def parts = input.split(\"#\", 2)\n    return parts[0]\n}\n\n// Example usage\ndef result = extractBeforeFirstHash(input)\nreturn [\"output\" : result]\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"input":"{{ n_TDIqT.outputs.properties.channelSpecificId }}"
				}
			},
			"skip":true,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"standard_entities",
				"resourceVersion":263,
				"resourceName":"standard_entities_fetch_user",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_1TiPd",
			"index":7,
			"inputs":{
				"fetchBy":"id",
				"applicationId":"dda-16",
				"user":"{{ __USER__.outputs.id }}"
			},
			"skip":false,
			"subTitle":"Standard entities by UnifyApps",
			"title":"Fetch User",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":70,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_l93OP",
			"index":8,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"lat":{
							"type":"number",
							"title":"Lat"
						},
						"long":{
							"type":"number",
							"title":"Long"
						}
					},
					"required":[
						"lat",
						"long"
					]
				}
			},
			"inputs":{
				"lat":25.18813,
				"long":55.29744
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"lat":{
							"type":"number",
							"title":"Lat"
						},
						"long":{
							"type":"number",
							"title":"Long"
						}
					},
					"required":[
						"lat",
						"long"
					]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":96,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_8ed4x",
			"index":9,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{}
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"matchingList",
				"ua:list_type":"STRING"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"matchingList",
							"disableActions":true,
							"items":{
								"type":"string"
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":32,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_iCaus",
			"index":10,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_2dRxC.outputs.search }}",
						"filter":{
							"operator":"EXISTS"
						}
					},
					{
						"property":"=LEN({{ n_2dRxC.outputs.search }})",
						"filter":{
							"operator":"GTE",
							"value":"1"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":145,
				"resourceName":"callables_call_interface",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_iCaus@_gD9nD-1@y",
			"id":"_NQDlo",
			"index":11,
			"inputs":{
				"callableInterfaceId":"67d93021d9a9f13897d1d37a",
				"runtimeConnections":{},
				"synchronous":true,
				"triggerWorkflowWithRuntimeType":"DEFAULT",
				"fallbackWorkflowId":"67d943f4c10a5b39b4701f75",
				"parameters":{
					"user_query":"{{ n_2dRxC.outputs.search }}",
					"model":"qwen3-embedding-8b",
					"internalModelId":"e_68dec7e65e66f5686e68fd0e"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call interface",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":666,
				"resourceName":"storage_by_unifyapps_semantic_query_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_iCaus@_gD9nD-1@y",
			"id":"n_l6uKX",
			"index":12,
			"inputs":{
				"hybridSearch":false,
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"IN",
								"value":"{{ n_Hwvlm.outputs.items }}"
							}
						}
					],
					"operator":"AND"
				},
				"searchField":{
					"field":"properties.infor",
					"op":"KNN",
					"values":"{{ _NQDlo.outputs.embeddings }}"
				},
				"object_type":"offer_near_me_vector_store2",
				"numberOfRecordsToFetch":1
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Semantic search records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":95,
				"resourceName":"variable_by_unifyapps_add_items_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_iCaus@_gD9nD-1@y",
			"id":"n_LjSuF",
			"index":13,
			"inputs":{
				"insertLocation":"END",
				"itemsToAdd":{
					"ua:type":"mappedArray",
					"source":"{{ n_l6uKX.outputs.objects }}",
					"items":"{{ n_l6uKX.outputs.objects[0].document.id }}"
				},
				"listName":"{{ n_8ed4x.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add items to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":95,
				"resourceName":"variable_by_unifyapps_add_items_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_iCaus@_gD9nD-1@n",
			"id":"n_HD52Q",
			"index":14,
			"inputs":{
				"insertLocation":"END",
				"itemsToAdd":{
					"ua:type":"mappedArray",
					"source":"{{ n_Hwvlm.outputs.items }}",
					"items":"{{ n_Hwvlm.outputs.items[0] }}"
				},
				"listName":"{{ n_8ed4x.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add items to list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.location.lat",
					"root.parameters.location.lon",
					"root.parameters.rating.greaterThanEqualToValue",
					"root.parameters.rating.lessThanEqualToValue",
					"root.parameters.discount.greaterThanEqualToValue",
					"root.parameters.discount.lessThanEqualToValue"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_lvXll",
			"index":15,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"sort":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Sort"
						},
						"query":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Query"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"id"
					],
					"properties":{
						"location":{
							"type":"object",
							"properties":{
								"lat":{
									"type":"number",
									"title":"Lat"
								},
								"lon":{
									"type":"number",
									"title":"Lon"
								}
							},
							"additionalProperties":false,
							"title":"Location",
							"required":[]
						},
						"query":{
							"type":"string",
							"title":"Query"
						},
						"id":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Id"
						}
					}
				},
				"code":"def sort = null\ndef needQuery = false\ndef idQuery = null\ndef filter = null\n\n\n\nif (binding.hasVariable('location') && location instanceof Map && location.lat && location.lon) {\n    def latVal = location.lat\n    def lonVal = location.lon\n\n    if (latVal && lonVal) {\n        def lat = (Double) latVal\n        def lon = (Double) lonVal\n\n        sort = [\n            \"_geo_distance\": [\n                \"properties.location\": [\"lat\": lat, \"lon\": lon],\n                \"order\": \"asc\",\n                \"unit\": \"km\",\n                \"mode\": \"min\",\n                \"distance_type\": \"arc\"\n            ]\n        ]\n    }\n}\n\n\nif (binding.hasVariable('id') && id instanceof List) {\n    idQuery = [\"terms\": [\"id\": id]]\n    needQuery = true\n}\n\n\n\n// if (binding.hasVariable('query') && query?.toString()?.trim()) {\n//     // Fields for match_phrase\n//     def matchFields = [\n//         \"properties.storeName\",\n//         // \"properties.storeType\",\n//         // \"properties.shortAddress\",\n//         // \"properties.shortDescription\",\n//         // \"properties.category\"\n//     ]\n\n//     def shouldList = matchFields.collect { field ->\n//         [\"match_phrase\": [(field): query]]\n//     }\n\n//     shouldList << [\n//         \"wildcard\": [\n//             \"properties.offers.discount.__raw__\": \"*\"+query+\"*\"\n//         ]\n//     ]\n\n//     queryObject = [\n//         \"bool\": [\n//             \"should\": shouldList,\n//             \"minimum_should_match\": 1\n//         ]\n//     ]\n// }\n\n// if (binding.hasVariable('query') && query?.toString()?.trim()) {\n//     def pattern = \"*\"+query+\"*\"\n//     queryObject = [\n//         \"bool\": [\n//             \"should\": [\n//                 [\"wildcard\": [\"properties.storeName.keyword\": pattern]],\n//                 [\"wildcard\": [\"properties.storeType.keyword\": pattern]],\n//                 [\"wildcard\": [\"properties.shortAddress.keyword\": pattern]],\n//                 [\"wildcard\": [\"properties.shortDescription.keyword\": pattern]],\n//                 [\"wildcard\": [\"properties.offers.discount.keyword\": pattern]],\n//                 [\"wildcard\": [\"properties.category.keyword\": pattern]]\n//             ],\n//             \"minimum_should_match\": 1\n//         ]\n//     ]\n// }\n\n// if(binding.hasVariable('query')){\n//     queryObject = [\n//         \"multi_match\": [\n//         \"query\": query,\n//         \"fields\": [\n//             \"properties.storeName\",\n//             \"properties.storeType\",\n//             \"properties.shortAddress\",\n//             \"properties.shortDescription\",\n//             \"properties.offers.discount\",\n//             \"properties.category\"\n//         ]\n//         ]\n//     ]\n// }\n\ndef queryObject = null\nif (needQuery) {\n    queryObject = [\"bool\": [:]]\n\n    def mustClauses = []\n\n    if (idQuery != null) mustClauses << idQuery\n\n    if (!mustClauses.isEmpty()) {\n        queryObject.bool[\"must\"] = mustClauses\n    }\n\n    if (filter != null) {\n        queryObject.bool[\"filter\"] = filter\n    }\n}\n\nreturn [\n    \"query\": queryObject,\n    \"sort\": sort ? [sort] : null\n]\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"location":{
						"lat":"{{ n_l93OP.outputs.lat }}",
						"lon":"{{ n_l93OP.outputs.long }}"
					},
					"id":{
						"ua:type":"mappedArray",
						"source":"{{ n_8ed4x.outputs.items }}",
						"items":"{{ n_8ed4x.outputs.items[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":597,
				"resourceName":"storage_by_unifyapps_count_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"_0qnhA",
			"index":16,
			"inputs":{
				"object_type":"offer_near_me_vector_store2"
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Count records",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":162,
				"resourceName":"custom_http_endpoint_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"_8aijN",
			"index":17,
			"inputs":{
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"httpMethod":"POST",
				"body":{
					"size":"{{ n_2dRxC.outputs.size }}",
					"query":"{{ n_lvXll.outputs.result.query }}",
					"sort":{
						"source":"{{ n_lvXll.outputs.result.sort }}",
						"ua:type":"mappedArray",
						"items":"{{ n_lvXll.outputs.result.sort[0] }}"
					}
				},
				"connectionType":"DIRECT",
				"sslVerify":false,
				"path":"/offer_near_me_vector_store_updateds_2/_search?pretty",
				"responseSchema":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"_shards":{
							"type":"object",
							"properties":{
								"total":{
									"type":"integer",
									"title":"total"
								},
								"successful":{
									"type":"integer",
									"title":"successful"
								},
								"skipped":{
									"type":"integer",
									"title":"skipped"
								},
								"failed":{
									"type":"integer",
									"title":"failed"
								}
							},
							"title":"_shards",
							"additionalProperties":false
						},
						"hits":{
							"type":"object",
							"properties":{
								"hits":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"_id":{
												"type":"string",
												"title":"_id"
											},
											"_index":{
												"type":"string",
												"title":"_index"
											},
											"_source":{
												"type":"object",
												"properties":{
													"createdTime":{
														"type":"integer",
														"title":"createdTime"
													},
													"deleted":{
														"type":"boolean",
														"title":"deleted"
													},
													"entityIdentifier":{
														"type":"string",
														"title":"entityIdentifier"
													},
													"entityType":{
														"type":"string",
														"title":"entityType"
													},
													"flattenedGrants":{
														"type":"array",
														"items":{
															"type":"string"
														},
														"title":"flattenedGrants"
													},
													"id":{
														"type":"string",
														"title":"id"
													},
													"lastModifiedBy":{
														"type":"integer",
														"title":"lastModifiedBy"
													},
													"modifiedTime":{
														"type":"integer",
														"title":"modifiedTime"
													},
													"ownerUserId":{
														"type":"integer",
														"title":"ownerUserId"
													},
													"properties":{
														"type":"object",
														"properties":{
															"category":{
																"type":"string",
																"title":"category"
															},
															"description":{
																"type":"string",
																"title":"description"
															},
															"googleMapsLink":{
																"type":"string",
																"title":"googleMapsLink"
															},
															"imageUri":{
																"type":"string",
																"title":"imageUri"
															},
															"infor":{
																"type":"array",
																"items":{
																	"type":"number"
																},
																"title":"infor"
															},
															"instagram":{
																"type":"string",
																"title":"instagram"
															},
															"location":{
																"type":"object",
																"properties":{
																	"lat":{
																		"type":"string",
																		"title":"lat"
																	},
																	"lon":{
																		"type":"string",
																		"title":"lon"
																	}
																},
																"title":"location",
																"additionalProperties":false
															},
															"mobile":{
																"type":"string",
																"title":"mobile"
															},
															"offers":{
																"type":"array",
																"items":{
																	"type":"object",
																	"properties":{
																		"cardType":{
																			"type":"string",
																			"title":"cardType"
																		},
																		"discount":{
																			"type":"string",
																			"title":"discount"
																		}
																	},
																	"additionalProperties":false
																},
																"title":"offers"
															},
															"operational":{
																"type":"boolean",
																"title":"operational"
															},
															"pageSize":{
																"type":"string",
																"title":"pageSize"
															},
															"price":{
																"type":"string",
																"title":"price"
															},
															"rating":{
																"type":"number",
																"title":"rating"
															},
															"reviewCount":{
																"type":"string",
																"title":"reviewCount"
															},
															"shortAddress":{
																"type":"string",
																"title":"shortAddress"
															},
															"shortDescription":{
																"type":"string",
																"title":"shortDescription"
															},
															"storeName":{
																"type":"string",
																"title":"storeName"
															},
															"storeType":{
																"type":"string",
																"title":"storeType"
															},
															"weekdayDescription":{
																"type":"array",
																"items":{
																	"type":"string"
																},
																"title":"weekdayDescription"
															},
															"website":{
																"type":"string",
																"title":"Website"
															}
														},
														"title":"properties",
														"additionalProperties":false,
														"required":[]
													},
													"standard":{
														"type":"boolean",
														"title":"standard"
													},
													"version":{
														"type":"integer",
														"title":"version"
													}
												},
												"title":"_source",
												"additionalProperties":false
											},
											"sort":{
												"type":"array",
												"items":{
													"type":"number"
												},
												"title":"sort"
											}
										},
										"additionalProperties":false
									},
									"title":"hits"
								},
								"total":{
									"type":"object",
									"properties":{
										"value":{
											"type":"integer",
											"title":"value"
										},
										"relation":{
											"type":"string",
											"title":"relation"
										}
									},
									"title":"total",
									"additionalProperties":false
								}
							},
							"title":"hits",
							"additionalProperties":false
						},
						"timed_out":{
							"type":"boolean",
							"title":"timed_out"
						},
						"took":{
							"type":"integer",
							"title":"took"
						}
					}
				},
				"baseUrl":"http://opensearch-app-svc:9200",
				"httpVersion":"HTTP_2",
				"bodySchema":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"size":{
							"type":"integer",
							"title":"size"
						},
						"query":{
							"type":"object",
							"title":"query"
						},
						"sort":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"sort"
						}
					}
				},
				"responseContentType":"application/json",
				"followRedirects":"NORMAL",
				"authType":"CUSTOM",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false,
				"certificateType":"CERT_STRING"
			},
			"skip":false,
			"subTitle":"Custom HTTP Endpoint",
			"title":"Execute REST request",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{},
				"visibleOptionalFields":[
					"root.pageInputs.eventListFiltered.source",
					"root.pageInputs.eventListFiltered.ua:type",
					"root.pageInputs.eventListFiltered.items.eventLocation",
					"root.pageInputs.eventListFiltered.items.eventTimeline",
					"root.pageInputs.eventListFiltered.items.eventTitle",
					"root.pageInputs.eventListFiltered.items.fallbackImageUrl",
					"root.pageInputs.eventListFiltered.items.introText",
					"root.pageInputs.eventListFiltered.items.websiteUrl",
					"root.pageInputs.storeList.source",
					"root.pageInputs.storeList.ua:type",
					"root.pageInputs.storeList.items.storeName",
					"root.pageInputs.storeList.items.distance",
					"root.pageInputs.storeList.items.time",
					"root.pageInputs.storeList.items.location",
					"root.pageInputs.storeList.items.discount",
					"root.pageInputs.storeList.items.desc",
					"root.pageInputs.storeList.items.url",
					"root.pageInputs.storeList.items.close"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":104,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_umrc9",
			"index":18,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"pageInputs":{
							"type":"object",
							"properties":{
								"storeList":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"storeType":{
												"type":"string",
												"title":"storeType"
											},
											"website":{
												"type":"string",
												"title":"website"
											},
											"storeName":{
												"type":"string",
												"title":"storeName"
											},
											"shortAddress":{
												"type":"string",
												"title":"shortAddress"
											},
											"mobile":{
												"type":"string",
												"title":"mobile"
											},
											"rating":{
												"type":"number",
												"title":"rating"
											},
											"description":{
												"type":"string",
												"title":"description"
											},
											"shortDescription":{
												"type":"string",
												"title":"shortDescription"
											},
											"operational":{
												"type":"boolean",
												"title":"operational"
											},
											"googleMapsLink":{
												"type":"string",
												"title":"googleMapsLink"
											},
											"instagram":{
												"type":"string",
												"title":"instagram"
											},
											"imageUri":{
												"type":"string",
												"title":"imageUri"
											},
											"reviewCount":{
												"type":"number",
												"title":"reviewCount"
											},
											"closeTime":{
												"type":"string",
												"title":"closeTime"
											},
											"openTime":{
												"type":"string",
												"title":"openTime"
											},
											"location":{
												"type":"object",
												"properties":{
													"lat":{
														"type":"number",
														"title":"lat"
													},
													"lon":{
														"type":"number",
														"title":"lon"
													}
												},
												"title":"location",
												"additionalProperties":false
											},
											"offers":{
												"type":"array",
												"items":{
													"type":"object",
													"properties":{
														"discountPercentage":{
															"type":"number",
															"title":"discountPercentage"
														},
														"discount":{
															"type":"string",
															"title":"discount"
														},
														"cardType":{
															"type":"string",
															"title":"cardType"
														}
													},
													"additionalProperties":false
												},
												"title":"offers"
											},
											"category":{
												"type":"string",
												"title":"category"
											},
											"price":{
												"type":"string",
												"title":"price"
											},
											"distance":{
												"type":"string",
												"title":"Distance"
											}
										},
										"additionalProperties":false,
										"required":[
											"distance"
										]
									},
									"title":"storeList"
								}
							},
							"title":"pageInputs",
							"additionalProperties":false
						}
					}
				}
			},
			"inputs":{
				"pageInputs":{
					"storeList":{
						"source":"{{ _8aijN.outputs.result.hits.hits }}",
						"ua:type":"mappedArray",
						"items":{
							"storeType":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.storeType }}",
							"website":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.website }}",
							"shortAddress":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.shortAddress }}",
							"mobile":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.mobile }}",
							"rating":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.rating }}",
							"description":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.description }}",
							"shortDescription":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.shortDescription }}",
							"operational":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.operational }}",
							"googleMapsLink":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.googleMapsLink }}",
							"instagram":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.instagram }}",
							"imageUri":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.imageUri }}",
							"reviewCount":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.reviewCount }}",
							"location":{
								"lat":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.location.lat }}",
								"lon":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.location.lon }}"
							},
							"category":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.category }}",
							"price":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.price }}",
							"distance":"{{ _8aijN.outputs.result.hits.hits[0].sort[0] }}",
							"storeName":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.storeName }}",
							"offers":{
								"source":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.offers }}",
								"ua:type":"mappedArray",
								"items":{
									"discount":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.offers[0].discount }}",
									"cardType":"{{ _8aijN.outputs.result.hits.hits[0]._source.properties.offers[0].cardType }}"
								}
							}
						}
					}
				}
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"pageInputs":{
							"type":"object",
							"properties":{
								"storeList":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{
											"storeType":{
												"type":"string",
												"title":"storeType"
											},
											"website":{
												"type":"string",
												"title":"website"
											},
											"storeName":{
												"type":"string",
												"title":"storeName"
											},
											"shortAddress":{
												"type":"string",
												"title":"shortAddress"
											},
											"mobile":{
												"type":"string",
												"title":"mobile"
											},
											"rating":{
												"type":"number",
												"title":"rating"
											},
											"description":{
												"type":"string",
												"title":"description"
											},
											"shortDescription":{
												"type":"string",
												"title":"shortDescription"
											},
											"operational":{
												"type":"boolean",
												"title":"operational"
											},
											"googleMapsLink":{
												"type":"string",
												"title":"googleMapsLink"
											},
											"instagram":{
												"type":"string",
												"title":"instagram"
											},
											"imageUri":{
												"type":"string",
												"title":"imageUri"
											},
											"reviewCount":{
												"type":"number",
												"title":"reviewCount"
											},
											"closeTime":{
												"type":"string",
												"title":"closeTime"
											},
											"openTime":{
												"type":"string",
												"title":"openTime"
											},
											"location":{
												"type":"object",
												"properties":{
													"lat":{
														"type":"number",
														"title":"lat"
													},
													"lon":{
														"type":"number",
														"title":"lon"
													}
												},
												"title":"location",
												"additionalProperties":false
											},
											"offers":{
												"type":"array",
												"items":{
													"type":"object",
													"properties":{
														"discountPercentage":{
															"type":"number",
															"title":"discountPercentage"
														},
														"discount":{
															"type":"string",
															"title":"discount"
														},
														"cardType":{
															"type":"string",
															"title":"cardType"
														}
													},
													"additionalProperties":false
												},
												"title":"offers"
											},
											"category":{
												"type":"string",
												"title":"category"
											},
											"price":{
												"type":"string",
												"title":"price"
											},
											"distance":{
												"type":"string",
												"title":"Distance"
											}
										},
										"additionalProperties":false,
										"required":[
											"distance"
										]
									},
									"title":"storeList"
								}
							},
							"title":"pageInputs",
							"additionalProperties":false
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"conv_ai_by_unifyapps",
				"resourceVersion":41,
				"resourceName":"conv_ai_by_unifyapps_publish_response",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_UOBFb",
			"index":19,
			"inputs":{
				"callableInterfaceId":"__ua__publish_response_interface",
				"defaultFallbackWorkflowId":"66fbed229edc4e0b6303cefd",
				"parameters":{
					"responses":[
						{
							"content":"{{ n_2dRxC.outputs.starterText }}"
						}
					],
					"endConversation":false,
					"caseId":"{{ n_Ny3nr.outputs.caseId }}"
				}
			},
			"skip":true,
			"subTitle":"Conversation AI by UnifyApps",
			"title":"Publish Response",
			"type":"CALL_INTERFACE_WORKFLOW"
		},
		{
			"context":{
				"appName":"conv_ai_by_unifyapps",
				"resourceVersion":50,
				"resourceName":"conv_ai_by_unifyapps_publish_interface",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_8hDiA",
			"index":20,
			"inputs":{
				"callableInterfaceId":"__ua__trigger_interface_by_unifyapps",
				"parameters":{
					"interfaceDescription":"An interface sharing links and buttons to redirect the user to individual DubaiNow services.",
					"caseId":"{{ n_Ny3nr.outputs.caseId }}",
					"interfaceDetails":{
						"interfaceId":"dda-16",
						"pageId":"e_68dd14385e66f5686e67b1e1",
						"pageInputs":"{{ n_umrc9.outputs.pageInputs }}"
					},
					"waitForUserInput":false
				}
			},
			"skip":true,
			"subTitle":"Conversation AI by UnifyApps",
			"title":"Publish Interface",
			"type":"CALL_INTERFACE_WORKFLOW"
		},
		{
			"context":{
				"appName":"conv_ai_by_unifyapps",
				"resourceVersion":41,
				"resourceName":"conv_ai_by_unifyapps_publish_response",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"_dU7U9",
			"index":21,
			"inputs":{
				"callableInterfaceId":"__ua__publish_response_interface",
				"defaultFallbackWorkflowId":"66fbed229edc4e0b6303cefd",
				"parameters":{
					"responses":[
						{
							"content":"{{ n_2dRxC.outputs.endText }}"
						}
					],
					"endConversation":false,
					"caseId":"{{ n_Ny3nr.outputs.caseId }}"
				}
			},
			"skip":true,
			"subTitle":"Conversation AI by UnifyApps",
			"title":"Publish Response",
			"type":"CALL_INTERFACE_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":49,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_fpRSM",
			"index":22,
			"inputs":{
				"automationId":"68036c6fecbd4a4d19aa7fc2",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ n_Ny3nr.outputs.caseId }}"
				}
			},
			"skip":true,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":52,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_zfngo",
			"index":23,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{}
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray",
					"source":"{{ n_8TSHY.outputs.objects }}",
					"items":"{{ n_8TSHY.outputs.objects[0] }}"
				},
				"ua:title":"storesNearMeWithDiscounts",
				"ua:list_type":"STRING"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"storesNearMeWithDiscounts",
							"disableActions":true,
							"items":{
								"type":"string"
							}
						}
					}
				}
			},
			"skip":true,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":95,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_fuF1U",
			"index":24,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"output":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"category":{
										"type":"string",
										"title":"category"
									},
									"closeDay":{
										"type":"string",
										"title":"closeDay"
									},
									"closeTime":{
										"type":"string",
										"title":"closeTime"
									},
									"description":{
										"type":"string",
										"title":"description"
									},
									"distance":{
										"type":"number",
										"title":"distance"
									},
									"googleMapsLink":{
										"type":"string",
										"title":"googleMapsLink"
									},
									"id":{
										"type":"string",
										"title":"id"
									},
									"imageUri":{
										"type":"string",
										"title":"imageUri"
									},
									"infor":{
										"type":"array",
										"items":{
											"type":"number"
										},
										"title":"infor"
									},
									"instagram":{
										"type":"string",
										"title":"instagram"
									},
									"location":{
										"type":"object",
										"properties":{
											"lat":{
												"type":"string",
												"title":"lat"
											},
											"lon":{
												"type":"string",
												"title":"lon"
											}
										},
										"title":"location",
										"additionalProperties":false
									},
									"mobile":{
										"type":"string",
										"title":"mobile"
									},
									"offers":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"cardType":{
													"type":"string",
													"title":"cardType"
												},
												"discount":{
													"type":"string",
													"title":"discount"
												}
											},
											"additionalProperties":false
										},
										"title":"offers"
									},
									"openDay":{
										"type":"string",
										"title":"openDay"
									},
									"openTime":{
										"type":"string",
										"title":"openTime"
									},
									"operational":{
										"type":"boolean",
										"title":"operational"
									},
									"pageSize":{
										"type":"string",
										"title":"pageSize"
									},
									"price":{
										"type":"string",
										"title":"price"
									},
									"rating":{
										"type":"number",
										"title":"rating"
									},
									"reviewCount":{
										"type":"integer",
										"title":"reviewCount"
									},
									"shortAddress":{
										"type":"string",
										"title":"shortAddress"
									},
									"shortDescription":{
										"type":"string",
										"title":"shortDescription"
									},
									"storeName":{
										"type":"string",
										"title":"storeName"
									},
									"storeType":{
										"type":"string",
										"title":"storeType"
									},
									"weekdayDescription":{
										"type":"array",
										"items":{
											"type":"string"
										},
										"title":"weekdayDescription"
									}
								},
								"additionalProperties":false
							},
							"title":"output"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"inputArray"
					],
					"properties":{
						"inputArray":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Input"
						}
					}
				},
				"code":"import java.time.LocalDate\nimport java.time.format.TextStyle\nimport java.util.Locale\n\ndef inputArray = binding.hasVariable('inputArray') ? inputArray : []\ndef output = []\n\n// Get today's weekday name (e.g., \"Monday\")\ndef today = LocalDate.now().getDayOfWeek().getDisplayName(TextStyle.FULL, Locale.ENGLISH)\n\ninputArray.each { obj ->\n    def source = obj?._source ?: [:]\n    def props = source?.properties ?: [:]\n    def weekdays = props[\"weekdayDescription\"] ?: []\n\n    def todayEntry = weekdays.find { it.startsWith(today) }\n    def openTime = null\n    def closeTime = null\n    def openDay = null\n    def closeDay = null\n\n    // --- Handle \"Open 24 hours\" case ---\n    def open24 = weekdays.find { it.toLowerCase().contains(\"open 24 hours\") }\n    if (open24) {\n        openTime = \"Open 24 hours\"\n        closeTime = null\n    } \n    // --- Otherwise extract today's open/close times ---\n    else if (todayEntry) {\n        def parts = todayEntry.split(\": \")[1]\n        def times = parts.split(\"–|to\")\n        if (times.size() >= 2) {\n            openTime = times[0].replaceAll(/[^\\x00-\\x7F]/, '').trim()\n            closeTime = times[1].replaceAll(/[^\\x00-\\x7F]/, '').trim()\n        }\n    }\n\n    // --- Derive openDay & closeDay ---\n    if (weekdays && weekdays.size() > 0) {\n        openDay = weekdays.first().split(\":\")[0].trim()\n        closeDay = weekdays.last().split(\":\")[0].trim()\n    }\n\n    // --- Extract distance from sort array ---\n    def distance = null\n    if (obj?.sort instanceof List && !obj.sort.isEmpty()) {\n        distance = obj.sort[0]\n    }\n\n    // --- Extract ID (prefer _source.id, fallback to _id) ---\n    def id = source?.id ?: obj?._id\n\n    // --- Build flat object ---\n    def flat = [:]\n    flat.putAll(props)\n    flat[\"openTime\"] = openTime\n    flat[\"closeTime\"] = closeTime\n    flat[\"openDay\"] = openDay\n    flat[\"closeDay\"] = closeDay\n    flat[\"distance\"] = distance\n    flat[\"id\"] = id\n\n    output << flat\n}\n\nreturn [output: output]\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"inputArray":{
						"source":"{{ _8aijN.outputs.result.hits.hits }}",
						"ua:type":"mappedArray",
						"items":"{{ _8aijN.outputs.result.hits.hits[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.result.storeList.source",
					"root.result.storeList.ua:type",
					"root.result.storeList.items.category",
					"root.result.storeList.items.closeTime",
					"root.result.storeList.items.description",
					"root.result.storeList.items.googleMapsLink",
					"root.result.storeList.items.imageUri",
					"root.result.storeList.items.instagram",
					"root.result.storeList.items.mobile",
					"root.result.storeList.items.offers.source",
					"root.result.storeList.items.offers.ua:type",
					"root.result.storeList.items.offers.items.cardType",
					"root.result.storeList.items.offers.items.discount",
					"root.result.storeList.items.openTime",
					"root.result.storeList.items.operational",
					"root.result.storeList.items.price",
					"root.result.storeList.items.rating",
					"root.result.storeList.items.shortAddress",
					"root.result.storeList.items.shortDescription",
					"root.result.storeList.items.storeName",
					"root.result.storeList.items.storeType",
					"root.result.storeList.items.website",
					"root.result.storeList.source",
					"root.result.storeList.ua:type",
					"root.result.storeList.items.category",
					"root.result.storeList.items.closeTime",
					"root.result.storeList.items.description",
					"root.result.storeList.items.googleMapsLink",
					"root.result.storeList.items.imageUri",
					"root.result.storeList.items.instagram",
					"root.result.storeList.items.mobile",
					"root.result.storeList.items.offers.source",
					"root.result.storeList.items.offers.ua:type",
					"root.result.storeList.items.offers.items.cardType",
					"root.result.storeList.items.offers.items.discount",
					"root.result.storeList.items.openTime",
					"root.result.storeList.items.operational",
					"root.result.storeList.items.price",
					"root.result.storeList.items.rating",
					"root.result.storeList.items.shortAddress",
					"root.result.storeList.items.shortDescription",
					"root.result.storeList.items.storeName",
					"root.result.storeList.items.storeType",
					"root.result.storeList.items.website",
					"root.result.storeList.source",
					"root.result.storeList.ua:type",
					"root.result.storeList.items.category",
					"root.result.storeList.items.description",
					"root.result.storeList.items.distance",
					"root.result.storeList.items.googleMapsLink",
					"root.result.storeList.items.imageUri",
					"root.result.storeList.items.instagram",
					"root.result.storeList.items.location.lat",
					"root.result.storeList.items.location.lon",
					"root.result.storeList.items.mobile",
					"root.result.storeList.items.offers.source",
					"root.result.storeList.items.offers.ua:type",
					"root.result.storeList.items.offers.items.cardType",
					"root.result.storeList.items.offers.items.discount",
					"root.result.storeList.items.operational",
					"root.result.storeList.items.price",
					"root.result.storeList.items.rating",
					"root.result.storeList.items.shortAddress",
					"root.result.storeList.items.shortDescription",
					"root.result.storeList.items.storeName",
					"root.result.storeList.items.storeType",
					"root.result.storeList.source",
					"root.result.storeList.ua:type",
					"root.result.storeList.items.category",
					"root.result.storeList.items.description",
					"root.result.storeList.items.googleMapsLink",
					"root.result.storeList.items.imageUri",
					"root.result.storeList.items.instagram",
					"root.result.storeList.items.mobile",
					"root.result.storeList.items.offers.source",
					"root.result.storeList.items.offers.ua:type",
					"root.result.storeList.items.offers.items.cardType",
					"root.result.storeList.items.offers.items.discount",
					"root.result.storeList.items.operational",
					"root.result.storeList.items.price",
					"root.result.storeList.items.rating",
					"root.result.storeList.items.shortAddress",
					"root.result.storeList.items.shortDescription",
					"root.result.storeList.items.storeName",
					"root.result.storeList.items.storeType",
					"root.result.storeList.source",
					"root.result.storeList.ua:type",
					"root.result.storeList.items.category",
					"root.result.storeList.items.description",
					"root.result.storeList.items.googleMapsLink",
					"root.result.storeList.items.imageUri",
					"root.result.storeList.items.instagram",
					"root.result.storeList.items.mobile",
					"root.result.storeList.items.offers.source",
					"root.result.storeList.items.offers.ua:type",
					"root.result.storeList.items.offers.items.cardType",
					"root.result.storeList.items.offers.items.discount",
					"root.result.storeList.items.operational",
					"root.result.storeList.items.price",
					"root.result.storeList.items.rating",
					"root.result.storeList.items.shortAddress",
					"root.result.storeList.items.shortDescription",
					"root.result.storeList.items.storeName",
					"root.result.storeList.items.storeType",
					"root.result.storeList.source",
					"root.result.storeList.ua:type",
					"root.result.storeList.items.category",
					"root.result.storeList.items.closeTime",
					"root.result.storeList.items.description",
					"root.result.storeList.items.googleMapsLink",
					"root.result.storeList.items.imageUri",
					"root.result.storeList.items.instagram",
					"root.result.storeList.items.mobile",
					"root.result.storeList.items.offers.source",
					"root.result.storeList.items.offers.ua:type",
					"root.result.storeList.items.offers.items.cardType",
					"root.result.storeList.items.offers.items.discount",
					"root.result.storeList.items.openTime",
					"root.result.storeList.items.operational",
					"root.result.storeList.items.price",
					"root.result.storeList.items.rating",
					"root.result.storeList.items.shortAddress",
					"root.result.storeList.items.shortDescription",
					"root.result.storeList.items.storeName",
					"root.result.storeList.items.storeType",
					"root.result.storeList.source",
					"root.result.storeList.ua:type",
					"root.result.storeList.items.category",
					"root.result.storeList.items.closeTime",
					"root.result.storeList.items.description",
					"root.result.storeList.items.googleMapsLink",
					"root.result.storeList.items.imageUri",
					"root.result.storeList.items.instagram",
					"root.result.storeList.items.mobile",
					"root.result.storeList.items.offers.source",
					"root.result.storeList.items.offers.ua:type",
					"root.result.storeList.items.offers.items.cardType",
					"root.result.storeList.items.offers.items.discount",
					"root.result.storeList.items.openTime",
					"root.result.storeList.items.operational",
					"root.result.storeList.items.price",
					"root.result.storeList.items.rating",
					"root.result.storeList.items.shortAddress",
					"root.result.storeList.items.shortDescription",
					"root.result.storeList.items.storeName",
					"root.result.storeList.items.storeType"
				]
			},
			"context":{
				"appName":"callables",
				"resourceVersion":106,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_gD9nD-1",
			"id":"n_oqCHf",
			"index":25,
			"inputs":{
				"result":{
					"storeList":{
						"ua:type":"mappedArray",
						"items":{
							"offers":{
								"ua:type":"mappedArray",
								"items":{
									"cardType":"{{ n_fuF1U.outputs.result.output[0].offers[0].cardType }}",
									"discount":"{{ n_fuF1U.outputs.result.output[0].offers[0].discount }}"
								},
								"source":"{{ n_fuF1U.outputs.result.output[0].offers }}"
							},
							"location":{
								"lat":"{{ n_fuF1U.outputs.result.storeList[0].location.lat }}",
								"lon":"{{ n_fuF1U.outputs.result.storeList[0].location.lon }}"
							},
							"reviewCount":"{{ n_fuF1U.outputs.result.output[0].reviewCount }}",
							"category":"{{ n_fuF1U.outputs.result.output[0].category }}",
							"closeDay":"{{ n_fuF1U.outputs.result.output[0].closeDay }}",
							"closeTime":"{{ n_fuF1U.outputs.result.output[0].closeTime }}",
							"description":"{{ n_fuF1U.outputs.result.output[0].description }}",
							"distance":"{{ n_fuF1U.outputs.result.output[0].distance }}",
							"googleMapsLink":"{{ n_fuF1U.outputs.result.output[0].googleMapsLink }}",
							"id":"{{ n_fuF1U.outputs.result.output[0].id }}",
							"imageUri":"{{ n_fuF1U.outputs.result.output[0].imageUri }}",
							"instagram":"{{ n_fuF1U.outputs.result.output[0].instagram }}",
							"mobile":"{{ n_fuF1U.outputs.result.output[0].mobile }}",
							"openDay":"{{ n_fuF1U.outputs.result.output[0].openDay }}",
							"openTime":"{{ n_fuF1U.outputs.result.output[0].openTime }}",
							"operational":"{{ n_fuF1U.outputs.result.output[0].operational }}",
							"pageSize":"{{ n_fuF1U.outputs.result.output[0].pageSize }}",
							"price":"{{ n_fuF1U.outputs.result.output[0].price }}",
							"rating":"{{ n_fuF1U.outputs.result.output[0].rating }}",
							"shortAddress":"{{ n_fuF1U.outputs.result.output[0].shortAddress }}",
							"shortDescription":"{{ n_fuF1U.outputs.result.output[0].shortDescription }}",
							"storeName":"{{ n_fuF1U.outputs.result.output[0].storeName }}",
							"storeType":"{{ n_fuF1U.outputs.result.output[0].storeType }}",
							"weekdayDescription":{
								"source":"{{ n_fuF1U.outputs.result.output[0].weekdayDescription }}",
								"ua:type":"mappedArray",
								"items":"{{ n_fuF1U.outputs.result.output[0].weekdayDescription[0] }}"
							}
						},
						"source":"{{ n_fuF1U.outputs.result.output }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":162101,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"version":67
}